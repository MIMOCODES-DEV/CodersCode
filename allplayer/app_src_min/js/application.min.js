var mac_address,user_name,password,api_host_url,device_key,is_trial,expire_date,current_movie,current_season,current_episode,current_series,utilities={getPercentage:function(e,t){return Math.round(e/t*100)},isNewlyAdded:function(e){return Math.floor(Date.now()/1e3)-e<=1296e3},isRecentlyModifiedSeries:function(e){return Math.floor(Date.now()/1e3)-parseInt(e,10)<=1296e3},getTopRatedMovies:function(e){if(e&&0!=e.length){for(var t=e.sort(function(e,t){e=parseFloat(e.rating)||0;return(parseFloat(t.rating)||0)-e}),s=parseFloat(t[0].rating),i=[],a=0;a<t.length&&parseFloat(t[a].rating)==s;a++)i.push(t[a]);if(10<i.length)for(a=i.length-1;0<a;a--){var o=Math.floor(Math.random()*(a+1)),n=i[a];i[a]=i[o],i[o]=n}else if(i.length<10)for(a=i.length;a<10;a++)i.push(e[a]);return i.slice(0,10)}},scrollText:function(e,t,s){var i=t.outerWidth();e.outerWidth()<i&&t.addClass("auto-scroll-text"),s&&s.removeClass("auto-scroll-text")},pickProperties:function(e,t){for(var s={},i=0;i<t.length;i++){var a=t[i];e.hasOwnProperty(a)&&(s[a]=e[a])}return s}},settings={bg_img_url:"",playlist_id:0,playlist:{},vod_sort:"default",series_sort:"default",live_sort:"default",sort_keys:{added:"Added",number:"Number",rating:"Rating",a_z:"A-Z",z_a:"Z-A",name:"Name",default:"Default"},language:"en",time_format:"24",playlist_type:"",subtitle_size:50,initFromLocal:function(){var e,t=localStorage.getItem(storage_id+"bg_img_url"),s=(t&&(this.bg_img_url=t),t=localStorage.getItem(storage_id+"playlist_id"),this.playlist_id=t||0,this);["vod_sort","series_sort","live_sort"].map(function(e){(t=localStorage.getItem(storage_id+e))&&(s[e]=t)}),(t=localStorage.getItem(storage_id+"language"))?this.language=t:void 0!==navigator.language&&(e=navigator.language.split("-"),this.language=e[0]),(t=localStorage.getItem(storage_id+"subtitle_size"))&&(this.subtitle_size=parseInt(t))},saveSettings:function(e,t,s){this[e]=t,"object"!==s&&"array"!==s||(t=JSON.stringify(t)),localStorage.setItem(storage_id+e,t)},resetDefaultValues:function(){this.vod_sort="default",this.series_sort="default",this.live_sort="default",this.language="en",this.playlist_id="",this.time_format="24",this.stream_format="default",this.font_size="normal",this.playlist={},this.subtitle_size=50}},panel_urls=["https://alltvplayer.com/api","https://iptvallplayer.com/api","https://alliptvplay.com/api","https://iptvallplayer.com/api"],time_difference_with_server=0,app_loading=!1,current_route="login-page",default_movie_icon=HOST+"app_src_min/images/default_channel_icon.png",parent_account_password="0000",mac_valid=!0,playlist_urls=[],languages=[],current_words=[],notification={},is_device_low=!1,client_offset=moment(new Date).utcOffset(),storage_id="ALLXLMDMSF_",platform="samsung",samsung_version="1.0.4",lg_version="1.0.0",tmdb_api_key="a3c79068cd6961a3526ba1b516c50c39",tmdb_prefix_url="https://api.themoviedb.org/3",tmdb_img_url="https://image.tmdb.org/t/p/",api_succeed=!1,show_keyboard=!1,prev_focus_dom=null,page_objects={"channel-page":$("#channel-page"),"vod-series-page":$("#vod-series-page"),"vod-summary-page":$("#vod-summary-page"),"series-summary-page":$("#series-summary-page"),"playlist-page":$("#playlists-page"),"playlist-edit-page":$("#playlist-edit-page"),"setting-page":$("#settings-page"),"user-account-page":$("#user-account-page"),"search-page":$("#search-page")},storageMoviesInfo=JSON.parse(localStorage.getItem("ibo-saved-movie-info"))||{};function showLoader(e){(e=void 0===e?!0:e)?$("#loader").show():$("#loader").hide()}function saveData(e,t){window[e]=t}function getMovieUrl(e,t,s){return api_host_url+"/"+t+"/"+user_name+"/"+password+"/"+e+"."+s}function moveScrollPosition(e,t,s,i,a,o){function n(e,t){return parseInt($(e).css(t).replace("px",""))}o=o||!1,$(e).stop();var r,l,c,d=$(t).position();return"vertical"===s?(s=n(e,"height"),l=n(t,"height"),r=0,!i||a?(d.top+l>=s&&(r=d.top+l-s),d.top<0&&(r=d.top),$(e).animate({scrollTop:"+="+r},10,"swing")):(c=d.top+l/2-s/2,$(e).animate({scrollTop:"+="+c},100,"linear")),r):(l=n(e,"width"),s=n(t,"width"),c=0,!i||a?(d.left+s>=l&&(c=d.left+s-l),d.left<0&&!o?c=d.left:d.left<50&&o&&(c=d.left-100)):c=d.left+s/2-l/2,$(e).animate({scrollLeft:"+="+c},100,"linear"),c)}function showToast(e,t){$("#toast-body").html("<h3>"+e+"<br>"+t+"</h3>"),$(".toast").toast({animation:!0,delay:2e3}),$("#toast").toast("show")}function getMinute(e){e=new Date(e);return parseInt(e.getTime()/60/1e3)}function parseM3uResponse(e,t){var s=0;if("type1"===e){var i=[],a=[],o=[],n=[],r=[],l=[],c=(t=t.replace(/['"]+/g,"")).split(/#EXTINF:-{0,1}[0-9]{1,} {0,},{0,}/gm),d=(c.splice(0,1),[]);(new Date).getTime();if(t.includes("tvg-"))for(var _={},h={},m={},u=0;u<c.length;u++)try{var p,g,v,y,d=c[u].split("\n");s++,(f=1<d[1].length?d[1]:"").includes("http:")&&(e="live",(f.includes("/movie/")||f.includes("vod")||f.includes("=movie")||f.includes("==movie=="))&&(e="vod"),f.includes("/series/")&&(e="series"),p=d[0].trim().split(","),k=1<p.length?p[1]:"",g=splitStrings(p[0],["tvg-","channel-","group-"]),b={stream_id:"",name:k,stream_icon:"",title:""},v="All",g.map(function(e){var e=e.split("="),t=e[0],s=e[1];switch(t){case"id":b.stream_id=s;break;case"name":b.name=""!=s.trim()?s:k;break;case"logo":b.stream_icon=s;break;case"title":""==(v=s.split(",")[0])&&(v="Uncategorized")}}),""===b.stream_id.trim()&&(b.stream_id=b.name),b.url=f,b.num=s,"live"===e&&(void 0===_[v]&&(y={category_id:_[v]=v,category_name:v},i.push(y)),b.category_id=v,a.push(b)),"vod"===e&&(void 0===h[v]&&(y={category_id:h[v]=v,category_name:v},n.push(y)),b.category_id=v,o.push(b)),"series"===e)&&(void 0===m[v]&&(y={category_id:m[v]=v,category_name:v},r.push(y)),b.category_id=v,l.push(b))}catch(e){console.log("parsing m3u error "+u,e)}else for(i=[{category_id:"all",category_name:"All"}],n=[{category_id:"all",category_name:"All"}],r=[{category_id:"all",category_name:"All"}],u=0;u<c.length;u++){d=c[u].split("\n");try{var f,k=d[0],e="live",b=((f=d[1]).includes("/movie/")&&(e="movie"),f.includes("/series/")&&(e="series"),{});k=k.trim(),b.stream_id=k,b.name=k,b.stream_icon="",b.num=u+1,b.category_id="all",b.url=f,"live"===e&&a.push(b),"series"===e&&l.push(b),"movie"===e&&o.push(b)}catch(e){console.log(d[0]),console.log(e)}}1<i.length&&i.map(function(e){"All"===e.category_id&&(e.category_name="Uncategorized")}),1<n.length&&n.map(function(e){"All"===e.category_id&&(e.category_name="Uncategorized")}),1<r.length&&r.map(function(e){"All"===e.category_id&&(e.category_name="Uncategorized")}),LiveModel.setCategories(i),LiveModel.setMovies(a),LiveModel.insertMoviesToCategories(),VodModel.setCategories(n),VodModel.setMovies(o),VodModel.insertMoviesToCategories(),SeriesModel.setCategories(r);t=parseSeries(l);SeriesModel.setMovies(t),SeriesModel.insertMoviesToCategories()}}function parseSeries(e){var i=[],o={},n={},r={},a=(e.map(function(e){try{var t=e.name.split(/ S[0-9]{2}/),s=e.name.match(/S[0-9]{2}/)[0],i=(s="Season "+(s=s.trim().replace("S","")),t[0].trim()),a=t[1].trim().replace("E","");void 0===o[i]?(n={},(r={})[s]=[{name:a,url:e.url,id:a,info:{},title:"Episode "+a}],n[s]={name:s,cover:HOST+"app_src_min/images/series-icon.png"},o[i]={series_id:i,name:i,cover:e.stream_icon,youtube_trailer:"",category_id:e.category_id,rating:"",rating_5based:"",genre:"",director:"",cast:"",plot:"",season_map:n,episodes:r}):(void 0===n[s]?(r[s]=[{name:a,url:e.url,id:a,info:{},title:"Episode "+a}],n[s]={name:s,cover:HOST+"app_src_min/images/series-icon.png"},o[i].season_map=n):r[s].push({name:s,url:e.url,id:s,info:{},title:"Episode "+a}),o[i].episodes=r)}catch(e){}}),console.log("Here Series Map",o),0);return Object.keys(o).map(function(e){a++;var t=o[e],s=[];try{Object.keys(t.season_map).map(function(e){s.push(t.season_map[e])})}catch(e){}delete t.season_map,t.num=a,t.seasons=s,i.push(t)}),i}function splitStrings(e,t){for(var s=[],i=0;i<t.length;i++){var a=e.split(t[i]);if(i==t.length-1)for(var o=0;o<a.length;o++)""!=a[o].trim()&&s.push(a[o]);else for(o=0;o<a.length;o++)""!=a[o].trim()&&splitStrings(a[o],t.slice(i+1)).map(function(e){""!==e.trim()&&s.push(e)});return s}}function getAtob(e){var t=e;try{return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}catch(e){}return t}function checkForAdult(e,t,s){var i,a=!1;if("movie"===t){for(var o=0;o<s.length;o++)if(e.category_id==s[o].category_id){i=s[o];break}}else i=e;if(i){for(var n=i.category_name.toLowerCase(),r=["xxx","sex","porn","adult","18+","+18"],o=0;o<r.length;o++)if(n.includes(r[o])){a=!0;break}return a=i.parent_id&&0!=i.parent_id?!0:a}}function pickPanelUrl(s){for(var e,t,i=[],a=(panel_urls.map(function(e,t){s.includes(t)||i.push(e)}),Math.random()),o=1/i.length,n=0;n<i.length;n++)if(n*o<=a&&a<=o*(n+1)){e=i[n],t=n;break}return[t,e]}function getSortedMovies(e,t){var s=[],i="number"===t?"num":"a_z"!==t&&"z_a"!==t?t:"name";if(0==e.length)return e;if(void 0===e[0][i])return e;var a=1;switch(t){case"rating":case"number":case"added":case"last_modified":a=1,"number"===t&&(a=-1),s=e.sort(function(e,t){e=parseFloat(e[i]),isNaN(e)&&(e=0),t=parseFloat(t[i]);return isNaN(t)&&(t=0),a*(e<t?1:t<e?-1:0)});break;case"a_z":case"z_a":case"name":a="a_z"===t||"name"===t?1:-1,s=e.sort(function(e,t){return a*e[i].localeCompare(t[i])});break;case"default":return e}return s}function parseM3uUrl(){var e,t=settings.playlist.url;t.includes("username=")&&t.includes("password=")?settings.playlist_type="xtreme":settings.playlist_type="type1",api_host_url="xtreme"===settings.playlist_type?((e=settings.playlist.url.split("?"))[1].split("&").map(function(e){var e=e.split("="),t=e[0],e=e[1];"username"===t.toLowerCase()&&(user_name=e),"password"===t.toLowerCase()&&(password=e)}),e[0].replace("/get.php","")):t}function makeRearrangeArray(e,t,s){return s<t?e.slice(0,s).concat(e[t]).concat(e.slice(s,t)).concat(e.slice(t+1)):e.slice(0,t).concat(e.slice(t+1,s+1)).concat(e[t]).concat(e.slice(s+1))}function setSelectionRange(t){setTimeout(function(){var e=$(t).val();$(t)[0].setSelectionRange(e.length,e.length)},200)}function exitApp(){"samsung"===platform?tizen.application.getCurrentApplication().exit():window.close()}function getLatestMovies(e){var t=[],s=("channel"===e?t=LiveModel.getCategories(!1,!1):"movie"===e?t=VodModel.getCategories(!1,!1):"series"===e&&(t=SeriesModel.getCategories(!1,!1)),[]);return t.map(function(e){checkForAdult(e,"category",[])||(s=s.concat(e.movies))}),(s=getSortedMovies(s,"added")).slice(0,50)}function getEncryptKey(e){for(var t="";t.length<e;t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890".charAt(62*Math.random()|0));return t}function getEncryptKeyPosition(e){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",s=0;s<t.length;s++)if(t[s]==e)return s}function getEncryptPositionChar(e){return"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890".charAt(e)}function encryptRequest(e){var e=JSON.stringify(e),e=btoa(e),t=parseInt(30*Math.random()),s=(t<20&&(t=20),Math.floor(Math.random()*e.length)),i=(42<=s&&(s=42),getEncryptKey(t)),i=e.slice(0,s).concat(i).concat(e.slice(s));return getEncryptPositionChar(s)+getEncryptPositionChar(t)+i}function decryptResponse(e){var e=e.data,t=getEncryptKeyPosition(e[e.length-2]),s=getEncryptKeyPosition(e[e.length-1]),e=getAtob((e=e.slice(0,e.length-2)).slice(0,t).concat(e.slice(t+s)));return JSON.parse(e)}function changeLocalStorageKeysForPlaylist(e,i){for(var a=[],o=[],n=[],t=localStorage.length-1;0<=t;t--){var r=localStorage.key(t);e.map(function(e,t){var s;r.includes(e)&&r.includes(storage_id)&&(s=localStorage.getItem(r),e=r.replace(e,i[t]),o.push(e),n.push(s),a.push(r))})}a.map(function(e){localStorage.removeItem(e)}),o.map(function(e,t){localStorage.setItem(e,n[t])})}function removeLocalStorageKeysForPlaylist(e){for(var t=[],s=localStorage.length-1;0<=s;s--){var i=localStorage.key(s);e.map(function(e){i.includes(storage_id)&&i.includes(e)&&t.push(i)})}t.map(function(e){localStorage.removeItem(e)})}function checkActivePlaylist(){return!(!settings.playlist_id||0==Object.keys(settings.playlist).length)||(showToast("Sorry","No active playlist now<br>Please select one playlist in change playlist page"),!1)}function checkVerticalMovable(e,t,s,i){var a=s<t&&i<0?!1:!0;return a=(Math.ceil(e/t)-1)*t<=s&&0<i?!1:a}String.prototype.endsWith||(String.prototype.endsWith=function(e){return e=String(e),this.slice(-e.length)===e}),Array.prototype.map||(Array.prototype.map=function(e,t){if(null==this)throw new TypeError("this is null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");for(var s=Object(this),i=s.length>>>0,a=new Array(i),o=0;o<i;o++)o in s&&(a[o]=e.call(t,s[o],o,s));return a}),Array.prototype.includes||(Array.prototype.includes=function(e){return!!~this.indexOf(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(o,n,r){return function(e,t){if(null==this)throw TypeError("Array.prototype.indexOf called on null or undefined");var s=o(this),i=s.length>>>0,a=r(0|t,i);if(a<0)a=n(0,i+a);else if(i<=a)return-1;if(void 0===e){for(;a!==i;++a)if(void 0===s[a]&&a in s)return a}else if(e!=e){for(;a!==i;++a)if(s[a]!=s[a])return a}else for(;a!==i;++a)if(s[a]===e)return a;return-1}}(Object,Math.max,Math.min)),String.prototype.includes||(String.prototype.includes=function(e){return!!~this.indexOf(e)}),String.prototype.padStart||(String.prototype.padStart=function(e,t){return e>>=0,t=String(t||" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))});var media_player,clearCachedMoviesInfo=function(){storageMoviesInfo&&(storageMoviesInfo={},localStorage.removeItem("ibo-saved-movie-info"))};function checkDevicePerformance(i){var e,t={frameThreshold:30,testDuration:500,iterations:1e3};for(e in i=i||{},t)i.hasOwnProperty(e)||(i[e]=t[e]);function a(e){if(r){n++;for(var t=0;t<i.iterations;t++)l.style.transform="rotate("+t+"deg)",Math.sqrt(1e4*Math.random());if(e-o<i.testDuration)requestAnimationFrame(a);else{r=!1;var e=performance.now()-o,s=n/(e/1e3),e=(document.body.removeChild(l),console.log("Performance Test Results:"),console.log("- Frames rendered:",n),console.log("- Time elapsed:",e.toFixed(2)+"ms"),console.log("- Average FPS:",s.toFixed(2)),console.log("- Target FPS:",i.frameThreshold),s>=i.frameThreshold);if(e){is_device_low=false;document.body.classList.add("allow-transition")}else{is_device_low=true;document.body.classList.remove("allow-transition")}console.log("Test passed:",e)}}}var o=performance.now(),n=0,r=!0,l=document.createElement("div");l.style.position="absolute",l.style.left="-9999px",document.body.appendChild(l);requestAnimationFrame(a)}function initKeys(){var e;if("samsung"===platform){var t,s;try{for(s=tizen.tvinputdevice.getSupportedKeys(),t=0;t<s.length;t++)s[t].name,s[t].code,tizen.tvinputdevice.registerKey(s[t].name);tizen.tvinputdevice.unregisterKey("VolumeUp"),tizen.tvinputdevice.unregisterKey("VolumeDown"),tizen.tvinputdevice.unregisterKey("VolumeMute")}catch(e){}e={N1:49,N2:50,N3:51,N4:52,N5:53,N6:54,N7:55,N8:56,N9:57,N0:48,PRECH:10190,VOL_UP:448,VOL_DOWN:447,MUTE:449,CH_UP:427,CH_DOWN:428,TOOLS:10135,ENTER:13,RETURN:10009,INFO:457,EXIT:10182,UP:38,DOWN:40,LEFT:37,RIGHT:39,RED:403,GREEN:404,YELLOW:405,BLUE:406,RW:412,PAUSE:19,FF:417,REC:416,PLAY:415,STOP:413,PLAYPAUSE:10252,MENU:10133,SEARCH:10255,MediaRewind:412,MediaPause:19,MediaFastForward:417,MediaRecord:416,MediaPlay:415,MediaStop:413,MediaPlayPause:10252,MediaTrackPrevious:10232,MediaTrackNext:10233,Source:10072}}else"lg"===platform&&(e={N1:49,N2:50,N3:51,N4:52,N5:53,N6:54,N7:55,N8:56,N9:57,N0:48,PRECH:10190,VOL_UP:448,VOL_DOWN:447,MUTE:449,CH_UP:33,CH_DOWN:34,TOOLS:10135,ENTER:13,RETURN:461,INFO:457,EXIT:10182,UP:38,DOWN:40,LEFT:37,RIGHT:39,RED:403,GREEN:404,YELLOW:405,BLUE:406,RW:412,PAUSE:19,FF:417,REC:416,PLAY:415,STOP:413,PLAYPAUSE:10252,MENU:10133,SEARCH:10255,MediaRewind:412,MediaPause:19,MediaFastForward:417,MediaRecord:416,MediaPlay:415,MediaStop:413,MediaPlayPause:10252,MediaTrackPrevious:10232,MediaTrackNext:10233,Source:10072});window.tvKey=e}function initPlayer(){"samsung"===platform?media_player={videoObj:null,parent_id:"",STATES:{STOPPED:0,PLAYING:1,PAUSED:2,PREPARED:4},current_time:0,init:function(e,t){this.videoObj=null,this.parent_id=t,this.state=this.STATES.STOPPED,this.parent_id=t,this.current_time=0,this.videoObj=document.getElementById(e),$(".video-resolution").text(""),$("#"+this.parent_id).find(".subtitle-container").html(""),$("#"+this.parent_id).find(".subtitle-container").show()},playAsync:function(e){if($("#"+this.parent_id).find(".video-error").hide(),$(".video-loader").show(),!(this.state>this.STATES.STOPPED)){if(!this.videoObj)return 0;try{console.log(e),webapis.avplay.open(e),this.setupEventListeners(),this.setDisplayArea(),webapis.avplay.setBufferingParam("PLAYER_BUFFER_FOR_PLAY","PLAYER_BUFFER_SIZE_IN_SECOND",4);var a=this;webapis.avplay.prepareAsync(function(){$(".video-loader").hide(),a.state=a.STATES.PLAYING,webapis.avplay.play(),$("#"+a.parent_id).find(".video-total-time").text(a.formatTime(webapis.avplay.getDuration()/1e3)),$("#"+a.parent_id).find(".video-error").hide();var e={min:0,max:webapis.avplay.getDuration()/1e3};$("#"+a.parent_id).find(".video-progress-bar-slider").attr(e),$("#"+a.parent_id).find(".video-progress-bar-slider").rangeslider("update",!0),$("#"+a.parent_id).find(".video-current-time").text("00:00"),"vod-series-player-video"===current_route&&vod_series_player_page.showResumeBar();try{var t=webapis.avplay.getCurrentStreamInfo(),s=JSON.parse(t[0].extra_info),i=s.Width+" x "+s.Height;$(".video-resolution").text(i)}catch(e){console.log(e)}},function(){$(".video-loader").hide(),$("#"+a.parent_id).find(".video-error").show()})}catch(e){$(".video-loader").hide(),$("#"+this.parent_id).find(".video-error").show()}}},play:function(){this.state=this.STATES.PLAYING;try{webapis.avplay.play()}catch(e){}},pause:function(){this.state=this.STATES.PAUSED;try{webapis.avplay.pause()}catch(e){}},stop:function(){this.state=this.STATES.STOPPED,webapis.avplay.stop()},close:function(){this.state=this.STATES.STOPPED,webapis.avplay.close()},setDisplayArea:function(){var e=$(this.videoObj).offset().top,t=$(this.videoObj).offset().left,s=parseInt($(this.videoObj).width()),i=parseInt($(this.videoObj).height());webapis.avplay.setDisplayRect(t,e,s,i)},formatTime:function(e){var t=Math.floor(e/3600),s=Math.floor(e/60)%60,e=Math.floor(e)%60;return(t?(t<10?"0":"")+t+":":"")+(s<10?"0":"")+s+":"+(e<10?"0":"")+e},setupEventListeners:function(){var a=this;webapis.avplay.setListener({onbufferingstart:function(){$("#"+a.parent_id).find(".video-loader").show()},onbufferingprogress:function(e){},onbufferingcomplete:function(){$("#"+a.parent_id).find(".video-loader").hide()},onstreamcompleted:function(){$("#"+a.parent_id).find(".video-error").hide(),webapis.avplay.stop(),a.state=a.STATES.STOPPED,$("#"+a.parent_id).find(".progress-amount").css({width:"100%"}),"vod-series-player-video"===current_route&&vod_series_player_page.showNextVideo(1)},oncurrentplaytime:function(e){a.current_time=e,$("#"+a.parent_id).find(".video-error").hide(),"vod-series-player-video"===current_route&&(vod_series_player_page.current_time=e/1e3),0<webapis.avplay.getDuration()&&($("#"+a.parent_id).find(".video-progress-bar-slider").val(e/1e3).change(),$("#"+a.parent_id).find(".video-current-time").html(a.formatTime(e/1e3)),$("#"+a.parent_id).find(".video-progress-bar-slider").val(e/1e3).change())},ondrmevent:function(e,t){},onerror:function(e,t){$("#"+a.parent_id).find(".video-error").show()},onsubtitlechange:function(e,t,s,i){$("#"+a.parent_id).find(".subtitle-container").html(t)}})},onDeviceReady:function(){document.addEventListener("pause",this.onPause),document.addEventListener("resume",this.onResume)},onPause:function(){this.pause()},onResume:function(){this.play()},getSubtitleOrAudioTrack:function(t){var e=[],s="",i="TEXT"===t?"track_lang":"language",a="TEXT"===t?"Subtitle ":"Track ";try{for(var o,n,r=webapis.avplay.getTotalTrackInfo(),l=0;l<r.length;l++)try{r[l].type==t&&(o=JSON.parse(r[l].extra_info),"TEXT"===t||"AUDIO"===t?(n=o[i].trim(),s.includes(n)||""===n?""===n&&(o[i]=a+(l+1),r[l].extra_info=o,e.push(r[l])):(s+=", "+n,o[i]=void 0!==language_codes[n]?language_codes[n]:n,r[l].extra_info=o,e.push(r[l]))):(r[l].extra_info=o,e.push(r[l])))}catch(e){console.log(t,e)}}catch(e){}return e},setSubtitleOrAudioTrack:function(e,t){try{$("#"+this.parent_id+" .subtitle-container").show(),webapis.avplay.setSelectTrack(e,t)}catch(e){}"TEXT"===e&&-1==t&&$("#"+this.parent_id+" .subtitle-container").hide()}}:"lg"===platform&&(media_player={id:"",videoObj:null,parent_id:"",current_time:0,STATES:{STOPPED:0,PLAYING:1,PAUSED:2,PREPARED:4},init:function(e,t){e.includes("-lg")||(e+="-lg"),this.id=e,this.videoObj=null,this.parent_id=t,this.current_time=0,this.state=this.STATES.STOPPED,this.videoObj=document.getElementById(e);var i=this.videoObj,a=this;this.videoObj.addEventListener("error",function(e){console.log("Error"),$("#"+a.parent_id).find(".video-error").show()}),this.videoObj.addEventListener("canplay",function(e){$("#"+a.parent_id).find(".video-error").hide()}),this.videoObj.addEventListener("durationchange",function(e){}),this.videoObj.addEventListener("loadeddata",function(e){var t=parseInt(i.duration),s={min:0,max:t};$("#"+a.parent_id).find(".video-progress-bar-slider").attr(s),$("#"+a.parent_id).find(".video-progress-bar-slider").rangeslider("update",!0),$("#"+a.parent_id).find(".video-total-time").text(a.formatTime(t)),"vod-series-player-video"===current_route&&vod_series_player_page.showResumeBar()}),this.videoObj.ontimeupdate=function(e){var t=a.videoObj.duration,s=a.videoObj.currentTime;0<t&&($("#"+a.parent_id).find(".video-progress-bar-slider").val(s).change(),$("#"+a.parent_id).find(".video-current-time").html(a.formatTime(s)))},this.videoObj.addEventListener("loadedmetadata",function(){}),this.videoObj.addEventListener("waiting",function(e){}),this.videoObj.addEventListener("suspend",function(e){}),this.videoObj.addEventListener("stalled",function(e){console.log("Failed to fetch data, but trying.")}),this.videoObj.addEventListener("ended",function(e){"vod-series-player-video"===current_route&&vod_series_player_page.showNextVideo(1)}),this.videoObj.addEventListener("emptied",function(e){})},playAsync:function(e){try{this.videoObj.pause()}catch(e){}console.log(e);var t=this;for($("#"+this.parent_id).find(".video-error").hide();this.videoObj.firstChild;)this.videoObj.removeChild(this.videoObj.firstChild);this.videoObj.load();var s=document.createElement("source");s.setAttribute("src",e),this.videoObj.appendChild(s),this.videoObj.play(),$("#"+this.parent_id).find(".progress-amount").css({width:0}),s.addEventListener("error",function(e){$("#"+t.parent_id).find(".video-error").show()}),s.addEventListener("emptied",function(e){console.log("Empty"),$("#"+t.parent_id).find(".video-error").show()}),this.state=this.STATES.PLAYING},play:function(){this.state=this.STATES.PLAYING,this.videoObj.play()},setDisplayArea:function(){},pause:function(){this.state=this.STATES.PAUSED;try{this.videoObj.pause()}catch(e){}},close:function(){try{this.videoObj.pause()}catch(e){}this.state=this.STATES.STOPPED},formatTime:function(e){var t=Math.floor(e/3600),s=Math.floor(e/60)%60,e=Math.floor(e)%60;return(t?(t<10?"0":"")+t+":":"")+(s<10?"0":"")+s+":"+(e<10?"0":"")+e},seekTo:function(e){},getSubtitleOrAudioTrack:function(e){e="TEXT"==e?this.videoObj.textTracks:this.videoObj.audioTracks;return e},setSubtitleOrAudioTrack:function(e,t){if("TEXT"==e){for(var s=0;s<this.videoObj.textTracks.length;s++)this.videoObj.textTracks[s].mode="hidden";this.videoObj.textTracks[t].mode="showing"}else{for(s=0;s<this.videoObj.audioTracks.length;s++)this.videoObj.audioTracks[s].enabled=!1;this.videoObj.audioTracks[t].enabled=!0}}})}var VodModel={movies:[],category_name:"vod_categories",favourite_movie_count:200,recent_movie_count:15,movie_key:"stream_id",categories:[],saved_video_times:{},favourite_ids:[],stream_type:"vod",favourite_insert_position:"after",recent_insert_position:"before",init:function(){this.movies=[],this.categories=[]},setCategories:function(e){var t=this.stream_type,s=localStorage.getItem(storage_id+settings.playlist.id+"_saved_"+t+"_times");this.saved_video_times=s?JSON.parse(s):{};var i=null==(i=localStorage.getItem(storage_id+settings.playlist.id+t+"_hiddens"))?[]:JSON.parse(i);e.map(function(e){e.is_hide=i.includes(e.category_id)}),this.categories=e},saveVideoTime:function(e,t,s){var i=this.stream_type,a=this.saved_video_times;a[e.toString()]=[t,s],this.saved_video_times=a,localStorage.setItem(storage_id+settings.playlist.id+"_saved_"+i+"_times",JSON.stringify(a))},removeVideoTime:function(e){var t=this.stream_type,s=this.saved_video_times;delete s[e.toString()],this.saved_video_times=s,localStorage.setItem(storage_id+settings.playlist.id+"_saved_"+t+"_times",JSON.stringify(s))},clearVideoTime:function(){var e=this.stream_type;localStorage.removeItem(storage_id+settings.playlist.id+"_saved_"+e+"_times"),location.reload()},saveHiddenCategories:function(e,t){var s=this.stream_type,i=this.getCategories(!0,!1),a=(i[e].is_hide=t,i[e].category_id),o=JSON.parse(localStorage.getItem(storage_id+settings.playlist.id+s+"_hiddens"));if(null==o&&(o=[]),t&&!o.includes(a))o.push(a);else if(o.includes(a))for(var n=0;n<o.length;n++)if(o[n]==a){o.splice(n,1);break}localStorage.setItem(storage_id+settings.playlist.id+s+"_hiddens",JSON.stringify(o))},getCategories:function(t,s){return this.categories.filter(function(e){return s?!!t||!e.is_hide:t?"favourite"!==e.category_id&&"recent"!==e.category_id:!e.is_hide&&"favourite"!==e.category_id&&"recent"!==e.category_id})},setMovies:function(e){this.movies=e},insertMoviesToCategories:function(){var e=this.stream_type,t=this.movies,s=this.categories,i={category_id:"recent",category_name:"Recently Viewed",parent_id:0,movies:[],is_hide:!1},a={category_id:"favourite",category_name:"Favourites",parent_id:0,movies:[],is_hide:!1},o={category_id:"recommended",category_name:"Recommended",parent_id:0,movies:[],is_hide:!1},n={category_id:"newly_added",category_name:"Newly Added",parent_id:0,movies:[],is_hide:!1},r=(s.push({category_id:"undefined",category_name:"Uncategorized",parent_id:0,movies:[],is_hide:!1}),this.movie_key),l=null==(l=JSON.parse(localStorage.getItem(storage_id+settings.playlist.id+e+"_recent")))?[]:l,c=null==(c=JSON.parse(localStorage.getItem(storage_id+settings.playlist.id+e+"_favourite")))?[]:c;this.favourite_ids=c;for(var d=[],_=[],h={},m=0;m<t.length;m++){var u=t[m];void 0!==u.category_id&&"null"!=u.category_id&&null!=u.category_id||(u.category_id="undefined"),void 0===h[p=u.category_id.toString()]?h[p]=[u]:h[p].push(u),u.is_recent=!1,l.includes(u[r])&&("before"===this.recent_insert_position?d.unshift(u):d.push(u),u.is_recent=!0),c.includes(u[r])&&("before"===this.favourite_insert_position?_.unshift(u):_.push(u))}for(m=0;m<s.length;m++){var p=s[m].category_id.toString();s[m].movies=void 0===h[p]?[]:h[p]}i.movies=d,n.movies=function(e){for(var t=[],s=0;s<e.length;s++)utilities.isNewlyAdded(e[s].added)&&t.push(e[s]);return t}(t),a.movies=_,o.movies=utilities.getTopRatedMovies(t)||[],null==o.movies&&(o.movies=[]),s.unshift(a),s.unshift(i),s.unshift(n),s.unshift(o);for(m=0;m<s.length;m++)if("undefined"===s[m].category_id){0==s[m].movies.length&&s.splice(m,1);break}this.categories=s,this.movies=[]},getRecentOrFavouriteCategoryPosition:function(e){return"favourite"===e?3:2},getRecentOrFavouriteCategory:function(e){e=this.getRecentOrFavouriteCategoryPosition(e);return this.categories[e]},setRecentOrFavouriteMovies:function(e,t){var s=this.stream_type,i=this.getRecentOrFavouriteCategoryPosition(t),a=(this.categories[i].movies=e,this.movie_key),i=e.map(function(e){return e[a]});"favourite"===t&&(this.favourite_ids=i),localStorage.setItem(storage_id+settings.playlist.id+s+"_"+t,JSON.stringify(i))},addRecentOrFavouriteMovie:function(e,t){for(var s,i=this.getRecentOrFavouriteCategory(t).movies,a=!1,o=this.movie_key,n=!1,r=0;r<i.length;r++)if(i[r][o]==e[o]){a=!0;break}return a||("before"===this[t+"_insert_position"]?i.unshift(e):i.push(e),s=this[t+"_movie_count"],i=i.splice(0,s),this.setRecentOrFavouriteMovies(i,t),n=!0),n},removeRecentOrFavouriteMovie:function(e,t){for(var s=this.getRecentOrFavouriteCategory(t).movies,i=this.movie_key,a=!1,o=0;o<s.length;o++)if(s[o][i]==e){s.splice(o,1),a=!0;break}return this.setRecentOrFavouriteMovies(s,t),a}},LiveModel={movies:[],category_name:"live_categories",favourite_movie_count:500,recent_movie_count:15,movie_key:"stream_id",categories:[],programmes:{},movie_saved:!1,programme_saved:!1,favourite_ids:[],stream_type:"live",favourite_insert_position:"after",recent_insert_position:"before",favourite_position:1,recent_position:0,category_orders:[],init:function(){this.movies=[],this.categories=[],this.recent_position=0,this.favourite_position=1},setCategories:function(e){var t=this.stream_type,s=null==(s=localStorage.getItem(storage_id+settings.playlist.id+t+"_hiddens"))?[]:JSON.parse(s);e.map(function(e){e.is_hide=s.includes(e.category_id)}),this.categories=e},saveHiddenCategories:function(e,t){var s=this.stream_type,i=this.getCategories(!0,!1),a=(i[e].is_hide=t,i[e].category_id),o=JSON.parse(localStorage.getItem(storage_id+settings.playlist.id+s+"_hiddens"));if(null==o&&(o=[]),t&&!o.includes(a))o.push(a);else if(o.includes(a))for(var n=0;n<o.length;n++)if(o[n]==a){o.splice(n,1);break}localStorage.setItem(storage_id+settings.playlist.id+s+"_hiddens",JSON.stringify(o))},getCategories:function(t,s){return this.categories.filter(function(e){return s?!!t||!e.is_hide:t?"favourite"!==e.category_id&&"recent"!==e.category_id:!e.is_hide&&"favourite"!==e.category_id&&"recent"!==e.category_id})},setMovies:function(e){this.movies=e},insertMoviesToCategories:function(){var e=(e=localStorage.getItem(storage_id+settings.playlist.id+"_category_orders"))?JSON.parse(e):[];this.category_orders=e;var t=(t=localStorage.getItem(storage_id+settings.playlist.id+"_channel_orders"))?JSON.parse(t):{},s=this.stream_type,i=this.movies,a=this.categories,o={category_id:"recent",category_name:"Recently Viewed",parent_id:0,movies:[],is_hide:!1},n={category_id:"favourite",category_name:"Favourites",parent_id:0,movies:[],is_hide:!1},r=(a.push({category_id:"undefined",category_name:"Uncategorized",parent_id:0,movies:[],is_hide:!1}),this.movie_key),l=null==(l=JSON.parse(localStorage.getItem(storage_id+settings.playlist.id+s+"_recent")))?[]:l,c=null==(c=JSON.parse(localStorage.getItem(storage_id+settings.playlist.id+s+"_favourite")))?[]:c;this.favourite_ids=c;for(var d=[],_=[],h={},m=0;m<i.length;m++){var u=i[m];void 0!==u.category_id&&"null"!=u.category_id&&null!=u.category_id||(u.category_id="undefined"),void 0===h[p=u.category_id.toString()]?h[p]=[u]:h[p].push(u),u.is_recent=!1,l.includes(u[r])&&("before"===this.recent_insert_position?d.unshift(u):d.push(u),u.is_recent=!0),c.includes(u[r])&&("before"===this.favourite_insert_position?_.unshift(u):_.push(u))}for(m=0;m<a.length;m++){var p,i=h[p=a[m].category_id.toString()]||[];a[m].movies=i}o.movies=d,n.movies=_,a.unshift(n),a.unshift(o);for(m=0;m<a.length;m++)if("undefined"===a[m].category_id){a[m].movies&&0==a[m].movies.length&&a.splice(m,1);break}for(m=0;m<e.length;m++)for(v=0;v<a.length;v++)if(e[m].id==a[v].category_id){a=makeRearrangeArray(a,v,e[m].position);break}for(m=0;m<a.length;m++)if("favourite"==a[m].category_id&&(this.favourite_position=m),"recent"==a[m].category_id&&(this.recent_position=m),t[a[m].category_id]){for(var g=t[a[m].category_id],i=a[m].movies,v=0;v<g.length;v++)for(var y=0;y<i.length;y++)if(g[v].id==i[y].stream_id&&g[v].name==i[y].name){i=makeRearrangeArray(i,y,g[v].position);break}a[m].movies=i}this.categories=a,this.movies=[]},updateRecentAndFavouritePosition:function(){for(var e=this.categories,t=0;t<e.length;t++)"favourite"===e[t].category_id&&(this.favourite_position=t),"recent"===e[t].category_id&&(this.recent_position=t)},getRecentOrFavouriteCategoryPosition:function(e){return this[e+"_position"]},getRecentOrFavouriteCategory:function(e){e=this.getRecentOrFavouriteCategoryPosition(e);return this.categories[e]},setRecentOrFavouriteMovies:function(e,t){var s=this.stream_type,i=this.getRecentOrFavouriteCategoryPosition(t),a=(this.categories[i].movies=e,this.movie_key),i=e.map(function(e){return e[a]});"favourite"===t&&(this.favourite_ids=i),localStorage.setItem(storage_id+settings.playlist.id+s+"_"+t,JSON.stringify(i))},addRecentOrFavouriteMovie:function(e,t){for(var s,i=this.getRecentOrFavouriteCategory(t).movies,a=!1,o=this.movie_key,n=!1,r=0;r<i.length;r++)if(i[r][o]==e[o]){a=!0;break}return a||("before"===this[t+"_insert_position"]?i.unshift(e):i.push(e),s=this[t+"_movie_count"],i=i.splice(0,s),this.setRecentOrFavouriteMovies(i,t),n=!0),n},removeRecentOrFavouriteMovie:function(e,t){for(var s=this.getRecentOrFavouriteCategory(t).movies,i=this.movie_key,a=!1,o=0;o<s.length;o++)if(s[o][i]==e){s.splice(o,1),a=!0;break}return this.setRecentOrFavouriteMovies(s,t),a},getProgrammeVideoUrl:function(e,t){var s=moment(t.start).format("Y-MM-DD:HH-mm"),t=getMinute(t.stop)-getMinute(t.start);return{duration:t,url:api_host_url+"/streaming/timeshift.php?username="+user_name+"&password="+password+"&stream="+e+"&start="+s+"&duration="+t}},getNextProgrammes:function(e){for(var t="Y-MM-DD HH:mm",s=("12"===settings.time_format&&(t="Y-MM-DD hh:mm A"),!1),i=[],a=moment(new Date).unix(),o=0,n=0;n<e.length;n++){var r,l=getLocalChannelTime(e[n].stop);if(a<=l.unix()&&(o++,r=getLocalChannelTime(e[n].start),!s&&r.unix()<=a&&(s=!0),i.push({title:e[n].title,start:r.format(t),stop:l.format(t)})),4<=o)break}return{current_program_exist:s,programmes:i}}},SeriesModel={movies:[],favourite_movie_count:200,recent_movie_count:15,movie_key:"series_id",categories:[],saved_video_times:{},favourite_ids:[],stream_type:"series",favourite_insert_position:"after",recent_insert_position:"before",init:function(){this.movies=[],this.categories=[]},setCategories:function(e){var t=this.stream_type,s=localStorage.getItem(storage_id+settings.playlist.id+"_saved_"+t+"_times");this.saved_video_times=s?JSON.parse(s):{};var i=null==(i=localStorage.getItem(storage_id+settings.playlist.id+t+"_hiddens"))?[]:JSON.parse(i);e.map(function(e){e.is_hide=i.includes(e.category_id)}),this.categories=e},saveVideoTime:function(e,t,s,i,a){var o=this.stream_type,n=this.saved_video_times;n[a.toString()]||(n[a.toString()]={}),n[a.toString()].series_progress=i,n[a.toString()][e.toString()]=[t,s],n[a.toString()].latest_episode=e,this.saved_video_times=n,localStorage.setItem(storage_id+settings.playlist.id+"_saved_"+o+"_times",JSON.stringify(n))},removeVideoTime:function(e){var t=this.stream_type,s=this.saved_video_times;delete s[e.toString()],this.saved_video_times=s,localStorage.setItem(storage_id+settings.playlist.id+"_saved_"+t+"_times",JSON.stringify(s))},clearVideoTime:function(){var e=this.stream_type;localStorage.removeItem(storage_id+settings.playlist.id+"_saved_"+e+"_times"),location.reload()},saveHiddenCategories:function(e,t){var s=this.stream_type,i=this.getCategories(!0,!1),a=(i[e].is_hide=t,i[e].category_id),o=JSON.parse(localStorage.getItem(storage_id+settings.playlist.id+s+"_hiddens"));if(null==o&&(o=[]),t&&!o.includes(a))o.push(a);else if(o.includes(a))for(var n=0;n<o.length;n++)if(o[n]==a){o.splice(n,1);break}localStorage.setItem(storage_id+settings.playlist.id+s+"_hiddens",JSON.stringify(o))},getCategories:function(t,s){return this.categories.filter(function(e){return s?!!t||!e.is_hide:t?"favourite"!==e.category_id&&"recent"!==e.category_id:!e.is_hide&&"favourite"!==e.category_id&&"recent"!==e.category_id})},setMovies:function(e){this.movies=e},insertMoviesToCategories:function(){var e=this.stream_type,t=this.movies,s=this.categories,i={category_id:"recent",category_name:"Recently Viewed",parent_id:0,movies:[],is_hide:!1},a={category_id:"favourite",category_name:"Favourites",parent_id:0,movies:[],is_hide:!1},o={category_id:"recommended",category_name:"Recommended",parent_id:0,movies:[],is_hide:!1},n={category_id:"newly_added",category_name:"Newly Added/Updated",parent_id:0,movies:[],is_hide:!1},r=(s.push({category_id:"undefined",category_name:"Uncategorized",parent_id:0,movies:[],is_hide:!1}),this.movie_key),l=null==(l=JSON.parse(localStorage.getItem(storage_id+settings.playlist.id+e+"_recent")))?[]:l,c=null==(c=JSON.parse(localStorage.getItem(storage_id+settings.playlist.id+e+"_favourite")))?[]:c;this.favourite_ids=c;for(var d=[],_=[],h={},m=0;m<t.length;m++){var u=t[m];void 0!==u.category_id&&"null"!=u.category_id&&null!=u.category_id||(u.category_id="undefined"),void 0===h[p=u.category_id.toString()]?h[p]=[u]:h[p].push(u),u.is_recent=!1,l.includes(u[r])&&("before"===this.recent_insert_position?d.unshift(u):d.push(u),u.is_recent=!0),c.includes(u[r])&&("before"===this.favourite_insert_position?_.unshift(u):_.push(u))}for(m=0;m<s.length;m++){var p=s[m].category_id.toString();s[m].movies=void 0===h[p]?[]:h[p]}i.movies=d,a.movies=_,n.movies=function(e){for(var t=[],s=0;s<e.length;s++)utilities.isRecentlyModifiedSeries(e[s].last_modified)&&t.push(e[s]);return t}(t)||[],o.movies=utilities.getTopRatedMovies(t)||[],null==o.movies&&(o.movies=[]),s.unshift(a),s.unshift(i),s.unshift(n),s.unshift(o);for(m=0;m<s.length;m++)if("undefined"===s[m].category_id){0==s[m].movies.length&&s.splice(m,1);break}this.categories=s,this.movies=[]},getRecentOrFavouriteCategoryPosition:function(e){return"favourite"===e?3:2},getRecentOrFavouriteCategory:function(e){e=this.getRecentOrFavouriteCategoryPosition(e);return this.categories[e]},setRecentOrFavouriteMovies:function(e,t){var s=this.stream_type,i=this.getRecentOrFavouriteCategoryPosition(t),a=(this.categories[i].movies=e,this.movie_key),i=e.map(function(e){return e[a]});"favourite"===t&&(this.favourite_ids=i),localStorage.setItem(storage_id+settings.playlist.id+s+"_"+t,JSON.stringify(i))},addRecentOrFavouriteMovie:function(e,t){for(var s,i=this.getRecentOrFavouriteCategory(t).movies,a=!1,o=this.movie_key,n=!1,r=0;r<i.length;r++)if(i[r][o]==e[o]){a=!0;break}return a||("before"===this[t+"_insert_position"]?i.unshift(e):i.push(e),s=this[t+"_movie_count"],i=i.splice(0,s),this.setRecentOrFavouriteMovies(i,t),n=!0),n},removeRecentOrFavouriteMovie:function(e,t){for(var s=this.getRecentOrFavouriteCategory(t).movies,i=this.movie_key,a=!1,o=0;o<s.length;o++)if(s[o][i]==e){s.splice(o,1),a=!0;break}return this.setRecentOrFavouriteMovies(s,t),a}},playlist_page={initiated:!1,keys:{focused_part:"playlist_selection",playlist_selection:0,color_btn_selection:0,current_playlist_index:0},playlist_doms:[],color_btns_doms:$(".playlist-page-top-right-item"),back_btn_dom:null,is_loading:!1,tried_panel_indexes:[],init:function(){var i,a,o=this;console.log("NOTIFICATION",notification),$("#notification-title").html(notification.title),$("#notification-content").html(notification.content),$("#movie-image-container").hide(),$(".page-top-right-item").hide(),$(".channel-page-top-right-item").hide(),$("#movie-image-overlay").hide(),$(".add-icon").css("display","inline-flex"),$(".delete-icon").css("display","inline-flex"),$(".refresh-icon").css("display","inline-flex"),this.tried_panel_indexes=[],this.initiated||(i="",a=settings.playlist_id,playlist_urls.map(function(e,t){var s=a===e.id;s&&(o.keys.current_playlist_index=t),i+='<div class="playlist-item-container"                       onmouseenter="playlist_page.hoverPlayListItem('+t+', true)"                       onclick="playlist_page.changePlaylist('+t+')"                   >                       <div class="playlist-item-wrapper '+(s?"active-current-play":"")+'">                       <svg class="active-playlist-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.07 19.8201C18.88 19.8201 18.69 19.7501 18.54 19.6001C18.25 19.3101 18.25 18.8301 18.54 18.5401C22.15 14.9301 22.15 9.06012 18.54 5.46012C18.25 5.17012 18.25 4.69012 18.54 4.40012C18.83 4.11012 19.31 4.11012 19.6 4.40012C23.79 8.59012 23.79 15.4101 19.6 19.6001C19.45 19.7501 19.26 19.8201 19.07 19.8201Z" fill="#5FFF77"/><path d="M4.93007 19.8201C4.74007 19.8201 4.55007 19.7501 4.40007 19.6001C0.210068 15.4101 0.210068 8.59012 4.40007 4.40012C4.69007 4.11012 5.17007 4.11012 5.46007 4.40012C5.75007 4.69012 5.75007 5.17012 5.46007 5.46012C1.85007 9.07012 1.85007 14.9401 5.46007 18.5401C5.75007 18.8301 5.75007 19.3101 5.46007 19.6001C5.31007 19.7501 5.12007 19.8201 4.93007 19.8201Z" fill="#5FFF77"/><path d="M12 22.71C10.75 22.7 9.56 22.5 8.45 22.11C8.06 21.97 7.85 21.54 7.99 21.15C8.13 20.76 8.55 20.55 8.95 20.69C9.91 21.02 10.93 21.2 12.01 21.2C13.08 21.2 14.11 21.02 15.06 20.69C15.45 20.56 15.88 20.76 16.02 21.15C16.16 21.54 15.95 21.97 15.56 22.11C14.44 22.5 13.25 22.71 12 22.71Z" fill="#5FFF77"/><path d="M15.3 3.34004C15.22 3.34004 15.13 3.33004 15.05 3.30004C14.1 2.96004 13.07 2.79004 12 2.79004C10.93 2.79004 9.91 2.97004 8.95 3.30004C8.55 3.43004 8.13 3.23004 7.99 2.84004C7.85 2.45004 8.06 2.02004 8.45 1.88004C9.57 1.49004 10.76 1.29004 12 1.29004C13.24 1.29004 14.44 1.49004 15.55 1.88004C15.94 2.02004 16.15 2.45004 16.01 2.84004C15.9 3.15004 15.61 3.34004 15.3 3.34004Z" fill="#5FFF77"/><path d="M8.73999 12.0001V10.3301C8.73999 8.25014 10.21 7.40014 12.01 8.44014L13.46 9.28014L14.91 10.1201C16.71 11.1601 16.71 12.8601 14.91 13.9001L13.46 14.7401L12.01 15.5801C10.21 16.6201 8.73999 15.7701 8.73999 13.6901V12.0001Z" fill="#5FFF77"/></svg>                       <div class="playlist-img-wrapper"><img src="'+HOST+'app_src_min/images/top-menu-logo.svg" /></div>                           <span class="playlist-name">'+e.playlist_name+"</span></div>                    </div>"}),this.initiated=!0,$("#playlist-items-container").html(i),this.playlist_doms=$(".playlist-item-wrapper"),this.back_btn_dom=$("#playlist-back-icon")),top_menu_page.sub_route="playlist-page",$(".home-page-sub-container").addClass("hide"),$("#playlists-page").removeClass("hide"),$("#menu-container").removeClass("is-home"),this.hoverPlayListItem(this.keys.current_playlist_index)},hoverColorButton:function(e){var t=this.keys;t.focused_part="color_btns_selection",t.color_btn_selection=e,$(prev_focus_dom).removeClass("active"),$(this.color_btns_doms).removeClass("active"),$(this.color_btns_doms[e]).addClass("active")},clickColorButton:function(e){switch(e=void 0===e?this.keys.color_btn_selection:e){case 0:this.showPlayListEditPage();break;case 1:this.removePlayList();break;case 2:window.location.reload()}},hoverPlayListItem:function(e,t){t=t||!1,top_menu_page.closeSideBar(),console.log("IS mouse hover?",t),$(this.color_btns_doms).removeClass("active");var s=this.keys;s.focused_part="playlist_selection",current_route="playlist-page",$(home_page.menu_doms).removeClass("active"),s.playlist_selection=e,$(prev_focus_dom).removeClass("active"),$(this.playlist_doms[e]).addClass("active"),prev_focus_dom=this.playlist_doms[e],t||moveScrollPosition($("#playlist-items-container"),this.playlist_doms[e],"horizontal",!0,t,1e3)},hoverAddBtn:function(){this.keys.focused_part="add_btn",current_route="playlist-page",$(prev_focus_dom).removeClass("active"),$(".add-playlist-btn").addClass("active"),prev_focus_dom=$(".add-playlist-btn")},changePlaylist:function(e){$(this.color_btns_doms).hide();var t=playlist_urls[e];"playlist-page"==current_route&&($(home_page.menu_doms).removeClass("active"),$(".playlist-item-wrapper").removeClass("active-current-play"),$(this.playlist_doms[e]).addClass("active-current-play"),$(this.playlist_doms).removeClass("active"),settings.saveSettings("playlist_id",t.id,""),settings.saveSettings("playlist",t,"array"),current_route="login-page",$("#app").hide(),$("#loading-page").removeClass("hide"),parseM3uUrl(),login_page.proceed_login())},showPlayListEditPage:function(){playlist_edit_page.init("playlist-page")},removePlayList:function(){0!=playlist_urls.length&&(1==playlist_urls.length?showToast("Sorry","You need to have 1 playlist at least"):0<playlist_urls.length&&(showLoader(!0),this.is_loading=!0,this.proceedRemovingWithServer()))},proceedRemovingWithServer:function(){var e,t,s,i,a=this.keys,a=playlist_urls[a.playlist_selection];a.id.includes("non_saved")?this.playlistRemoved(!0):(a=encryptRequest({mac_address:mac_address,app_type:platform,remove_ids:[a.id]}),t=(e=pickPanelUrl(this.tried_panel_indexes))[1],s=e[0],i=this,$.ajax({method:"post",url:t+"/update_playlist",data:{data:a},success:function(e){i.tried_panel_indexes=[],i.playlistRemoved(!0)},error:function(){i.tried_panel_indexes.push(s),i.tried_panel_indexes.length<panel_urls.length?i.proceedRemovingWithServer():i.playlistRemoved(!1)}}))},playlistRemoved:function(e){var t=this.keys,s=playlist_urls[t.playlist_selection].id,i=(playlist_urls.splice(t.playlist_selection,1),settings.playlist_id===s&&(settings.saveSettings("playlist_id","",""),settings.saveSettings("playlist",{},"array")),removeLocalStorageKeysForPlaylist([s]),localStorage.getItem(storage_id+"local_data"));(i=i?JSON.parse(i):{}).playlist_urls||(i.playlist_urls=[]),i.remove_ids||(i.remove_ids=[]);for(var a=localStorage.getItem(storage_id+"api_data"),o=(a&&((a=JSON.parse(a)).urls=playlist_urls,localStorage.setItem(storage_id+"api_data",JSON.stringify(a))),i.playlist_urls),n=0;n<o.length;n++)if(o[n].id==s){o.splice(n,1);break}i.playlist_urls=o,e||(a=i.remove_ids).includes(s)||a.push(s),localStorage.setItem(storage_id+"local_data",JSON.stringify(i)),showLoader(!1),this.is_loading=!1,$(this.playlist_doms[t.playlist_selection]).remove();e=t.playlist_selection;this.initiated=!1,this.init(),e>=this.playlist_doms.length&&(e=this.playlist_doms.length-1),this.hoverPlayListItem(e)},handleMenuClick:function(){var e=this.keys;switch(e.focused_part){case"playlist_selection":$(this.playlist_doms[e.playlist_selection]).trigger("click");break;case"activation_btn":activation_page.init("playlist-page");break;case"add_btn":this.showPlayListEditPage();break;case"color_btns_selection":this.clickColorButton(e.color_btn_selection)}},handleMenuLeftRight:function(e){var t=this.keys;switch(t.focused_part){case"playlist_selection":0==t.playlist_selection&&e<0?this.hoverAddBtn():(t.playlist_selection+=e,t.playlist_selection>=this.playlist_doms.length&&(t.playlist_selection=this.playlist_doms.length-1),this.hoverPlayListItem(t.playlist_selection));break;case"add_btn":e<0?top_menu_page.hoverSideBar(top_menu_page.keys.side_bar_selection):this.hoverPlayListItem(0);break;case"color_btns_selection":t.color_btn_selection+=e,t.color_btn_selection>=this.color_btns_doms.length&&(t.color_btn_selection=this.color_btns_doms.length-1),t.color_btn_selection<0&&(t.color_btn_selection=0),this.hoverColorButton(t.color_btn_selection)}},handleMenusUpDown:function(e){var t=this.keys;switch(t.focused_part){case"playlist_selection":case"add_btn":e<0?top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection):this.hoverColorButton(t.color_btn_selection);break;case"color_btns_selection":e<0&&this.hoverPlayListItem(t.playlist_selection)}},goBack:function(){top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection)},HandleKey:function(e){if(this.is_loading)e.keyCode==tvKey.RETURN&&(showLoader(!1),this.is_loading=!1,this.goBack());else switch(e.keyCode){case tvKey.RETURN:this.goBack();break;case tvKey.LEFT:this.handleMenuLeftRight(-1);break;case tvKey.RIGHT:this.handleMenuLeftRight(1);break;case tvKey.UP:this.handleMenusUpDown(-3);break;case tvKey.DOWN:this.handleMenusUpDown(3);break;case tvKey.ENTER:this.handleMenuClick();break;case tvKey.BLUE:this.showPlayListEditPage();break;case tvKey.RED:this.removePlayList();break;case tvKey.GREEN:window.location.reload()}}},login_page={is_loading:!1,keys:{focused_part:"main_area",main_area:0,network_issue_btn:0,expired_issue_btn:0,no_playlist_btn:0},login_succeed:!1,tried_panel_indexes:[],network_issue_btns:$(".network-issue-btn"),expired_issue_btns:$(".expired-issue-btn"),no_playlist_btns:$(".no-playlist-btn"),goBack:function(){turn_off_page.init("login-page")},showLoadImage:function(){$("#loading-issue-container").hide(),$("#loading-page").removeClass("hide")},showLoginError:function(){$(".loading-issue-item").addClass("hide"),$("#loading-issue-container").show()},showNetworkErrorModal:function(){this.showLoginError(),$("#network-issue-container").removeClass("hide"),this.hoverNetworkIssueBtn(0)},reloadApp:function(){var e=this;$("#loading-issue-container").hide(),$(".loading-issue-item").addClass("hide"),setTimeout(function(){e.fetchPlaylistInformation()},200)},continueDemoPlaylist:function(){var e=this;$("#loading-issue-container").hide(),$(".loading-issue-item").addClass("hide"),setTimeout(function(){e.login()},200)},exit:function(){exitApp()},enterActivationPage:function(){activation_page.init("login-page")},syncWithServer:function(r){var e,t,s,i,l,c,d=localStorage.getItem(storage_id+"local_data");d&&((d=JSON.parse(d)).playlist_urls&&0<d.playlist_urls.length||d.remove_ids&&0<d.remove_ids.length)?(e=(e=d.playlist_urls)||[],c=(c=d.remove_ids)||[],api_succeed?(t=(i=pickPanelUrl(this.tried_panel_indexes))[1],s=i[0],i=encryptRequest({mac_address:mac_address,app_type:platform,playlists:e,remove_ids:c}),l=this,$.ajax({method:"post",url:t+"/update_playlist",data:{data:i},success:function(e){l.tried_panel_indexes=[];for(var t=decryptResponse(e),s=[],i=[],a=0;a<t.length;a++)t[a].id!=t[a].origin_id&&(s.push(t[a].id),i.push(t[a].origin_id),settings.playlist_id===t[a].origin_id)&&settings.saveSettings("playlist_id",t[a].id,"");0<s.length&&changeLocalStorageKeysForPlaylist(i,s);for(var o=r.urls,a=o.length-1;0<=a;a--)for(var n=0;n<t.length;n++)if(o[a].id==t[n].id){o.splice(a,1);break}for(a=(o=o.concat(t)).length-1;0<=a;a--)c.includes(o[a].id)&&o.splice(a,1);r.urls=o,localStorage.setItem(storage_id+"api_data",JSON.stringify(r)),d.playlist_urls=[],d.remove_ids=[],localStorage.setItem(storage_id+"local_data",JSON.stringify(d)),l.loadApp(r)},error:function(){l.is_loading=!1,l.tried_panel_indexes.push(s),l.tried_panel_indexes.length<panel_urls.length?l.syncWithServer(r):l.syncFailedWithServer(r,d)}})):this.syncFailedWithServer(r,d)):this.loadApp(r)},syncFailedWithServer:function(e,t){for(var s=(s=t.playlist_urls)||[],i=(i=t.remove_ids)||[],a=e.urls,o=a.length-1;0<=o;o--)for(var n=0;n<s.length;n++)if(a[o].id==s[n].id){a.splice(o,1);break}for(o=(a=a.concat(s)).length-1;0<=o;o--)i.includes(a[o].id)&&a.splice(o,1);t.remove_ids=i=[],localStorage.setItem("local_data",JSON.stringify(t)),e.urls=a,this.loadApp(e)},fetchPlaylistInformation:function(){var s,e,i,t;this.is_loading||(api_succeed=!0,this.showLoadImage(),(s=this).is_loading=!0,$("#mac-address").text(mac_address),$(".mac-address").text(mac_address),e=(t=pickPanelUrl(this.tried_panel_indexes))[1],i=t[0],t=encryptRequest({mac_address:mac_address,app_type:platform,version:"samsung"===platform?samsung_version:lg_version}),$.ajax({url:e+"/playlist_info",type:"POST",data:{data:t},success:function(e){s.tried_panel_indexes=[];e=decryptResponse(e);console.log("DECRYPTED DATA",e),localStorage.setItem(storage_id+"api_data",JSON.stringify(e)),s.syncWithServer(e)},error:function(e){var t;saveData("api_succeed",s.is_loading=!1),s.tried_panel_indexes.length<panel_urls.length?(s.tried_panel_indexes.push(i),s.fetchPlaylistInformation()):(t=localStorage.getItem(storage_id+"api_data"))?(t=JSON.parse(t),s.syncWithServer(t)):s.showNetworkErrorModal()}}))},loadApp:function(e){var t=moment().format("Y-MM-DD");saveData("playlist_urls",e.urls),saveData("notification",e.notification),$(".device-key").text(e.device_key),$(".loading-page-device-info-container").css("display","flex"),saveData("languages",e.languages),saveData("device_key",e.device_key),saveData("expire_date",e.expire_date),!api_succeed&&e.expire_date<t&&saveData("expire_date","2438-01-02"),saveData("is_trial",e.is_trial),2==is_trial&&$(user_account_page.activation_btn).hide(),this.is_loading=!1,$(".expire-date").text(expire_date),e.expire_date<t?(saveData("mac_valid",!1),this.showLoginError(),$("#expired-issue-container").removeClass("hide"),this.hoverExpiredIssueBtn(0)):e.has_own_playlist?this.login():(this.showLoginError(),$("#no-playlist-issue-container").removeClass("hide"),this.hoverNoPlaylistBtn(0))},getPlayListDetail:function(){var i=this;if(mac_address="52:54:00:12:34:82","samsung"===platform)try{tizen.systeminfo.getPropertyValue("ETHERNET_NETWORK",function(e){void 0!==e&&void 0!==e.macAddress&&(mac_address=e.macAddress),i.fetchPlaylistInformation()})}catch(e){this.fetchPlaylistInformation()}else"lg"===platform&&webOS.service.request("luna://com.webos.service.sm",{method:"deviceid/getIDs",parameters:{idType:["LGUDID"]},onSuccess:function(e){mac_address="";for(var t=e.idList[0].idValue.replace(/['-]+/g,""),s=0;s<=5;s++)mac_address+=t.substr(2*s,2),s<5&&(mac_address+=":");i.fetchPlaylistInformation()},onFailure:function(e){i.fetchPlaylistInformation()}})},login:function(){checkDevicePerformance(),this.showLoadImage();for(var e=settings.playlist_id,t=0,s=0;s<playlist_urls.length;s++)if(playlist_urls[s].id==e){t=s;break}settings.saveSettings("playlist",playlist_urls[t],"array"),settings.saveSettings("playlist_id",playlist_urls[t].id,""),parseM3uUrl(),this.proceed_login()},goToPlaylistPageWithError:function(){this.is_loading=!1,LiveModel.insertMoviesToCategories([]),VodModel.insertMoviesToCategories([]),SeriesModel.insertMoviesToCategories([]),$("#loading-page").addClass("hide"),$("#playlist-error").show(),$("#playlist-items-container").addClass("has-error"),home_page.init(),top_menu_page.hoverSideBarItem(2),top_menu_page.handleMenuClick()},setFontSize:function(){1==localStorage.getItem("app_font_size")?$("body").addClass("font-large"):$("body").removeClass("font-large")},proceed_login:function(){var t,s,e;this.is_loading||($("#playlist-error").hide(),$("#playlist-items-container").removeClass("has-error"),LiveModel.init(),VodModel.init(),SeriesModel.init(),e=settings.playlist_type,(t=this).is_loading=!0,this.setFontSize(),storageMoviesInfo.host_url!=api_host_url&&clearCachedMoviesInfo(),"xtreme"===e?(e=(s=api_host_url+"/player_api.php?username="+user_name+"&password="+password+"&action=").replace("&action=",""),$.ajax({method:"get",url:e,success:function(e){void 0!==e.server_info&&calculateTimeDifference(e.server_info.time_now,e.server_info.timestamp_now),void 0!==e.user_info&&(0==e.user_info.auth||void 0!==e.user_info.status&&("Expired"===e.user_info.status||"Banned"===e.user_info.status)?(t.is_loading=!1,t.goToPlaylistPageWithError()):(null==e.user_info.exp_date?$(".expire-date").text("Unlimited"):(e=moment(1e3*e.user_info.exp_date),$(".expire-date").text(e.format("Y-MM-DD"))),$.when($.ajax({method:"get",url:s+"get_live_streams",success:function(e){LiveModel.setMovies(e)}}),$.ajax({method:"get",url:s+"get_live_categories",success:function(e){LiveModel.setCategories(e)}}),$.ajax({method:"get",url:s+"get_vod_categories",success:function(e){VodModel.setCategories(e)}}),$.ajax({method:"get",url:s+"get_series_categories",success:function(e){SeriesModel.setCategories(e)}}),$.ajax({method:"get",url:s+"get_vod_streams",success:function(e){VodModel.setMovies(e)}}),$.ajax({method:"get",url:s+"get_series",success:function(e){SeriesModel.setMovies(e)}})).then(function(){try{LiveModel.insertMoviesToCategories(),VodModel.insertMoviesToCategories(),SeriesModel.insertMoviesToCategories(),t.is_loading=!1,home_page.init()}catch(e){t.goToPlaylistPageWithError()}}).fail(function(){t.goToPlaylistPageWithError()})))},error:function(e){t.goToPlaylistPageWithError()},timeout:15e3})):(api_host_url=settings.playlist.url,$.ajax({method:"get",url:api_host_url+"dfdd",timeout:24e4,success:function(e){parseM3uResponse("type1",e),$("#loading-page").addClass("hide"),home_page.init(),t.is_loading=!1},error:function(e){t.goToPlaylistPageWithError()}})))},hoverNetworkIssueBtn:function(e){var t=this.keys;t.focused_part="network_issue_btn",t.network_issue_btn=e,$(this.network_issue_btns).removeClass("active"),$(this.network_issue_btns[e]).addClass("active")},hoverExpiredIssueBtn:function(e){var t=this.keys;t.focused_part="expired_issue_btn",t.expired_issue_btn=e,$(this.expired_issue_btns).removeClass("active"),$(this.expired_issue_btns[e]).addClass("active")},hoverNoPlaylistBtn:function(e){var t=this.keys;t.focused_part="no_playlist_btn",t.no_playlist_btn=e,$(this.no_playlist_btns).removeClass("active"),$(this.no_playlist_btns[e]).addClass("active")},handleMenuClick:function(){var e=this.keys;switch(e.focused_part){case"network_issue_btn":$(this.network_issue_btns[e.network_issue_btn]).trigger("click");break;case"no_playlist_btn":$(this.no_playlist_btns[e.no_playlist_btn]).trigger("click");break;case"expired_issue_btn":$(this.expired_issue_btns[e.expired_issue_btn]).trigger("click")}},handleMenuUpDown:function(e){var t=this.keys;"main_area"===t.focused_part&&(t.main_area+=e,(e=[$("#login-button")]).map(function(e){$(e).removeClass("active")}),t.main_area<0&&(t.main_area=e.length-1),t.main_area>=e.length&&(t.main_area=0),$(e[t.main_area]).addClass("active"))},handleMenuLeftRight:function(e){var t=this.keys;switch(t.focused_part){case"network_issue_btn":t.network_issue_btn+=e,t.network_issue_btn<0&&(t.network_issue_btn=0),t.network_issue_btn>=this.network_issue_btns.length&&(t.network_issue_btn=this.network_issue_btns.length-1),this.hoverNetworkIssueBtn(t.network_issue_btn);break;case"expired_issue_btn":t.expired_issue_btn+=e,t.expired_issue_btn<0&&(t.expired_issue_btn=0),2<t.expired_issue_btn&&(t.expired_issue_btn=2),this.hoverExpiredIssueBtn(t.expired_issue_btn);break;case"no_playlist_btn":t.no_playlist_btn+=e,t.no_playlist_btn<0&&(t.no_playlist_btn=0),1<t.no_playlist_btn&&(t.no_playlist_btn=1),this.hoverNoPlaylistBtn(t.no_playlist_btn)}},HandleKey:function(e){if(e.keyCode===tvKey.RETURN)this.goBack();else if(!this.is_loading)switch(e.keyCode){case tvKey.DOWN:this.handleMenuUpDown(1);break;case tvKey.UP:this.handleMenuUpDown(-1);break;case tvKey.LEFT:this.handleMenuLeftRight(-1);break;case tvKey.RIGHT:this.handleMenuLeftRight(1);break;case tvKey.ENTER:this.handleMenuClick();break;case tvKey.RETURN:this.goBack()}}},temps=[{name:"Afar",iso6392B:"aar",iso6391:"aa"},{name:"Abkhazian",iso6392B:"abk",iso6391:"ab"},{name:"Achinese",iso6392B:"ace"},{name:"Acoli",iso6392B:"ach"},{name:"Adangme",iso6392B:"ada"},{name:"Adyghe; Adygei",iso6392B:"ady"},{name:"Afro-Asiatic languages",iso6392B:"afa"},{name:"Afrihili",iso6392B:"afh"},{name:"Afrikaans",iso6392B:"afr",iso6391:"af"},{name:"Ainu",iso6392B:"ain"},{name:"Akan",iso6392B:"aka",iso6391:"ak"},{name:"Akkadian",iso6392B:"akk"},{name:"Albanian",iso6392B:"alb",iso6392T:"sqi",iso6391:"sq"},{name:"Aleut",iso6392B:"ale"},{name:"Algonquian languages",iso6392B:"alg"},{name:"Southern Altai",iso6392B:"alt"},{name:"Amharic",iso6392B:"amh",iso6391:"am"},{name:"English, Old (ca.450-1100)",iso6392B:"ang"},{name:"Angika",iso6392B:"anp"},{name:"Apache languages",iso6392B:"apa"},{name:"Arabic",iso6392B:"ara",iso6391:"ar"},{name:"Official Aramaic (700-300 BCE); Imperial Aramaic (700-300 BCE)",iso6392B:"arc"},{name:"Aragonese",iso6392B:"arg",iso6391:"an"},{name:"Armenian",iso6392B:"arm",iso6392T:"hye",iso6391:"hy"},{name:"Mapudungun; Mapuche",iso6392B:"arn"},{name:"Arapaho",iso6392B:"arp"},{name:"Artificial languages",iso6392B:"art"},{name:"Arawak",iso6392B:"arw"},{name:"Assamese",iso6392B:"asm",iso6391:"as"},{name:"Asturian; Bable; Leonese; Asturleonese",iso6392B:"ast"},{name:"Athapascan languages",iso6392B:"ath"},{name:"Australian languages",iso6392B:"aus"},{name:"Avaric",iso6392B:"ava",iso6391:"av"},{name:"Avestan",iso6392B:"ave",iso6391:"ae"},{name:"Awadhi",iso6392B:"awa"},{name:"Aymara",iso6392B:"aym",iso6391:"ay"},{name:"Azerbaijani",iso6392B:"aze",iso6391:"az"},{name:"Banda languages",iso6392B:"bad"},{name:"Bamileke languages",iso6392B:"bai"},{name:"Bashkir",iso6392B:"bak",iso6391:"ba"},{name:"Baluchi",iso6392B:"bal"},{name:"Bambara",iso6392B:"bam",iso6391:"bm"},{name:"Balinese",iso6392B:"ban"},{name:"Basque",iso6392B:"baq",iso6392T:"eus",iso6391:"eu"},{name:"Basa",iso6392B:"bas"},{name:"Baltic languages",iso6392B:"bat"},{name:"Beja; Bedawiyet",iso6392B:"bej"},{name:"Belarusian",iso6392B:"bel",iso6391:"be"},{name:"Bemba",iso6392B:"bem"},{name:"Bengali",iso6392B:"ben",iso6391:"bn"},{name:"Berber languages",iso6392B:"ber"},{name:"Bhojpuri",iso6392B:"bho"},{name:"Bihari languages",iso6392B:"bih",iso6391:"bh"},{name:"Bikol",iso6392B:"bik"},{name:"Bini; Edo",iso6392B:"bin"},{name:"Bislama",iso6392B:"bis",iso6391:"bi"},{name:"Siksika",iso6392B:"bla"},{name:"Bantu languages",iso6392B:"bnt"},{name:"Bosnian",iso6392B:"bos",iso6391:"bs"},{name:"Braj",iso6392B:"bra"},{name:"Breton",iso6392B:"bre",iso6391:"br"},{name:"Batak languages",iso6392B:"btk"},{name:"Buriat",iso6392B:"bua"},{name:"Buginese",iso6392B:"bug"},{name:"Bulgarian",iso6392B:"bul",iso6391:"bg"},{name:"Burmese",iso6392B:"bur",iso6392T:"mya",iso6391:"my"},{name:"Blin; Bilin",iso6392B:"byn"},{name:"Caddo",iso6392B:"cad"},{name:"Central American Indian languages",iso6392B:"cai"},{name:"Galibi Carib",iso6392B:"car"},{name:"Catalan; Valencian",iso6392B:"cat",iso6391:"ca"},{name:"Caucasian languages",iso6392B:"cau"},{name:"Cebuano",iso6392B:"ceb"},{name:"Celtic languages",iso6392B:"cel"},{name:"Chamorro",iso6392B:"cha",iso6391:"ch"},{name:"Chibcha",iso6392B:"chb"},{name:"Chechen",iso6392B:"che",iso6391:"ce"},{name:"Chagatai",iso6392B:"chg"},{name:"Chinese",iso6392B:"chi",iso6392T:"zho",iso6391:"zh"},{name:"Chuukese",iso6392B:"chk"},{name:"Mari",iso6392B:"chm"},{name:"Chinook jargon",iso6392B:"chn"},{name:"Choctaw",iso6392B:"cho"},{name:"Chipewyan; Dene Suline",iso6392B:"chp"},{name:"Cherokee",iso6392B:"chr"},{name:"Church Slavic; Old Slavonic; Church Slavonic; Old Bulgarian; Old Church Slavonic",iso6392B:"chu",iso6391:"cu"},{name:"Chuvash",iso6392B:"chv",iso6391:"cv"},{name:"Cheyenne",iso6392B:"chy"},{name:"Chamic languages",iso6392B:"cmc"},{name:"Montenegrin",iso6392B:"cnr"},{name:"Coptic",iso6392B:"cop"},{name:"Cornish",iso6392B:"cor",iso6391:"kw"},{name:"Corsican",iso6392B:"cos",iso6391:"co"},{name:"Creoles and pidgins, English based",iso6392B:"cpe"},{name:"Creoles and pidgins, French-based",iso6392B:"cpf"},{name:"Creoles and pidgins, Portuguese-based",iso6392B:"cpp"},{name:"Cree",iso6392B:"cre",iso6391:"cr"},{name:"Crimean Tatar; Crimean Turkish",iso6392B:"crh"},{name:"Creoles and pidgins",iso6392B:"crp"},{name:"Kashubian",iso6392B:"csb"},{name:"Cushitic languages",iso6392B:"cus"},{name:"Czech",iso6392B:"cze",iso6392T:"ces",iso6391:"cs"},{name:"Dakota",iso6392B:"dak"},{name:"Danish",iso6392B:"dan",iso6391:"da"},{name:"Dargwa",iso6392B:"dar"},{name:"Land Dayak languages",iso6392B:"day"},{name:"Delaware",iso6392B:"del"},{name:"Slave (Athapascan)",iso6392B:"den"},{name:"Dogrib",iso6392B:"dgr"},{name:"Dinka",iso6392B:"din"},{name:"Divehi; Dhivehi; Maldivian",iso6392B:"div",iso6391:"dv"},{name:"Dogri",iso6392B:"doi"},{name:"Dravidian languages",iso6392B:"dra"},{name:"Lower Sorbian",iso6392B:"dsb"},{name:"Duala",iso6392B:"dua"},{name:"Dutch, Middle (ca.1050-1350)",iso6392B:"dum"},{name:"Dutch; Flemish",iso6392B:"dut",iso6392T:"nld",iso6391:"nl"},{name:"Dyula",iso6392B:"dyu"},{name:"Dzongkha",iso6392B:"dzo",iso6391:"dz"},{name:"Efik",iso6392B:"efi"},{name:"Egyptian (Ancient)",iso6392B:"egy"},{name:"Ekajuk",iso6392B:"eka"},{name:"Elamite",iso6392B:"elx"},{name:"English",iso6392B:"eng",iso6391:"en"},{name:"English, Middle (1100-1500)",iso6392B:"enm"},{name:"Esperanto",iso6392B:"epo",iso6391:"eo"},{name:"Estonian",iso6392B:"est",iso6391:"et"},{name:"Ewe",iso6392B:"ewe",iso6391:"ee"},{name:"Ewondo",iso6392B:"ewo"},{name:"Fang",iso6392B:"fan"},{name:"Faroese",iso6392B:"fao",iso6391:"fo"},{name:"Fanti",iso6392B:"fat"},{name:"Fijian",iso6392B:"fij",iso6391:"fj"},{name:"Filipino; Pilipino",iso6392B:"fil"},{name:"Finnish",iso6392B:"fin",iso6391:"fi"},{name:"Finno-Ugrian languages",iso6392B:"fiu"},{name:"Fon",iso6392B:"fon"},{name:"French",iso6392B:"fre",iso6392T:"fra",iso6391:"fr"},{name:"French, Middle (ca.1400-1600)",iso6392B:"frm"},{name:"French, Old (842-ca.1400)",iso6392B:"fro"},{name:"Northern Frisian",iso6392B:"frr"},{name:"Eastern Frisian",iso6392B:"frs"},{name:"Western Frisian",iso6392B:"fry",iso6391:"fy"},{name:"Fulah",iso6392B:"ful",iso6391:"ff"},{name:"Friulian",iso6392B:"fur"},{name:"Ga",iso6392B:"gaa"},{name:"Gayo",iso6392B:"gay"},{name:"Gbaya",iso6392B:"gba"},{name:"Germanic languages",iso6392B:"gem"},{name:"Georgian",iso6392B:"geo",iso6392T:"kat",iso6391:"ka"},{name:"German",iso6392B:"ger",iso6392T:"deu",iso6391:"de"},{name:"Geez",iso6392B:"gez"},{name:"Gilbertese",iso6392B:"gil"},{name:"Gaelic; Scottish Gaelic",iso6392B:"gla",iso6391:"gd"},{name:"Irish",iso6392B:"gle",iso6391:"ga"},{name:"Galician",iso6392B:"glg",iso6391:"gl"},{name:"Manx",iso6392B:"glv",iso6391:"gv"},{name:"German, Middle High (ca.1050-1500)",iso6392B:"gmh"},{name:"German, Old High (ca.750-1050)",iso6392B:"goh"},{name:"Gondi",iso6392B:"gon"},{name:"Gorontalo",iso6392B:"gor"},{name:"Gothic",iso6392B:"got"},{name:"Grebo",iso6392B:"grb"},{name:"Greek, Ancient (to 1453)",iso6392B:"grc"},{name:"Greek, Modern (1453-)",iso6392B:"gre",iso6392T:"ell",iso6391:"el"},{name:"Guarani",iso6392B:"grn",iso6391:"gn"},{name:"Swiss German; Alemannic; Alsatian",iso6392B:"gsw"},{name:"Gujarati",iso6392B:"guj",iso6391:"gu"},{name:"Gwich'in",iso6392B:"gwi"},{name:"Haida",iso6392B:"hai"},{name:"Haitian; Haitian Creole",iso6392B:"hat",iso6391:"ht"},{name:"Hausa",iso6392B:"hau",iso6391:"ha"},{name:"Hawaiian",iso6392B:"haw"},{name:"Hebrew",iso6392B:"heb",iso6391:"he"},{name:"Herero",iso6392B:"her",iso6391:"hz"},{name:"Hiligaynon",iso6392B:"hil"},{name:"Himachali languages; Western Pahari languages",iso6392B:"him"},{name:"Hindi",iso6392B:"hin",iso6391:"hi"},{name:"Hittite",iso6392B:"hit"},{name:"Hmong; Mong",iso6392B:"hmn"},{name:"Hiri Motu",iso6392B:"hmo",iso6391:"ho"},{name:"Croatian",iso6392B:"hrv",iso6391:"hr"},{name:"Upper Sorbian",iso6392B:"hsb"},{name:"Hungarian",iso6392B:"hun",iso6391:"hu"},{name:"Hupa",iso6392B:"hup"},{name:"Iban",iso6392B:"iba"},{name:"Igbo",iso6392B:"ibo",iso6391:"ig"},{name:"Icelandic",iso6392B:"ice",iso6392T:"isl",iso6391:"is"},{name:"Ido",iso6392B:"ido",iso6391:"io"},{name:"Sichuan Yi; Nuosu",iso6392B:"iii",iso6391:"ii"},{name:"Ijo languages",iso6392B:"ijo"},{name:"Inuktitut",iso6392B:"iku",iso6391:"iu"},{name:"Interlingue; Occidental",iso6392B:"ile",iso6391:"ie"},{name:"Iloko",iso6392B:"ilo"},{name:"Interlingua (International Auxiliary Language Association)",iso6392B:"ina",iso6391:"ia"},{name:"Indic languages",iso6392B:"inc"},{name:"Indonesian",iso6392B:"ind",iso6391:"id"},{name:"Indo-European languages",iso6392B:"ine"},{name:"Ingush",iso6392B:"inh"},{name:"Inupiaq",iso6392B:"ipk",iso6391:"ik"},{name:"Iranian languages",iso6392B:"ira"},{name:"Iroquoian languages",iso6392B:"iro"},{name:"Italian",iso6392B:"ita",iso6391:"it"},{name:"Javanese",iso6392B:"jav",iso6391:"jv"},{name:"Lojban",iso6392B:"jbo"},{name:"Japanese",iso6392B:"jpn",iso6391:"ja"},{name:"Judeo-Persian",iso6392B:"jpr"},{name:"Judeo-Arabic",iso6392B:"jrb"},{name:"Kara-Kalpak",iso6392B:"kaa"},{name:"Kabyle",iso6392B:"kab"},{name:"Kachin; Jingpho",iso6392B:"kac"},{name:"Kalaallisut; Greenlandic",iso6392B:"kal",iso6391:"kl"},{name:"Kamba",iso6392B:"kam"},{name:"Kannada",iso6392B:"kan",iso6391:"kn"},{name:"Karen languages",iso6392B:"kar"},{name:"Kashmiri",iso6392B:"kas",iso6391:"ks"},{name:"Kanuri",iso6392B:"kau",iso6391:"kr"},{name:"Kawi",iso6392B:"kaw"},{name:"Kazakh",iso6392B:"kaz",iso6391:"kk"},{name:"Kabardian",iso6392B:"kbd"},{name:"Khasi",iso6392B:"kha"},{name:"Khoisan languages",iso6392B:"khi"},{name:"Central Khmer",iso6392B:"khm",iso6391:"km"},{name:"Khotanese; Sakan",iso6392B:"kho"},{name:"Kikuyu; Gikuyu",iso6392B:"kik",iso6391:"ki"},{name:"Kinyarwanda",iso6392B:"kin",iso6391:"rw"},{name:"Kirghiz; Kyrgyz",iso6392B:"kir",iso6391:"ky"},{name:"Kimbundu",iso6392B:"kmb"},{name:"Konkani",iso6392B:"kok"},{name:"Komi",iso6392B:"kom",iso6391:"kv"},{name:"Kongo",iso6392B:"kon",iso6391:"kg"},{name:"Korean",iso6392B:"kor",iso6391:"ko"},{name:"Kosraean",iso6392B:"kos"},{name:"Kpelle",iso6392B:"kpe"},{name:"Karachay-Balkar",iso6392B:"krc"},{name:"Karelian",iso6392B:"krl"},{name:"Kru languages",iso6392B:"kro"},{name:"Kurukh",iso6392B:"kru"},{name:"Kuanyama; Kwanyama",iso6392B:"kua",iso6391:"kj"},{name:"Kumyk",iso6392B:"kum"},{name:"Kurdish",iso6392B:"kur",iso6391:"ku"},{name:"Kutenai",iso6392B:"kut"},{name:"Ladino",iso6392B:"lad"},{name:"Lahnda",iso6392B:"lah"},{name:"Lamba",iso6392B:"lam"},{name:"Lao",iso6392B:"lao",iso6391:"lo"},{name:"Latin",iso6392B:"lat",iso6391:"la"},{name:"Latvian",iso6392B:"lav",iso6391:"lv"},{name:"Lezghian",iso6392B:"lez"},{name:"Limburgan; Limburger; Limburgish",iso6392B:"lim",iso6391:"li"},{name:"Lingala",iso6392B:"lin",iso6391:"ln"},{name:"Lithuanian",iso6392B:"lit",iso6391:"lt"},{name:"Mongo",iso6392B:"lol"},{name:"Lozi",iso6392B:"loz"},{name:"Luxembourgish; Letzeburgesch",iso6392B:"ltz",iso6391:"lb"},{name:"Luba-Lulua",iso6392B:"lua"},{name:"Luba-Katanga",iso6392B:"lub",iso6391:"lu"},{name:"Ganda",iso6392B:"lug",iso6391:"lg"},{name:"Luiseno",iso6392B:"lui"},{name:"Lunda",iso6392B:"lun"},{name:"Luo (Kenya and Tanzania)",iso6392B:"luo"},{name:"Lushai",iso6392B:"lus"},{name:"Macedonian",iso6392B:"mac",iso6392T:"mkd",iso6391:"mk"},{name:"Madurese",iso6392B:"mad"},{name:"Magahi",iso6392B:"mag"},{name:"Marshallese",iso6392B:"mah",iso6391:"mh"},{name:"Maithili",iso6392B:"mai"},{name:"Makasar",iso6392B:"mak"},{name:"Malayalam",iso6392B:"mal",iso6391:"ml"},{name:"Mandingo",iso6392B:"man"},{name:"Maori",iso6392B:"mao",iso6392T:"mri",iso6391:"mi"},{name:"Austronesian languages",iso6392B:"map"},{name:"Marathi",iso6392B:"mar",iso6391:"mr"},{name:"Masai",iso6392B:"mas"},{name:"Malay",iso6392B:"may",iso6392T:"msa",iso6391:"ms"},{name:"Moksha",iso6392B:"mdf"},{name:"Mandar",iso6392B:"mdr"},{name:"Mende",iso6392B:"men"},{name:"Irish, Middle (900-1200)",iso6392B:"mga"},{name:"Mi'kmaq; Micmac",iso6392B:"mic"},{name:"Minangkabau",iso6392B:"min"},{name:"Uncoded languages",iso6392B:"mis"},{name:"Mon-Khmer languages",iso6392B:"mkh"},{name:"Malagasy",iso6392B:"mlg",iso6391:"mg"},{name:"Maltese",iso6392B:"mlt",iso6391:"mt"},{name:"Manchu",iso6392B:"mnc"},{name:"Manipuri",iso6392B:"mni"},{name:"Manobo languages",iso6392B:"mno"},{name:"Mohawk",iso6392B:"moh"},{name:"Mongolian",iso6392B:"mon",iso6391:"mn"},{name:"Mossi",iso6392B:"mos"},{name:"Multiple languages",iso6392B:"mul"},{name:"Munda languages",iso6392B:"mun"},{name:"Creek",iso6392B:"mus"},{name:"Mirandese",iso6392B:"mwl"},{name:"Marwari",iso6392B:"mwr"},{name:"Mayan languages",iso6392B:"myn"},{name:"Erzya",iso6392B:"myv"},{name:"Nahuatl languages",iso6392B:"nah"},{name:"North American Indian languages",iso6392B:"nai"},{name:"Neapolitan",iso6392B:"nap"},{name:"Nauru",iso6392B:"nau",iso6391:"na"},{name:"Navajo; Navaho",iso6392B:"nav",iso6391:"nv"},{name:"Ndebele, South; South Ndebele",iso6392B:"nbl",iso6391:"nr"},{name:"Ndebele, North; North Ndebele",iso6392B:"nde",iso6391:"nd"},{name:"Ndonga",iso6392B:"ndo",iso6391:"ng"},{name:"Low German; Low Saxon; German, Low; Saxon, Low",iso6392B:"nds"},{name:"Nepali",iso6392B:"nep",iso6391:"ne"},{name:"Nepal Bhasa; Newari",iso6392B:"new"},{name:"Nias",iso6392B:"nia"},{name:"Niger-Kordofanian languages",iso6392B:"nic"},{name:"Niuean",iso6392B:"niu"},{name:"Norwegian Nynorsk; Nynorsk, Norwegian",iso6392B:"nno",iso6391:"nn"},{name:"Bokml, Norwegian; Norwegian Bokml",iso6392B:"nob",iso6391:"nb"},{name:"Nogai",iso6392B:"nog"},{name:"Norse, Old",iso6392B:"non"},{name:"Norwegian",iso6392B:"nor",iso6391:"no"},{name:"N'Ko",iso6392B:"nqo"},{name:"Pedi; Sepedi; Northern Sotho",iso6392B:"nso"},{name:"Nubian languages",iso6392B:"nub"},{name:"Classical Newari; Old Newari; Classical Nepal Bhasa",iso6392B:"nwc"},{name:"Chichewa; Chewa; Nyanja",iso6392B:"nya",iso6391:"ny"},{name:"Nyamwezi",iso6392B:"nym"},{name:"Nyankole",iso6392B:"nyn"},{name:"Nyoro",iso6392B:"nyo"},{name:"Nzima",iso6392B:"nzi"},{name:"Occitan (post 1500)",iso6392B:"oci",iso6391:"oc"},{name:"Ojibwa",iso6392B:"oji",iso6391:"oj"},{name:"Oriya",iso6392B:"ori",iso6391:"or"},{name:"Oromo",iso6392B:"orm",iso6391:"om"},{name:"Osage",iso6392B:"osa"},{name:"Ossetian; Ossetic",iso6392B:"oss",iso6391:"os"},{name:"Turkish, Ottoman (1500-1928)",iso6392B:"ota"},{name:"Otomian languages",iso6392B:"oto"},{name:"Papuan languages",iso6392B:"paa"},{name:"Pangasinan",iso6392B:"pag"},{name:"Pahlavi",iso6392B:"pal"},{name:"Pampanga; Kapampangan",iso6392B:"pam"},{name:"Panjabi; Punjabi",iso6392B:"pan",iso6391:"pa"},{name:"Papiamento",iso6392B:"pap"},{name:"Palauan",iso6392B:"pau"},{name:"Persian, Old (ca.600-400 B.C.)",iso6392B:"peo"},{name:"Persian",iso6392B:"per",iso6392T:"fas",iso6391:"fa"},{name:"Philippine languages",iso6392B:"phi"},{name:"Phoenician",iso6392B:"phn"},{name:"Pali",iso6392B:"pli",iso6391:"pi"},{name:"Polish",iso6392B:"pol",iso6391:"pl"},{name:"Pohnpeian",iso6392B:"pon"},{name:"Portuguese",iso6392B:"por",iso6391:"pt"},{name:"Prakrit languages",iso6392B:"pra"},{name:"Provenal, Old (to 1500); Occitan, Old (to 1500)",iso6392B:"pro"},{name:"Pushto; Pashto",iso6392B:"pus",iso6391:"ps"},{name:"Reserved for local use",iso6392B:"qaa-qtz"},{name:"Quechua",iso6392B:"que",iso6391:"qu"},{name:"Rajasthani",iso6392B:"raj"},{name:"Rapanui",iso6392B:"rap"},{name:"Rarotongan; Cook Islands Maori",iso6392B:"rar"},{name:"Romance languages",iso6392B:"roa"},{name:"Romansh",iso6392B:"roh",iso6391:"rm"},{name:"Romany",iso6392B:"rom"},{name:"Romanian; Moldavian; Moldovan",iso6392B:"rum",iso6392T:"ron",iso6391:"ro"},{name:"Rundi",iso6392B:"run",iso6391:"rn"},{name:"Aromanian; Arumanian; Macedo-Romanian",iso6392B:"rup"},{name:"Russian",iso6392B:"rus",iso6391:"ru"},{name:"Sandawe",iso6392B:"sad"},{name:"Sango",iso6392B:"sag",iso6391:"sg"},{name:"Yakut",iso6392B:"sah"},{name:"South American Indian languages",iso6392B:"sai"},{name:"Salishan languages",iso6392B:"sal"},{name:"Samaritan Aramaic",iso6392B:"sam"},{name:"Sanskrit",iso6392B:"san",iso6391:"sa"},{name:"Sasak",iso6392B:"sas"},{name:"Santali",iso6392B:"sat"},{name:"Sicilian",iso6392B:"scn"},{name:"Scots",iso6392B:"sco"},{name:"Selkup",iso6392B:"sel"},{name:"Semitic languages",iso6392B:"sem"},{name:"Irish, Old (to 900)",iso6392B:"sga"},{name:"Sign Languages",iso6392B:"sgn"},{name:"Shan",iso6392B:"shn"},{name:"Sidamo",iso6392B:"sid"},{name:"Sinhala; Sinhalese",iso6392B:"sin",iso6391:"si"},{name:"Siouan languages",iso6392B:"sio"},{name:"Sino-Tibetan languages",iso6392B:"sit"},{name:"Slavic languages",iso6392B:"sla"},{name:"Slovak",iso6392B:"slo",iso6392T:"slk",iso6391:"sk"},{name:"Slovenian",iso6392B:"slv",iso6391:"sl"},{name:"Southern Sami",iso6392B:"sma"},{name:"Northern Sami",iso6392B:"sme",iso6391:"se"},{name:"Sami languages",iso6392B:"smi"},{name:"Lule Sami",iso6392B:"smj"},{name:"Inari Sami",iso6392B:"smn"},{name:"Samoan",iso6392B:"smo",iso6391:"sm"},{name:"Skolt Sami",iso6392B:"sms"},{name:"Shona",iso6392B:"sna",iso6391:"sn"},{name:"Sindhi",iso6392B:"snd",iso6391:"sd"},{name:"Soninke",iso6392B:"snk"},{name:"Sogdian",iso6392B:"sog"},{name:"Somali",iso6392B:"som",iso6391:"so"},{name:"Songhai languages",iso6392B:"son"},{name:"Sotho, Southern",iso6392B:"sot",iso6391:"st"},{name:"Spanish; Castilian",iso6392B:"spa",iso6391:"es"},{name:"Sardinian",iso6392B:"srd",iso6391:"sc"},{name:"Sranan Tongo",iso6392B:"srn"},{name:"Serbian",iso6392B:"srp",iso6391:"sr"},{name:"Serer",iso6392B:"srr"},{name:"Nilo-Saharan languages",iso6392B:"ssa"},{name:"Swati",iso6392B:"ssw",iso6391:"ss"},{name:"Sukuma",iso6392B:"suk"},{name:"Sundanese",iso6392B:"sun",iso6391:"su"},{name:"Susu",iso6392B:"sus"},{name:"Sumerian",iso6392B:"sux"},{name:"Swahili",iso6392B:"swa",iso6391:"sw"},{name:"Swedish",iso6392B:"swe",iso6391:"sv"},{name:"Classical Syriac",iso6392B:"syc"},{name:"Syriac",iso6392B:"syr"},{name:"Tahitian",iso6392B:"tah",iso6391:"ty"},{name:"Tai languages",iso6392B:"tai"},{name:"Tamil",iso6392B:"tam",iso6391:"ta"},{name:"Tatar",iso6392B:"tat",iso6391:"tt"},{name:"Telugu",iso6392B:"tel",iso6391:"te"},{name:"Timne",iso6392B:"tem"},{name:"Tereno",iso6392B:"ter"},{name:"Tetum",iso6392B:"tet"},{name:"Tajik",iso6392B:"tgk",iso6391:"tg"},{name:"Tagalog",iso6392B:"tgl",iso6391:"tl"},{name:"Thai",iso6392B:"tha",iso6391:"th"},{name:"Tibetan",iso6392B:"tib",iso6392T:"bod",iso6391:"bo"},{name:"Tigre",iso6392B:"tig"},{name:"Tigrinya",iso6392B:"tir",iso6391:"ti"},{name:"Tiv",iso6392B:"tiv"},{name:"Tokelau",iso6392B:"tkl"},{name:"Klingon; tlhIngan-Hol",iso6392B:"tlh"},{name:"Tlingit",iso6392B:"tli"},{name:"Tamashek",iso6392B:"tmh"},{name:"Tonga (Nyasa)",iso6392B:"tog"},{name:"Tonga (Tonga Islands)",iso6392B:"ton",iso6391:"to"},{name:"Tok Pisin",iso6392B:"tpi"},{name:"Tsimshian",iso6392B:"tsi"},{name:"Tswana",iso6392B:"tsn",iso6391:"tn"},{name:"Tsonga",iso6392B:"tso",iso6391:"ts"},{name:"Turkmen",iso6392B:"tuk",iso6391:"tk"},{name:"Tumbuka",iso6392B:"tum"},{name:"Tupi languages",iso6392B:"tup"},{name:"Turkish",iso6392B:"tur",iso6391:"tr"},{name:"Altaic languages",iso6392B:"tut"},{name:"Tuvalu",iso6392B:"tvl"},{name:"Twi",iso6392B:"twi",iso6391:"tw"},{name:"Tuvinian",iso6392B:"tyv"},{name:"Udmurt",iso6392B:"udm"},{name:"Ugaritic",iso6392B:"uga"},{name:"Uighur; Uyghur",iso6392B:"uig",iso6391:"ug"},{name:"Ukrainian",iso6392B:"ukr",iso6391:"uk"},{name:"Umbundu",iso6392B:"umb"},{name:"Undetermined",iso6392B:"und"},{name:"Urdu",iso6392B:"urd",iso6391:"ur"},{name:"Uzbek",iso6392B:"uzb",iso6391:"uz"},{name:"Vai",iso6392B:"vai"},{name:"Venda",iso6392B:"ven",iso6391:"ve"},{name:"Vietnamese",iso6392B:"vie",iso6391:"vi"},{name:"Volapk",iso6392B:"vol",iso6391:"vo"},{name:"Votic",iso6392B:"vot"},{name:"Wakashan languages",iso6392B:"wak"},{name:"Wolaitta; Wolaytta",iso6392B:"wal"},{name:"Waray",iso6392B:"war"},{name:"Washo",iso6392B:"was"},{name:"Welsh",iso6392B:"wel",iso6392T:"cym",iso6391:"cy"},{name:"Sorbian languages",iso6392B:"wen"},{name:"Walloon",iso6392B:"wln",iso6391:"wa"},{name:"Wolof",iso6392B:"wol",iso6391:"wo"},{name:"Kalmyk; Oirat",iso6392B:"xal"},{name:"Xhosa",iso6392B:"xho",iso6391:"xh"},{name:"Yao",iso6392B:"yao"},{name:"Yapese",iso6392B:"yap"},{name:"Yiddish",iso6392B:"yid",iso6391:"yi"},{name:"Yoruba",iso6392B:"yor",iso6391:"yo"},{name:"Yupik languages",iso6392B:"ypk"},{name:"Zapotec",iso6392B:"zap"},{name:"Blissymbols; Blissymbolics; Bliss",iso6392B:"zbl"},{name:"Zenaga",iso6392B:"zen"},{name:"Standard Moroccan Tamazight",iso6392B:"zgh"},{name:"Zhuang; Chuang",iso6392B:"zha",iso6391:"za"},{name:"Zande languages",iso6392B:"znd"},{name:"Zulu",iso6392B:"zul",iso6391:"zu"},{name:"Zuni",iso6392B:"zun"},{name:"No linguistic content; Not applicable",iso6392B:"zxx"},{name:"Zaza; Dimili; Dimli; Kirdki; Kirmanjki; Zazaki",iso6392B:"zza"}],language_codes={},home_page=(temps.map(function(e){var t;void 0!==e.iso6391&&(t=e.iso6391,language_codes[t]=e.name),void 0!==e.iso6392B&&(t=e.iso6392B,language_codes[t]=e.name),void 0!==e.iso6392T&&(t=e.iso6392T,language_codes[t]=e.name)}),{initiated:!(language_codes.tu="Turkish"),keys:{focused_part:"menu_selection",menu_selection:0,tab_selection:0,channel_selection:0,movie_selection:0,series_selection:0},prev_focus_dom:null,menu_doms:$("#home-page .menu-item-container"),tab_doms:$("#home-page .home-tab-item-container"),latest_channels:[],latest_movies:[],latest_series:[],latest_channel_doms:[],latest_movie_doms:[],latest_series_doms:[],notification_timer:null,active_tab:"channel",sub_route:"home",init:function(){this.sub_route="home",this.prev_focus_dom=null,turn_off_page.prev_route="home-page",$(".home-page-sub-container").addClass("hide"),$("#home-contents").removeClass("hide"),this.sub_route="home","turn-off-page"!==current_route&&(current_route="home-page"),$("#loading-page").addClass("hide"),$("#login-container").hide(),$("#menu-container").addClass("is-home"),$("#app").show();var s="";languages.map(function(e,t){e.words[e.code]&&(s+='<div class="modal-operation-menu-type-3 language-item"                       data-sort_key="default"                       onclick="setting_page.selectLanguage(\''+e.code+"',"+t+')"                       onmouseenter="setting_page.hoverLanguage('+t+')"                       data-language="'+e.code+'"                    >'+e.words[e.code]+"</div>")}),$("#select-language-body").html(s),$("#home-page").removeClass("hide"),setting_page.language_doms=$(".language-item"),setting_page.doms_translated=$("*").filter(function(){return void 0!==$(this).data("word_code")}),setting_page.changeDomsLanguage(),channel_page.init(null)},getTabIdForMovieType:function(e){var t,s,i;switch(e){case"channel":i=this.latest_channels,t="latest-channels-container",s="latest_channel_doms";break;case"movie":i=this.latest_movies,t="latest-movies-container",s="latest_movie_doms";break;case"series":i=this.latest_series,t="latest-series-container",s="latest_series_doms"}return{id:t,html_doms_key:s,movies:i}},makeLatestMovieHtml:function(s){var i="",a="stream_icon",e=("series"===s&&(a="cover"),this.getTabIdForMovieType(s)),t=e.id,o=e.movies,e=e.html_doms_key;o.map(function(e,t){i+='<div class="latest-movie-item-container">                    <div class="latest-movie-item-wrapper '+s+'"                        onmouseenter="home_page.hoverLatestMovie('+t+",'"+s+'\')"                         onclick="home_page.handleMenuClick()"                     >                        <img class="latest-movie-item-img" src="'+e[a]+'" onerror="this.src=\'images/default_movie_poster.png\'">                         <div class="latest-movie-item-title-container">                            <div class="latest-movie-item-title-wrapper">                                <div class="latest-movie-item-title max-line-2">'+e.name+"</div>                             </div>                        </div>                     </div>                </div>"}),$("#"+t).html(i),this[e]=$("#"+t).find(".latest-movie-item-wrapper")},exit:function(){$("#home-page").addClass("hide")},reEnter:function(){$("#home-page").removeClass("hide"),current_route="home-page"},clickMainMenu:function(){switch(this.keys.menu_selection){case 0:home_page.sub_route="home",$(".home-page-sub-container").addClass("hide"),$("#menu-container").addClass("is-home"),$("#home-contents").removeClass("hide");break;case 1:channel_page.init(null);break;case 2:vod_series_page.init("vod");break;case 3:vod_series_page.init("series");break;case 4:playlist_page.init();break;case 5:setting_page.init();break;case 6:current_route="login",$("#app").hide(),$(this.menu_doms[4]).removeClass("active"),setTimeout(function(){login_page.fetchPlaylistInformation()},100)}},goBack:function(){var e=this.keys;"menu_selection"===e.focused_part?turn_off_page.init(current_route):this.hoverMainMenu(e.menu_selection)},activeTab:function(e){e="series"===(this.active_tab=e)?"#latest-"+e+"-container":"#latest-"+e+"s-container";$(".home-tabs-pane").removeClass("active"),$(e).addClass("active")},hoverMainMenu:function(e){var t=this.keys;t.focused_part="menu_selection",t.menu_selection=e,current_route="home-page","playlist-page"===this.sub_route?$(playlist_page.playlist_doms).removeClass("active"):"setting-page"===this.sub_route&&$(setting_page.menu_doms).removeClass("active"),$(this.prev_focus_dom).removeClass("active"),this.prev_focus_dom=this.menu_doms[e],$(this.menu_doms[e]).addClass("active")},hoverTabMenu:function(e){var t=this.keys;t.focused_part="tab_selection",t.tab_selection=e,$(this.prev_focus_dom).removeClass("active"),this.prev_focus_dom=this.tab_doms[e],$(this.tab_doms[e]).addClass("active")},hoverLatestMovie:function(e,t){var s=this.keys,i=(this.active_tab=t,this.getTabIdForMovieType(t)),a=i.id,i=i.html_doms_key,s=(s["latest_"+t+"_selection"]=e,s.focused_part="latest_"+t+"_selection",$(this.prev_focus_dom).removeClass("active"),this[i][e]);$(s).addClass("active"),this.prev_focus_dom=s,moveScrollPosition($("#"+a),$(s).closest(".latest-movie-item-container"),"vertical",!1)},handleMenuClick:function(){var e=this.keys;switch(e.focused_part){case"menu_selection":$(this.menu_doms[e.menu_selection]).trigger("click");break;case"tab_selection":0==e.tab_selection&&this.activeTab("channel"),1==e.tab_selection&&this.activeTab("movie"),2==e.tab_selection&&this.activeTab("series");break;case"latest_channel_selection":var t=this.latest_channels[e.channel_selection];channel_page.init(t);break;case"latest_movie_selection":case"latest_series_selection":$("#home-page").addClass("hide"),("latest_movie_selection"===e.focused_part?(current_movie=this.latest_movies[e.latest_movie_selection],vod_summary_page):(current_series=this.latest_series[e.latest_series_selection],series_summary_page)).init("home-page")}},handleMenusUpDown:function(e){var t=this.keys;switch(t.focused_part){case"menu_selection":t.menu_selection+=e,t.menu_selection<0&&(t.menu_selection=0),t.menu_selection>=this.menu_doms.length&&(t.menu_selection=this.menu_doms.length-1),this.hoverMainMenu(t.menu_selection,!0);break;case"tab_selection":0<e&&0<(s=this.getTabIdForMovieType(this.active_tab).movies).length&&this.hoverLatestMovie(0,this.active_tab);break;case"latest_channel_selection":case"latest_movie_selection":case"latest_series_selection":var s,i=t[t.focused_part]+5*e;i<0?this.hoverTabMenu(t.tab_selection):(i>=(s=this.getTabIdForMovieType(this.active_tab).movies).length&&(i=s.length-1),this.hoverLatestMovie(i,this.active_tab))}},handleMenuLeftRight:function(e){var t=this.keys;switch(t.focused_part){case"menu_selection":0<e&&("home"===this.sub_route?this.hoverTabMenu(0):"playlist-page"===this.sub_route?playlist_page.hoverPlayListItem(playlist_page.keys.playlist_selection):"setting-page"===this.sub_route&&setting_page.hoverSettingMenu(setting_page.keys.menu_selection));break;case"tab_selection":t.tab_selection+=e,t.tab_selection<0?this.hoverMainMenu(t.menu_selection):(3<=t.tab_selection&&(t.tab_selection=2),this.hoverTabMenu(t.tab_selection));break;case"latest_channel_selection":case"latest_movie_selection":case"latest_series_selection":var s=this.active_tab,i=this.getTabIdForMovieType(s),a=t[t.focused_part],o=a+e;e<0&&a%5==0?this.hoverMainMenu(t.menu_selection):(o>=(a=i.movies).length&&(o=a.length-1),this.hoverLatestMovie(o,s))}},HandleKey:function(e){if(!this.is_drawing)switch(e.keyCode){case tvKey.RIGHT:this.handleMenuLeftRight(1);break;case tvKey.LEFT:this.handleMenuLeftRight(-1);break;case tvKey.DOWN:this.handleMenusUpDown(1);break;case tvKey.UP:this.handleMenusUpDown(-1);break;case tvKey.ENTER:this.handleMenuClick();break;case tvKey.RETURN:this.goBack();break;case tvKey.BLUE:"playlist-page"===home_page.sub_route&&playlist_edit_page.init("home-page");break;case tvKey.RED:showToast("Sorry","Please select playlist first")}}});function confirmParentPassword(){"home-page"===current_route&&home_page.confirmParentPassword()}function cancelParentPassword(){"home-page"===current_route&&home_page.cancelParentPassword()}var channel_page={current_channel_id:0,full_screen_video:!1,full_screen_timer:null,progressbar_timer:null,player:null,channel_number_timer:null,channel_num:0,movies:[],initiated:!1,categories:[],current_category_index:0,category_hover_timer:null,category_hover_timeout:300,channel_hover_timer:null,channel_hover_timeout:300,theme:"c",keys:{focused_part:"category_selection",category_selection:0,channel_selection:0,search_back_selection:0,search_selection:-1,prev_focus:"",video_control:0,theme_selection:0,current_selected_theme:0,color_btns_selection:0},color_btns_doms:$(".channel-page-top-right-item"),category_doms:[],channel_doms:[],video_control_doms:$("#channel-page .video-control-icon-wrapper"),play_icon_index:1,search_items:[],filtered_movies:[],next_programme_timer:null,programmes:[],short_epg_limit_count:30,prev_focus_dom:null,next_channel_timer:null,prev_keyword:"",search_timer:null,rearrange_mode:!1,rearrange_timer:null,rearrange_timeout:300,hover_channel_id:null,current_channel:null,theme_doms:$(".change-theme-btn-livetv"),rearrange_origin_position:0,init:function(e){var t=this.keys,s=($("#movie-image-overlay").hide(),$(".page-top-right-item").hide(),$(".playlist-page-top-right-item").hide(),$("#epg-page").addClass("hide"),$("#movie-image-container").hide(),$(".page-top-right-item.search-icon").css("display","inline-flex"),$(".theme-icon").css("display","inline-flex"),$(".search-icon").css("display","inline-flex"),$(".move-icon").css("display","inline-flex"),$(".favorite-icon").css("display","inline-flex"),top_menu_page.sub_route="channel-page",this.hover_channel_id=null,this.rearrange_mode=!1,$("#channel-page").removeClass("hide"),current_route="channel-page",LiveModel.getCategories(!1,!0)),i=(this.categories=s,""),a=(s.map(function(e,t){i+='<div class="channel-page-category-item"                    onmouseenter="channel_page.hoverCategory(this, true)"                    onclick="channel_page.handleMenuClick()"                    data-index="'+t+'"                >                <svg class="rearrange-icon" width="30" height="30" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <circle cx="16" cy="16" r="16" fill="#FFDC8E"></circle><path d="M22.4336 7.24608C22.764 6.91561 23.2984 6.91561 23.6254 7.24608L24.7504 8.37108C25.0808 8.70155 25.0808 9.23593 24.7504 9.56288L21.6918 12.6215L23.0629 13.9926C23.3055 14.2351 23.3758 14.5973 23.2457 14.9137C23.1156 15.2301 22.8062 15.434 22.4652 15.434H17.4027C16.9351 15.434 16.559 15.0578 16.559 14.5902V9.52772C16.559 9.18671 16.7629 8.87733 17.0793 8.74725C17.3957 8.61718 17.7578 8.68749 18.0004 8.93007L19.3715 10.3012L22.4336 7.24608ZM9.53124 16.5625H14.5937C15.0613 16.5625 15.4375 16.9387 15.4375 17.4062V22.4687C15.4375 22.8098 15.2336 23.1191 14.9172 23.2492C14.6008 23.3793 14.2387 23.309 13.9961 23.0664L12.625 21.6953L9.56639 24.7539C9.23593 25.0844 8.70155 25.0844 8.3746 24.7539L7.24608 23.6289C6.91561 23.2984 6.91561 22.7641 7.24608 22.4371L10.3047 19.3785L8.93358 18.0039C8.691 17.7613 8.62069 17.3992 8.75077 17.0828C8.88085 16.7664 9.19022 16.5625 9.53124 16.5625Z" fill="#262333"></path></svg>                    <span class="channel-category-name-wrapper">                        <span class="channel-category-name">'+e.category_name+'</span>                        <span class="channel-category-movie-counts">'+e.movies.length+' Channels</span>                    </span>                     <span class="channel-category-movie-counts-wrapper">                        <svg class="arrow-icon" width="13" height="20" viewBox="0 0 13 20" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_40_753)"><path d="M12.1328 9.11719C12.6211 9.60547 12.6211 10.3984 12.1328 10.8867L4.63281 18.3867C4.14453 18.875 3.35156 18.875 2.86328 18.3867C2.375 17.8984 2.375 17.1055 2.86328 16.6172L9.48047 10L2.86719 3.38281C2.37891 2.89453 2.37891 2.10156 2.86719 1.61328C3.35547 1.125 4.14844 1.125 4.63672 1.61328L12.1367 9.11328L12.1328 9.11719Z" fill="#FFF8F0"/></g><defs><clipPath id="clip0_40_753"><rect width="12.5" height="20" fill="white"/></clipPath></defs></svg>                    </span>                </div>'}),$("#channel-page-categories-container").html(i),this.category_doms=$(".channel-page-category-item"),0),o=0;if(e){for(var n=0;n<s.length;n++)if(s[n].category_id==e.category_id){a=n;break}for(var r=s[n].movies,n=0;n<r.length;n++)if(r[n].stream_id==e.stream_id&&r[n].name==e.name){o=n;break}}else for(n=0;n<s.length;n++)if(0<s[n].movies.length){a=n;break}this.current_category_index=-1,this.hoverCategory(a),this.showCategoryChannels(),0<s[a].movies.length&&(e&&this.hoverChannel(o),this.showMovie(this.movies[o])),this.full_screen_video=!1,this.theme=localStorage.getItem(storage_id+"live-theme"),this.hoverCategory(this.category_doms[t.category_selection]),this.theme&&(this.keys.theme_selection="c"===this.theme?0:1),this.selectTheme(),$("#channel-page.theme-m #channel-page-categories-container").css("transform","translateX(0rem)")},goBack:function(){var e=this.keys;switch(e.focused_part){case"video_control":$("#full-screen-information").slideUp(),e.focused_part="full_screen";break;case"full_screen":"block"===$("#full-screen-information").css("display")?(clearTimeout(this.full_screen_timer),this.hideFullScreenInfo()):(this.full_screen_video=!1,this.zoomInOut());break;case"search_selection":this.removeSearchResult();break;case"category_selection":this.Exit();break;case"channel_selection":this.hoverCategory(e.category_selection);break;case"theme_selection":this.closeThemeModal()}},Exit:function(){this.toggleRearrangeMode(!1),top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection)},showThemeModal:function(){var e=this.keys;this.full_screen_video||"search_selection"===e.focused_part||"theme_selection"===e.focused_part||($(".change-theme-wrapper.live").show(),this.hoverThemeItem(this.keys.current_selected_theme)),this.toggleRearrangeMode(!1)},closeThemeModal:function(){$(".change-theme-wrapper.live").hide(),this.hoverCategory(this.category_doms[this.keys.category_selection])},hoverThemeItem:function(e){var t=this.keys;$(prev_focus_dom).removeClass("active"),prev_focus_dom=1<e?($(".theme-close-btn").addClass("active"),$(".theme-close-btn")):($(this.theme_doms[e]).addClass("active"),this.theme_doms[e]),t.theme_selection=e,t.focused_part="theme_selection"},selectTheme:function(){$(this.theme_doms).removeClass("selected"),$(this.theme_doms[this.keys.theme_selection]).addClass("selected"),this.keys.current_selected_theme=this.keys.theme_selection,this.theme=0===this.keys.theme_selection?"c":"m",$("#channel-page").removeClass("theme-c theme-m"),$("#channel-page").addClass("theme-"+this.theme),localStorage.setItem(storage_id+"live-theme",this.theme),"c"==this.theme&&$("#channel-page-categories-container").css("transform","translateX(0rem)"),setTimeout(function(){try{media_player.setDisplayArea()}catch(e){console.log(e)}},0)},reEnter:function(){$("#channel-page").removeClass("hide"),current_route="channel-page",this.showMovie(this.current_channel)},showCategoryChannels:function(){var e,s,t=this.keys;t.category_selection!==this.current_category_index&&(e=this.categories[t.category_selection],$(".channel-page-category-item").removeClass("selected"),$(this.category_doms[t.category_selection]).addClass("selected"),this.movies=e.movies,s="",this.movies.map(function(e,t){s+='<div class="channel-menu-item" data-channel_id="'+e.stream_id+'"                   data-index="'+t+'"                   onmouseenter="channel_page.hoverChannel(this, true)"                   onclick="channel_page.handleMenuClick()"                >                <svg class="rearrange-icon" width="30" height="30" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <circle cx="16" cy="16" r="16" fill="#FFDC8E"></circle><path d="M22.4336 7.24608C22.764 6.91561 23.2984 6.91561 23.6254 7.24608L24.7504 8.37108C25.0808 8.70155 25.0808 9.23593 24.7504 9.56288L21.6918 12.6215L23.0629 13.9926C23.3055 14.2351 23.3758 14.5973 23.2457 14.9137C23.1156 15.2301 22.8062 15.434 22.4652 15.434H17.4027C16.9351 15.434 16.559 15.0578 16.559 14.5902V9.52772C16.559 9.18671 16.7629 8.87733 17.0793 8.74725C17.3957 8.61718 17.7578 8.68749 18.0004 8.93007L19.3715 10.3012L22.4336 7.24608ZM9.53124 16.5625H14.5937C15.0613 16.5625 15.4375 16.9387 15.4375 17.4062V22.4687C15.4375 22.8098 15.2336 23.1191 14.9172 23.2492C14.6008 23.3793 14.2387 23.309 13.9961 23.0664L12.625 21.6953L9.56639 24.7539C9.23593 25.0844 8.70155 25.0844 8.3746 24.7539L7.24608 23.6289C6.91561 23.2984 6.91561 22.7641 7.24608 22.4371L10.3047 19.3785L8.93358 18.0039C8.691 17.7613 8.62069 17.3992 8.75077 17.0828C8.88085 16.7664 9.19022 16.5625 9.53124 16.5625Z" fill="#262333"></path></svg>                <div class="channel-icon-container"><img class="channel-icon" src="'+e.stream_icon+'" onerror="this.src=\''+default_movie_icon+'\'"></span></div><span class="channel-number">'+e.num+'.</span><span class="channel-name">'+e.name+"</span>"+(LiveModel.favourite_ids.includes(e.stream_id)?'<svg class="favourite-icon added" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.44 3.10001C14.63 3.10001 13.01 3.98001 12 5.33001C10.99 3.98001 9.37 3.10001 7.56 3.10001C4.49 3.10001 2 5.60001 2 8.69001C2 9.88001 2.19 10.98 2.52 12C4.1 17 8.97 19.99 11.38 20.81C11.72 20.93 12.28 20.93 12.62 20.81C15.03 19.99 19.9 17 21.48 12C21.81 10.98 22 9.88001 22 8.69001C22 5.60001 19.51 3.10001 16.44 3.10001Z" fill="#FFDC8E"/><path d="M12.62 20.81C12.28 20.93 11.72 20.93 11.38 20.81C8.48 19.82 2 15.69 2 8.69001C2 5.60001 4.49 3.10001 7.56 3.10001C9.38 3.10001 10.99 3.98001 12 5.34001C13.01 3.98001 14.63 3.10001 16.44 3.10001C19.51 3.10001 22 5.60001 22 8.69001C22 15.69 15.52 19.82 12.62 20.81Z" stroke="#FFDC8E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>':"")+"</div>"}),$("#channel-page-menu-container").html(s),t.channel_selection=0,this.channel_doms=$("#channel-page-menu-container .channel-menu-item"),$("#channel-page-menu-container").scrollTop(0),this.current_category_index=t.category_selection,this.prev_keyword="",$("#channel-title").text(""),$("#next-program-container").html(""),$("#search-value").val(""),$(this.channel_doms).removeClass("selected"),$(this.channel_doms[t.channel_selection]).addClass("selected"))},goChannelNum:function(e){var t,i;this.full_screen_video&&(0!=(t=this.channel_num)||0==t&&0!=e)&&(this.channel_num=t=10*t+e,clearTimeout(this.channel_number_timer),i=this,$("#typed-channel-number").text(t),this.channel_number_timer=setTimeout(function(){for(var e=i.movies,t=!1,s=0;s<e.length;s++)if(e[s].num===i.channel_num){t=!0,current_movie=e[s],i.showMovie(current_movie),i.current_channel_id=current_movie.stream_id,i.hoverChannel(i.channel_doms[s]),i.keys.focused_part="full_screen",i.showFullScreenInfo();break}t||showToast("Sorry","Channel does not exist"),i.channel_num=0,$("#typed-channel-number").text("")},2e3))},addOrRemoveFav:function(){var e=this.keys;if("channel_selection"===e.focused_part){var t=this.movies[e.channel_selection],s="add";"add"===(s=LiveModel.favourite_ids.includes(t.stream_id)?"remove":s)?(LiveModel.addRecentOrFavouriteMovie(t,"favourite"),$(this.channel_doms[e.channel_selection]).append('<svg class="favourite-icon added" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.44 3.10001C14.63 3.10001 13.01 3.98001 12 5.33001C10.99 3.98001 9.37 3.10001 7.56 3.10001C4.49 3.10001 2 5.60001 2 8.69001C2 9.88001 2.19 10.98 2.52 12C4.1 17 8.97 19.99 11.38 20.81C11.72 20.93 12.28 20.93 12.62 20.81C15.03 19.99 19.9 17 21.48 12C21.81 10.98 22 9.88001 22 8.69001C22 5.60001 19.51 3.10001 16.44 3.10001Z" fill="#FFDC8E"/><path d="M12.62 20.81C12.28 20.93 11.72 20.93 11.38 20.81C8.48 19.82 2 15.69 2 8.69001C2 5.60001 4.49 3.10001 7.56 3.10001C9.38 3.10001 10.99 3.98001 12 5.34001C13.01 3.98001 14.63 3.10001 16.44 3.10001C19.51 3.10001 22 5.60001 22 8.69001C22 15.69 15.52 19.82 12.62 20.81Z" stroke="#FFDC8E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>')):(s=this.categories[this.current_category_index],LiveModel.removeRecentOrFavouriteMovie(t.stream_id,"favourite"),$(this.channel_doms[e.channel_selection]).find(".favourite-icon.added").remove(),"favourite"===s.category_id&&($(this.channel_doms[e.channel_selection]).remove(),t=$("#channel-page-menu-container .channel-menu-item"),0==(this.channel_doms=t).length?this.hoverCategory(e.category_selection):(e.channel_selection>=t.length&&(e.channel_selection=t.length-1),this.hoverChannel(e.channel_selection))));try{for(var i=this.categories,a=0;a<i.length;a++)if("favourite"===i[a].category_id){var o=LiveModel.getRecentOrFavouriteCategory("favourite").movies.length;$(this.category_doms[a]).find(".channel-category-movie-counts").text(o);break}}catch(e){}}},showNextProgrammes:function(){for(var e="next-program-container",t=this.movies[this.keys.channel_selection],t=($("#channel-title").html(t.name),LiveModel.getNextProgrammes(this.programmes)),s=t.current_program_exist,i=t.programmes,a="",o=0;o<i.length;o++)a+='<div class="next-program-item '+(0==o&&s?"current":"")+'"><span class="program-time">'+i[o].start.substring(11)+" ~ "+i[o].stop.substring(11)+"</span>"+getAtob(i[o].title)+"</div>";0<i.length?$("#"+e).html(a).show():$("#"+e).hide().html("");var n,r,t="No Info",e="",l="No Info",c="";s?(n=i[0],1<i.length&&(r=i[1])):0<i.length&&(r=i[0]),n&&(t=getAtob(n.title),e=n.start.substring(11)+" ~ "+n.stop.substring(11)),r&&(l=getAtob(r.title),c=r.start.substring(11)+" ~ "+r.stop.substring(11)),$(".full-screen-program-name.current").text(t),$(".full-screen-program-time.current").text(e),$(".full-screen-program-name.next").text(l),$(".full-screen-program-time.next").text(c)},updateNextProgrammes:function(){this.showNextProgrammes(),clearInterval(this.next_programme_timer);var e=this;this.next_programme_timer=setInterval(function(){e.showNextProgrammes()},6e4)},getEpgProgrammes:function(){this.keys;var e=this,s=[],t=(this.programmes=[],e.showNextProgrammes(),this.movies[this.keys.channel_selection]);"xtreme"===settings.playlist_type&&(settings.playlist,$.ajax({method:"get",url:api_host_url+"/player_api.php?username="+user_name+"&password="+password+"&action=get_simple_data_table&stream_id="+t.stream_id,success:function(t){t.epg_listings&&t.epg_listings.map(function(e){(s=t.epg_listings).map(function(e){e.stop=e.end})}),e.programmes=s,e.updateNextProgrammes()}}))},showFullScreenInfo:function(){var e;this.full_screen_video&&(clearTimeout(this.full_screen_timer),$("#full-screen-information").slideDown(),(e=this).full_screen_timer=setTimeout(function(){e.hideFullScreenInfo()},5e3))},hideFullScreenInfo:function(){$("#full-screen-information").slideUp()},zoomInOut:function(){var e=this.keys;if(this.full_screen_video){$("#channel-page .player-container").addClass("expanded");try{media_player.setDisplayArea()}catch(e){}this.showFullScreenInfo(),e.focused_part="full_screen"}else{$("#channel-page .player-container").removeClass("expanded");try{media_player.setDisplayArea()}catch(e){}this.keys.focused_part="channel_selection",$("#full-screen-information").slideUp()}},showMovie:function(e){var t,s=(this.current_channel=e).stream_id;"xtreme"===settings.playlist_type?t=getMovieUrl(s,"live","ts"):"type1"===settings.playlist_type&&(t=e.url);try{media_player.close()}catch(e){}media_player.init("channel-page-video","channel-page");try{media_player.playAsync(t)}catch(e){}if(this.current_channel_id=s,$(".full-screen-channel-name").html(e.name),$(".full-screen-channel-logo").attr("src",e.stream_icon),!checkForAdult(e,"movie",LiveModel.categories)){LiveModel.addRecentOrFavouriteMovie(e,"recent");for(var i=this.categories,a=0;a<i.length;a++)if("recent"===i[a].category_id){var o=LiveModel.getRecentOrFavouriteCategory("recent").movies.length;$(this.category_doms[a]).find(".channel-category-movie-counts").text(o+" Channels");break}}},showNextChannel:function(e){var t=this.keys,s=t.focused_part,i=(t.channel_selection+=e,t.channel_selection<0&&(t.channel_selection=0),t.channel_selection>=this.channel_doms.length&&(t.channel_selection=this.channel_doms.length-1),this);setTimeout(function(){var e=i.movies[t.channel_selection];i.current_channel_id=e.stream_id,i.showMovie(i.movies[t.channel_selection])},400),this.hoverChannel(t.channel_selection),"full_screen"===s&&(t.focused_part="full_screen"),this.showFullScreenInfo()},playOrPause:function(){if(media_player.state==media_player.STATES.PLAYING)try{media_player.pause(),this.video_control_doms[1]}catch(e){}else try{media_player.play()}catch(e){}},showSearchModal:function(){var e=this.keys;this.full_screen_video||"search_selection"===e.focused_part||"theme_selection"===e.focused_part||(e.prev_focus=e.focused_part,$(".search-modal-container").show(),$("#search-value").val(""),$(".search-content-container").html(""),e.focused_part="search_selection",e.search_selection=-1,$("#search-value").focus()),this.toggleRearrangeMode(!1)},searchValueChange:function(){clearTimeout(this.search_timer);var e=this;this.search_timer=setTimeout(function(){$("#search-value").val().toLowerCase()!==e.prev_keyword&&e.renderSearchResults()},400)},renderSearchResults:function(){var t=(t=$("#search-value").val()).toLowerCase(),e=LiveModel.getCategories(!1,!1),s=[];if(2<=t.length)for(var i=0;i<e.length;i++)var a=e[i].movies.filter(function(e){return e.name.toLowerCase().includes(t)}),s=s.concat(a);s.sort(function(e,t){return e.name.localeCompare(t.name)});var o="";s.map(function(e,t){o+='<div class="search-item-wrapper"                    onmouseenter="channel_page.hoverSearchItem('+t+')"                     onclick="channel_page.searchItemClick()"                >'+e.name+"</div>"}),$(".search-content-container").html(o),this.search_items=$(".search-item-wrapper"),this.filtered_movies=s},handleSearchItem:function(e){var t=this.keys;0!=$(".search-item-wrapper").length&&(t.search_selection+=e,t.search_selection<0?($("#search-value").focus(),setTimeout(function(){var e=$("#search-value").val();$("#search-value")[0].setSelectionRange(e.length,e.length)},200)):($("#search-value").blur(),t.search_selection>=this.search_items.length&&(t.search_selection=this.search_items.length-1),$(".search-item-wrapper").removeClass("active"),$(this.search_items[t.search_selection]).addClass("active"),moveScrollPosition($(".search-content-container")[0],this.search_items[t.search_selection],"vertical",!1)))},removeSearchResult:function(){$(".search-modal-container").hide(),$(".search-content-container").html(""),this.keys.focused_part=this.keys.prev_focus,this.search_selection=-1},searchItemClick:function(){var e=this.keys;this.removeSearchResult();for(var t=this.filtered_movies[e.search_selection],s=LiveModel.getCategories(!1,!0),i=0,a=0;a<s.length;a++)if(s[a].category_id==t.category_id){i=a;break}showLoader(!0),this.is_loading=!0;var o=this.categories[i].movies,n=(i!==this.current_category_index&&(this.hoverCategory(i),this.showCategoryChannels()),this);setTimeout(function(){for(var e=0;e<o.length;e++)if(o[e].stream_id==t.stream_id&&o[e].name===t.name){n.hoverChannel(e),n.showMovie(o[e]);break}showLoader(!1),n.is_loading=!1},200)},toggleRearrangeMode:function(e){if(this.rearrange_mode)this.rearrange_mode=!1,$(prev_focus_dom).removeClass("rearrange");else if(e){e=this.keys;if("category_selection"===e.focused_part||"channel_selection"===e.focused_part){this.rearrange_mode=!0,$(".channel-page-category-item").removeClass("selected"),$(prev_focus_dom).addClass("rearrange");var t=0;if("channel_selection"===e.focused_part)t=e.channel_selection;else for(var s=this.categories[e.category_selection],i=0;i<LiveModel.categories.length;i++)if(LiveModel.categories[i].category_id==s.category_id){t=i;break}this.rearrange_origin_position=t}}},changeChannelDomContent:function(e,t,s){$(e).find(".channel-number").text(t.num),$(e).find(".channel-icon").attr("src",t.stream_icon),$(e).data("index",s),$(e).find(".channel-name").html(t.name),$(e).data("channel_id",t.stream_id)},changeCategoryDomContent:function(e,t,s){$(e).find(".channel-category-name").text(t.category_name),$(e).data("index",s),$(e).find(".channel-category-movie-counts").text(t.movies.length)},showEpgVideo:function(){var e=this.keys,t=this.movies[e.channel_selection],e=this.programmes[e.epg_selection],s=moment().unix(),i=getLocalChannelTime(e.start),a=getLocalChannelTime(e.stop);if(i.unix()>=s||a.unix()>=s)showToast("Sorry","Can't play current programme.<br>Try the previous programme");else{i=LiveModel.getProgrammeVideoUrl(t.stream_id,e).url;try{media_player.close()}catch(e){}$("#channel-page").addClass("hide"),vod_series_player_page.init(null,"epg","channel-page",i)}},hoverColorButton:function(e){var t;"channel-page"==current_route&&((t=this.keys).focused_part="color_btns_selection",t.color_btns_selection=e,$(prev_focus_dom).removeClass("rearrange"),$(prev_focus_dom).removeClass("active"),$(this.color_btns_doms).removeClass("active"),$(this.color_btns_doms[e]).addClass("active"),prev_focus_dom=$(this.color_btns_doms[e]))},clickColorButton:function(e){if("channel-page"==current_route){var t=this.keys;switch(t.color_btns_selection){case 0:this.showThemeModal();break;case 1:this.showSearchModal();break;case 2:this.hoverChannel(t.channel_selection),this.toggleRearrangeMode(!0);break;case 3:this.hoverChannel(t.channel_selection),this.addOrRemoveFav()}}},hoverCategory:function(e,t){var s;this.rearrange_mode||(t=t||!1,$("#channel-page-categories-container").css("overflow-y","scroll"),$("#channel-page-menu-container").css("overflow-y","hidden"),top_menu_page.closeSideBar(),$("#channel-page.theme-m #channel-page-categories-container").css("transform","translateX(0)"),(s=this.keys).focused_part="category_selection",s.category_selection="number"==typeof e?e:$(e).data("index"),$(prev_focus_dom).removeClass("active"),$(this.category_doms[s.category_selection]).addClass("active"),this.rearrange_mode&&($(prev_focus_dom).removeClass("rearrange"),$(this.category_doms[s.category_selection]).addClass("rearrange")),prev_focus_dom=this.category_doms[s.category_selection],utilities.scrollText($(this.category_doms[s.category_selection]),$(this.category_doms[s.category_selection]).find(".channel-category-name"),$(prev_focus_dom).find(".channel-category-name")),current_route="channel-page",moveScrollPosition($("#channel-page-categories-container"),this.category_doms[s.category_selection],"vertical",!0,t))},hoverChannel:function(e,t){var s,i,a;this.rearrange_mode||(t=t||!1,$("#channel-page-menu-container").css("overflow-y","scroll"),$("#channel-page-categories-container").css("overflow-y","hidden"),top_menu_page.closeSideBar(),$("#channel-page.theme-m #channel-page-categories-container").css("transform","translateX(-50rem)"),s=this.hover_channel_id,i=this.keys,current_route="channel-page",i.focused_part="channel_selection",i.channel_selection="number"==typeof e?e:$(e).data("index"),$(prev_focus_dom).removeClass("active"),$(this.channel_doms[i.channel_selection]).addClass("active"),this.rearrange_mode&&($(prev_focus_dom).removeClass("rearrange"),$(this.channel_doms[i.channel_selection]).addClass("rearrange")),prev_focus_dom=this.channel_doms[i.channel_selection],moveScrollPosition($("#channel-page-menu-container"),this.channel_doms[i.channel_selection],"vertical",!0,t),clearTimeout(this.channel_hover_timer),this.hover_channel_id=this.movies[i.channel_selection].stream_id,s!=this.hover_channel_id&&((a=this).channel_hover_timer=setTimeout(function(){a.getEpgProgrammes()},this.channel_hover_timeout)))},hoverSearchItem:function(e){this.keys.search_selection=e,$(this.search_items).removeClass("active"),$(this.search_items[e]).addClass("active"),moveScrollPosition($(".search-content-container")[0],this.search_items[e],"vertical",!1)},handleMenuClick:function(){if(this.rearrange_mode)this.toggleRearrangeMode(!1);else{var e=this.keys;switch(e.focused_part){case"category_selection":checkForAdult(this.categories[e.category_selection],"category",[])?parent_confirm_page.init(current_route):(this.showCategoryChannels(),this.toggleRearrangeMode(!1),0<this.channel_doms.length&&this.hoverChannel(0));break;case"video_control":$(this.video_control_doms[e.video_control]).trigger("click");break;case"full_screen":this.full_screen_video=!1,this.zoomInOut();break;case"channel_selection":var t=this.movies[e.channel_selection].stream_id;this.current_channel_id==t?(this.full_screen_video=!0,this.zoomInOut()):this.showMovie(this.movies[e.channel_selection]),this.toggleRearrangeMode(!1),$(this.channel_doms).removeClass("selected"),$(this.channel_doms[e.channel_selection]).addClass("selected");break;case"search_selection":e.search_selection<0?show_keyboard?$("#search-value").blur():$("#search-value").focus():(t=$(".search-item-wrapper")[e.search_selection],$(t).trigger("click"));break;case"epg_selection":this.showEpgVideo();break;case"theme_selection":2==e.theme_selection?this.closeThemeModal():this.selectTheme();break;case"color_btns_selection":this.clickColorButton(e.color_btns_selection)}}},handleMenusUpDown:function(e){var i=this.keys,t=this.channel_doms;switch(i.focused_part){case"category_selection":var s=i.category_selection;if(i.category_selection+=e,i.category_selection<0)i.category_selection=0,top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection);else if(i.category_selection>=this.category_doms.length)i.category_selection=this.category_doms.length-1;else{if(this.rearrange_mode){if(s==i.category_selection)return;for(var a=this.categories[s],o=this.categories[i.category_selection],n=(this.changeCategoryDomContent(this.category_doms[s],o,s),this.changeCategoryDomContent(this.category_doms[i.category_selection],a,i.category_selection),this.category_doms=$(".channel-page-category-item"),clearTimeout(this.rearrange_timer),0),r=0;r<LiveModel.categories.length;r++)if(o.category_id==LiveModel.categories[r].category_id){n=r;break}LiveModel.categories=makeRearrangeArray(LiveModel.categories,this.rearrange_origin_position,n),this.categories=LiveModel.getCategories(!1,!0),this.rearrange_origin_position=n,this.rearrange_timer=setTimeout(function(){for(var e=(e=localStorage.getItem(storage_id+settings.playlist.id+"_category_orders"))?JSON.parse(e):[],t=0;t<e.length;t++)if(e[t].id==a.category_id){e.splice(t,1);break}e.push({id:a.category_id,position:n}),localStorage.setItem(storage_id+settings.playlist.id+"_category_orders",JSON.stringify(e)),LiveModel.category_orders=e,LiveModel.updateRecentAndFavouritePosition()},this.rearrange_timeout)}this.hoverCategory(i.category_selection)}break;case"channel_selection":var l,c,s=i.channel_selection;if(i.channel_selection+=e,i.channel_selection>=t.length)i.channel_selection=t.length-1;else if(i.channel_selection<0)i.channel_selection=0,top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection);else{if(this.rearrange_mode){if(i.channel_selection===s)return;c=makeRearrangeArray(this.movies,s,i.channel_selection),this.movies=c;var d=this.categories[i.category_selection];d.movies=c,c=this.movies[s],l=this.movies[i.channel_selection],this.changeChannelDomContent(this.channel_doms[s],c,s),this.changeChannelDomContent(this.channel_doms[i.channel_selection],l,i.channel_selection),this.channel_doms=$("#channel-page-menu-container .channel-menu-item"),clearTimeout(this.rearrange_timer),this.rearrange_timer=setTimeout(function(){var e=localStorage.getItem(storage_id+settings.playlist.id+"_channel_orders"),t=[];(e=e?JSON.parse(e):{})[d.category_id]&&(t=e[d.category_id]);for(var s=0;s<t.length;s++)if(t[s].id==l.stream_id&&t[s].name==l.name){t.splice(s,1);break}t.push({id:l.stream_id,name:l.name,position:i.channel_selection}),e[d.category_id]=t,localStorage.setItem(storage_id+settings.playlist.id+"_channel_orders",JSON.stringify(e))},this.rearrange_timeout)}this.hoverChannel(i.channel_selection)}break;case"full_screen":this.showNextChannel(-1*e);break;case"search_selection":this.handleSearchItem(e);break;case"epg_selection":i.epg_selection+=e,i.epg_selection<0&&(i.epg_selection=0),i.epg_selection>=this.epg_doms.length&&(i.epg_selection=this.epg_doms.length-1),this.hoverEpgItem(i.epg_selection,!0);break;case"theme_selection":e<0?this.hoverThemeItem(0):this.hoverThemeItem(2)}},handleMenuLeftRight:function(e){var t=this.keys;switch(t.focused_part){case"category_selection":0<e&&0<this.movies.length?(t.focused_part="channel_selection",$(prev_focus_dom).removeClass("rearrange"),this.toggleRearrangeMode(!1),this.hoverChannel(t.channel_selection)):e<0&&(top_menu_page.hoverSideBar(0),$(".channel-page-category-item").removeClass("active"));break;case"channel_selection":e<0&&($(prev_focus_dom).removeClass("rearrange"),this.toggleRearrangeMode(!1),this.hoverCategory(t.category_selection)),0<e&&($(prev_focus_dom).removeClass("rearrange"),this.toggleRearrangeMode(!1),this.hoverColorButton(0));break;case"side_bar":0<e&&(top_menu_page.closeSideBar(),t.focused_part="category_selection",this.hoverCategory(t.category_selection));break;case"theme_selection":t.theme_selection+=e,t.theme_selection<0&&(t.theme_selection=0),t.theme_selection>=this.theme_doms.length&&(t.theme_selection=this.theme_doms.length-1),this.hoverThemeItem(t.theme_selection);break;case"color_btns_selection":t.color_btns_selection+=e,t.color_btns_selection>=this.color_btns_doms.length&&(t.color_btns_selection=this.color_btns_doms.length-1),t.color_btns_selection<0?(t.color_btns_selection=0,this.hoverChannel(t.channel_selection)):this.hoverColorButton(t.color_btns_selection)}},HandleKey:function(e){if(!this.is_loading){var t=this.keys;switch(e.keyCode){case tvKey.RIGHT:this.handleMenuLeftRight(1);break;case tvKey.LEFT:this.handleMenuLeftRight(-1);break;case tvKey.DOWN:this.handleMenusUpDown(1);break;case tvKey.UP:this.handleMenusUpDown(-1);break;case tvKey.ENTER:this.handleMenuClick();break;case tvKey.CH_UP:"full_screen"===t.focused_part&&this.showNextChannel(1);break;case tvKey.CH_DOWN:"full_screen"===t.focused_part&&this.showNextChannel(-1);break;case tvKey.RETURN:this.goBack();break;case tvKey.N1:this.goChannelNum(1);break;case tvKey.N2:this.goChannelNum(2);break;case tvKey.N3:this.goChannelNum(3);break;case tvKey.N4:this.goChannelNum(4);break;case tvKey.N5:this.goChannelNum(5);break;case tvKey.N6:this.goChannelNum(6);break;case tvKey.N7:this.goChannelNum(7);break;case tvKey.N8:this.goChannelNum(8);break;case tvKey.N9:this.goChannelNum(9);break;case tvKey.N0:this.goChannelNum(0);break;case tvKey.PAUSE:case tvKey.PLAY:case tvKey.PLAYPAUSE:this.playOrPause();break;case tvKey.BLUE:this.showSearchModal();break;case tvKey.GREEN:this.showThemeModal();break;case tvKey.RED:return void this.toggleRearrangeMode(!0);case tvKey.YELLOW:this.addOrRemoveFav()}}}};function convertProgrammeTimeToClientTime(e){e=moment(e,"YYYYMMDDHHmmss Z");return e.utc().add(client_offset,"minute"),e.format("Y-MM-DD HH:mm")}function getTodayDate(e){var t=new Date;return moment(t).format(e)}function calculateTimeDifference(e,t){e=new Date(e);time_difference_with_server=parseInt((1e3*t-e.getTime())/6e4)}function getLocalChannelTime(e){return moment(e).add(time_difference_with_server,"minute")}var vod_summary_page={keys:{index:0},genre:[],min_btn_index:0,action_btns:$(".vod-action-btn"),has_trailer:!1,is_favourite:!1,is_loading:!1,prev_route:"",init:function(e){$(".page-top-right-item").hide(),top_menu_page.sub_route="vod-summary-page",this.prev_route=e;var r=this,l=VodModel.saved_video_times[current_movie.stream_id],e=($("#vod-summary-image-wrapper img").attr("src",""),$("#vod-summary-image-wrapper img").attr("src",current_movie.stream_icon||HOST+"app_src_min/images/default_movie_poster.png"),this.is_favourite=!VodModel.favourite_ids.includes(current_movie.stream_id),this.toggleFavourite(),$("#vod-summary-name").text(current_movie.name),$("#vod-watch-trailer-button").hide(),$("#vod-summary-release-date").text(""),$("#vod-summary-genre").text(""),$("#vod-summary-release-length").text(""),$("#vod-summary-release-age").text(""),$("#vod-summary-release-director").text(""),$("#vod-summary-release-cast").text(""),$("#vod-summary-description").text(""),$(".summary-progress-container").hide(),$("#vod-watch-movie-button").text("Watch Movie"),current_movie.youtube_trailer="",this.hoverButton(0),0),e=void 0===current_movie.rating||""===current_movie.rating?0:parseFloat(current_movie.rating);isNaN(e)&&(e=0),$("#vod-rating-container").find(".rating-upper").css({width:10*e+"%"}),$("#vod-rating-mark").text(e.toFixed(1)),VodModel.favourite_ids.includes(current_movie.stream_id)?($(this.action_btns[2]).data("action","remove"),$(this.action_btns[2]).html('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.44 3.10001C14.63 3.10001 13.01 3.98001 12 5.33001C10.99 3.98001 9.37 3.10001 7.56 3.10001C4.49 3.10001 2 5.60001 2 8.69001C2 9.88001 2.19 10.98 2.52 12C4.1 17 8.97 19.99 11.38 20.81C11.72 20.93 12.28 20.93 12.62 20.81C15.03 19.99 19.9 17 21.48 12C21.81 10.98 22 9.88001 22 8.69001C22 5.60001 19.51 3.10001 16.44 3.10001Z" fill="#FFDC8E"></path><path d="M12.62 20.81C12.28 20.93 11.72 20.93 11.38 20.81C8.48 19.82 2 15.69 2 8.69001C2 5.60001 4.49 3.10001 7.56 3.10001C9.38 3.10001 10.99 3.98001 12 5.34001C13.01 3.98001 14.63 3.10001 16.44 3.10001C19.51 3.10001 22 5.60001 22 8.69001C22 15.69 15.52 19.82 12.62 20.81Z" stroke="#FFDC8E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>')):($(this.action_btns[2]).data("action","add"),$(this.action_btns[2]).html('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.62 20.81C12.28 20.93 11.72 20.93 11.38 20.81C8.48 19.82 2 15.69 2 8.69001C2 5.60001 4.49 3.10001 7.56 3.10001C9.38 3.10001 10.99 3.98001 12 5.34001C13.01 3.98001 14.63 3.10001 16.44 3.10001C19.51 3.10001 22 5.60001 22 8.69001C22 15.69 15.52 19.82 12.62 20.81Z" stroke="#FFF8F0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>')),$("#vod-series-page").addClass("hide"),$("#vod-summary-page").removeClass("hide"),current_route="vod-summary-page",this.min_btn_index=0,current_movie.info={},"xtreme"===settings.playlist_type&&(showLoader(!0),this.is_loading=!0,$.getJSON(api_host_url+"/player_api.php?username="+user_name+"&password="+password+"&action=get_vod_info&vod_id="+current_movie.stream_id).done(function(e){var t,s,i,a=e.info,o=a.genre;if(o&&""!=o&&null!=o)if(-1<o.indexOf(",")?o=o.split(","):-1<o.indexOf("/")&&(o=o.split("/")),Array.isArray(o))for(var n=0;n<o.length;n++)""!=o[n].trim()&&null!=o[n]&&$("#vod-summary-genre").append('<span class="genre-item">'+o[n]+"</span>");else $("#vod-summary-genre").append('<span class="genre-item">'+o+"</span>");"undefined"!=a.duration&&""!=a.duration&&null!=a.duration&&(i=a.duration.split(":"),s="",0<(t=parseInt(i[0]))&&(s+=t+"h "),0<(t=parseInt(i[1])))&&(s+=t+"m"),$("#vod-summary-release-date").text(a.releasedate||a.releaseDate||"unknown"),$("#vod-summary-release-length").text(s||"unknown"),$("#vod-summary-release-age").text(a.age||"unknown"),$("#vod-summary-release-director").text(a.director||"unknown"),$("#vod-summary-release-cast").text(a.cast||"unknown"),$("#vod-summary-description").text(a.description||a.plot||"no description"),l&&(i=utilities.getPercentage(l[0],l[1]),(i=isNaN(i)?0:i)<1&&(i=1),$(".progress-percentage").text(i+"%"),$(".progress-bar-upper").css("width",i+"%"),$("#vod-watch-movie-button").text("Continue Watching"),$(".summary-progress-container").show()),current_movie.info=a,current_movie.youtube_trailer=e.info.youtube_trailer,void 0!==a.youtube_trailer&&null!=a.youtube_trailer&&""!==a.youtube_trailer.trim()&&(r.has_trailer=!0,$("#vod-watch-trailer-button").show()),showLoader(!1),r.is_loading=!1}).fail(function(){showLoader(!1),r.is_loading=!1}))},goBack:function(){$("#vod-summary-page").addClass("hide"),current_route=this.prev_route;var e,t=vod_series_page.keys,s=vod_series_page.menu_doms;"search-page"==current_route?($("#search-page").show(),s=search_page.movie_doms[1],t=search_page.keys,top_menu_page.sub_route="search-page"):"vod-series-page"==current_route&&(top_menu_page.sub_route="vod-series-page",$("#vod-series-page").removeClass("hide"),$(".sort-icon").css("display","inline-flex"),$(".theme-icon").css("display","inline-flex"),$(".favorite-icon").css("display","inline-flex"),$(".page-top-right-item.search-icon").css("display","inline-flex"),vod_series_page.hoverMovieItem(vod_series_page.menu_doms[vod_series_page.keys.menu_selection])),this.is_favourite?VodModel.favourite_ids.includes(current_movie.stream_id)||(VodModel.addRecentOrFavouriteMovie(current_movie,"favourite"),$($(s[t.menu_selection]).find(".favourite-badge")).html('<svg  width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.44 3.10001C14.63 3.10001 13.01 3.98001 12 5.33001C10.99 3.98001 9.37 3.10001 7.56 3.10001C4.49 3.10001 2 5.60001 2 8.69001C2 9.88001 2.19 10.98 2.52 12C4.1 17 8.97 19.99 11.38 20.81C11.72 20.93 12.28 20.93 12.62 20.81C15.03 19.99 19.9 17 21.48 12C21.81 10.98 22 9.88001 22 8.69001C22 5.60001 19.51 3.10001 16.44 3.10001Z" fill="#FFDC8E"></path><path d="M12.62 20.81C12.28 20.93 11.72 20.93 11.38 20.81C8.48 19.82 2 15.69 2 8.69001C2 5.60001 4.49 3.10001 7.56 3.10001C9.38 3.10001 10.99 3.98001 12 5.34001C13.01 3.98001 14.63 3.10001 16.44 3.10001C19.51 3.10001 22 5.60001 22 8.69001C22 15.69 15.52 19.82 12.62 20.81Z" stroke="#FFDC8E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>')):(VodModel.removeRecentOrFavouriteMovie(current_movie.stream_id,"favourite"),e=vod_series_page.categories[t.category_selection],s=vod_series_page.menu_doms,e&&"favourite"===e.category_id&&($(s[t.menu_selection]).remove(),(0<s.length?(s.map(function(e,t){$(t).data("index",e)}),s=$("#vod-series-menus-container .vod-series-menu-item-container"),vod_series_page.menu_doms=s,t.menu_selection>=vod_series_page.menu_doms.length&&(t.menu_selection=vod_series_page.menu_doms.length-1),$(vod_series_page.menu_doms[t.menu_selection])):(t.focused_part="category_selection",$(vod_series_page.category_doms[t.category_selection]))).addClass("active")))},showErrorMessage:function(){$("#toast-body").html("<h3>Sorry<br>No movie available</h3>"),$(".toast").toast({animation:!0,delay:2e3}),$("#toast").toast("show")},showTrailerVideo:function(){""===current_movie.youtube_trailer||null==current_movie.youtube_trailer?($("#toast-body").html("<h3>Sorry<br>No trailer video available</h3>"),$(".toast").toast({animation:!0,delay:2e3}),$("#toast").toast("show")):trailer_page.init(current_movie.youtube_trailer,current_route)},showMovie:function(){$("#vod-summary-page").addClass("hide");var e=VodModel.getCategories(!0,!1);checkForAdult(current_movie,"movie",e)||VodModel.addRecentOrFavouriteMovie(current_movie,"recent"),vod_series_player_page.makeEpisodeDoms("vod-summary-page"),vod_series_player_page.init(current_movie,"movies",this.prev_route,"",!0)},toggleFavourite:function(){var e=this.action_btns[2];this.is_favourite=!this.is_favourite,this.is_favourite?$(e).html('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.44 3.10001C14.63 3.10001 13.01 3.98001 12 5.33001C10.99 3.98001 9.37 3.10001 7.56 3.10001C4.49 3.10001 2 5.60001 2 8.69001C2 9.88001 2.19 10.98 2.52 12C4.1 17 8.97 19.99 11.38 20.81C11.72 20.93 12.28 20.93 12.62 20.81C15.03 19.99 19.9 17 21.48 12C21.81 10.98 22 9.88001 22 8.69001C22 5.60001 19.51 3.10001 16.44 3.10001Z" fill="#FFDC8E"></path><path d="M12.62 20.81C12.28 20.93 11.72 20.93 11.38 20.81C8.48 19.82 2 15.69 2 8.69001C2 5.60001 4.49 3.10001 7.56 3.10001C9.38 3.10001 10.99 3.98001 12 5.34001C13.01 3.98001 14.63 3.10001 16.44 3.10001C19.51 3.10001 22 5.60001 22 8.69001C22 15.69 15.52 19.82 12.62 20.81Z" stroke="#FFDC8E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>'):$(e).html('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.62 20.81C12.28 20.93 11.72 20.93 11.38 20.81C8.48 19.82 2 15.69 2 8.69001C2 5.60001 4.49 3.10001 7.56 3.10001C9.38 3.10001 10.99 3.98001 12 5.34001C13.01 3.98001 14.63 3.10001 16.44 3.10001C19.51 3.10001 22 5.60001 22 8.69001C22 15.69 15.52 19.82 12.62 20.81Z" stroke="#FFF8F0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>')},hoverButton:function(e){var t=this.keys;t.index=e,t.focused_part="action_btn",$(prev_focus_dom).removeClass("active"),current_route="vod-summary-page",prev_focus_dom=$(".vod-action-btn")[t.index],$($(".vod-action-btn")[t.index]).addClass("active")},keyMoveUpDown:function(e){e<0&&top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection)},keyMoveLeftRight:function(e){var t=this.min_btn_index,s=this.keys;this.has_trailer||(e*=2),s.index+=e,s.index<t?(s.index=0,top_menu_page.hoverSideBar(top_menu_page.keys.side_bar_selection)):(2<s.index&&(s.index=2),this.hoverButton(s.index))},keyClick:function(){var e=this.keys,e=$(".vod-action-btn")[e.index];$(e).trigger("click")},HandleKey:function(e){if(this.is_loading)e.keyCode===tvKey.RETURN&&(showLoader(!1),this.is_loading=!1,this.goBack());else switch(e.keyCode){case tvKey.RETURN:this.goBack();break;case tvKey.UP:this.keyMoveUpDown(-1);break;case tvKey.DOWN:this.keyMoveUpDown(1);break;case tvKey.LEFT:this.keyMoveLeftRight(-1);break;case tvKey.RIGHT:this.keyMoveLeftRight(1);break;case tvKey.ENTER:this.keyClick();break;case tvKey.YELLOW:this.toggleFavourite()}}},vod_series_player_page={player:null,back_url:"",show_control:!1,timeOut:null,has_episodes:!1,keys:{focused_part:"control_bar",control_bar:0,info_bar:0,operation_modal:0,subtitle_audio_selection_modal:0,audio_selection_modal:0,prev_focus:"",resume_bar:0,episode_selection:0},current_subtitle_index:-1,current_audio_track_index:-1,subtitle_audio_menus:[],forwardTimer:null,current_time:0,show_subtitle:!1,show_audio_track:!1,video_control_doms:$("#vod-series-video-controls-container .video-control-icon i"),video_info_doms:$("#vod-series-video-controls-container .video-info-btn"),vod_info_timer:null,current_movie:{},resume_time:0,resume_timer:null,episode_doms:[],resume_bar_doms:$("#video-resume-modal .resume-action-btn"),seek_timer:null,seek_interval_timer:null,current_movie_type:"",video_duration:0,last_key_time:0,series_id:0,slider_element:$("#vod-series-video-progressbar-container .video-progress-bar-slider")[0],showNextVideo_debounce:!1,init:function(e,t,s,i,a){this.current_movie=e,this.series_id=a,this.current_time=0,this.video_duration=0,$("#vod-series-player-page").removeClass("hide"),this.showControlBar(!0);var o,n,r,a=$(this.video_control_doms[2]),l=($(a).removeClass("fa-play"),$(a).addClass("fa-pause"),this.hoverVideoControlIcon(2),$("#vod-series-player-page").find(".video-current-time").text("--:--"),$("#vod-series-player-page").find(".video-total-time").text("--:--"),this),a=this.slider_element;$(a).attr({min:0,max:100}),$(a).rangeslider({polyfill:!1,rangeClass:"rangeslider",onSlideEnd:function(e,t){l.sliderPositionChanged(t)}}),$(a).val(0).change(),$(a).rangeslider("update"),clearTimeout(this.resume_timer),"movies"===t||"movie"===t?("xtreme"===settings.playlist_type?o=getMovieUrl(e.stream_id,"movie",e.container_extension):"type1"===settings.playlist_type&&(o=e.url),$("#vod-series-video-title").html(e.name)):"series"===t?("xtreme"===settings.playlist_type?o=getMovieUrl(e.id,"series",e.container_extension):"type1"===settings.playlist_type&&(o=e.url),$("#vod-series-video-title").html(e.title)):"replays"===t&&(o=i,i=getLocalChannelTime((a=channel_page.programmes[channel_page.keys.epg_selection]).start),r=getLocalChannelTime(a.stop),n=i.format(i="Y-MM-DD HH:mm"),r=r.format(i),i=getAtob(a.title)+"  <span class='player-epg-title-time'>"+n.substr(11)+"~"+r.substr(11)+"</span>",$("#vod-series-video-title").html(i)),this.back_url=s;try{media_player.close()}catch(e){}try{media_player.init("vod-series-player-video","vod-series-player-page"),media_player.setDisplayArea()}catch(e){}try{media_player.playAsync(o)}catch(e){}a="movies"===t||"movie"===t?"stream_id":"id","movies"===t||"movie"===t||"series"===t?(a=e[a].toString(),"movies"===t||"movie"===t?void 0!==VodModel.saved_video_times[a]?this.resume_time=VodModel.saved_video_times[a][0]:this.resume_time=0:"series"===t&&(void 0!==SeriesModel.saved_video_times[this.series_id]&&void 0!==SeriesModel.saved_video_times[this.series_id][a]?this.resume_time=SeriesModel.saved_video_times[this.series_id][a][0]:this.resume_time=0)):this.resume_time=0,current_route="vod-series-player-video",this.current_subtitle_index=-1,this.current_audio_track_index=-1,this.show_subtitle=!1,this.current_movie_type=t},sliderPositionChanged:function(e){this.hoverSlider(),media_player.videoObj.currentTime=e,this.current_time=e,$(this.slider_element).val(e).change(),$("#"+media_player.parent_id).find(".video-current-time").html(media_player.formatTime(e))},makeEpisodeDoms:function(e){var s;this.keys.episode_selection=0,"episode-page"===e?(e=current_season.episodes,this.episodes=e,this.has_episodes=!0,s="",e.map(function(e,t){s+='<div class="player-season-item"                        onclick="vod_series_player_page.showSelectedEpisode()"                        onmouseenter="vod_series_player_page.hoverEpisode('+t+')"                    >                        <div class="player-episode-title-container">                            <div class="player-episode-number">'+(t+1)+'</div>                             <div class="player-episode-title max-line-2">'+e.title+"</div>                        </div>                    </div>"}),$("#player-seasons-container").html(s),this.episode_doms=$(".player-season-item"),$("#player-seasons-container").removeClass("expanded"),$("#player-seasons-container").show()):(this.has_episodes=!1,$("#player-seasons-container").html(""),this.episode_doms=$(".player-season-item"),this.episode_doms=[],$("#player-seasons-container").hide())},showResumeBar:function(){var e=this.keys;0<this.resume_time&&("resume_bar"!==e.focused_part&&(e.prev_focus=e.focused_part),e="lg"===platform?1:1e3,e=media_player.formatTime(this.resume_time/e),$("#vod-resume-time").text(e),$("#video-resume-modal").show(),this.hideControlBar(),clearTimeout(this.resume_timer),this.hoverResumeBtn(0))},Exit:function(){this.saveVideoTime(),current_route=this.back_url;try{media_player.close()}catch(e){console.log(e)}$("#"+media_player.parent_id).find(".video-error").hide(),$("#"+media_player.parent_id).find(".subtitle-container").text(""),$("#vod-series-player-page").addClass("hide")},saveVideoTime:function(){try{"samsung"===platform?(s=2e3,e=webapis.avplay.getCurrentTime(),t=webapis.avplay.getDuration()):"lg"===platform&&(e=media_player.videoObj.currentTime,t=media_player.videoObj.duration,s=2);var e,t,s,i,a=this.current_movie;s<=t-e?("movies"!==this.current_movie_type&&"movie"!==this.current_movie_type||VodModel.saveVideoTime(a.stream_id,e,t),"series"===this.current_movie_type&&(i=[a.episode_num,a.season]),SeriesModel.saveVideoTime(a.id,e,t,i,this.series_id)):("movies"!==this.current_movie_type&&"movie"!==this.current_movie_type||VodModel.removeVideoTime(a.stream_id),"series"===this.current_movie_type&&SeriesModel.removeVideoTime(a.id))}catch(e){}},exitPlayer:function(){switch(console.log(this.back_url),this.Exit(),this.back_url){case"vod-series-page":current_route="vod-series-page",$("#vod-summary-page").removeClass("hide"),vod_summary_page.hoverButton(0),vod_series_page.updateVodProgress(this.current_movie.stream_id);break;case"episode-page":current_route="series-summary-page",$("#series-summary-page").removeClass("hide"),series_summary_page.hoverEpisode(series_summary_page.keys.episode_selection),vod_series_page.updateSeriesProgress(this.series_id,this.current_movie.id);break;case"channel-page":channel_page.reEnter(),channel_page.hoverEpgItem(channel_page.keys.channel_selection,!0);break;case"catch-up":$("#epg-page").removeClass("hide"),catchup_page.selectProgramme(catchup_page.keys.programme_selection,!1);break;case"search-page":current_route="search-page",$("#search-page").show()}},goBack:function(){$(".modal").modal("hide");var e=this.keys;"resume_bar"===e.focused_part&&"none"===$("#video-resume-modal").css("display")&&(e.focused_part="control_bar"),this.show_control?this.hideControlBar():"control_bar"!==e.focused_part&&"info_bar"!==e.focused_part&&"episode_selection"!==e.focused_part&&"slider"!==e.focused_part||this.exitPlayer(),"subtitle_audio_selection_modal"===e.focused_part&&(e.focused_part="control_bar",$("#subtitle-selection-modal").modal("hide")),"vod_info"===e.focused_part&&($("#vod-video-info-container").hide(),clearTimeout(this.vod_info_timer),e.focused_part=e.prev_focus),"resume_bar"===e.focused_part&&($("#video-resume-modal").hide(),e.focused_part=e.prev_focus,clearTimeout(this.resume_timer))},playPauseVideo:function(){this.showControlBar(!1);var e=this.video_control_doms,e=$(e[2]);if(media_player.state===media_player.STATES.PLAYING)try{media_player.pause(),$(e).removeClass("fa-pause"),$(e).addClass("fa-play")}catch(e){}else if(media_player.state===media_player.STATES.PAUSED)try{media_player.play(),$(e).removeClass("fa-play"),$(e).addClass("fa-pause")}catch(e){}},seekTo:function(e){if("samsung"===platform){var t=(new Date).getTime()/1e3;if(!(t-this.last_key_time<.1)){if(this.last_key_time=t,0===this.current_time&&(this.current_time=media_player.current_time/1e3),0!=this.video_duration)s=this.video_duration;else try{s=webapis.avplay.getDuration()/1e3,this.video_duration=s}catch(e){this.video_duration=s=0}if(s)if((i=this.current_time+e)<0)this.showNextVideo(-1);else if(s<=i)this.showNextVideo(1);else{if(this.current_time=i,$("#"+media_player.parent_id).find(".video-current-time").html(media_player.formatTime(i)),$(this.slider_element).val(i).change(),clearTimeout(this.seek_timer),media_player.state===media_player.STATES.PLAYING)try{media_player.pause()}catch(e){}$("#"+media_player.parent_id).find(".video-loader").show(),this.seek_timer=setTimeout(function(){webapis.avplay.seekTo(1e3*i),setTimeout(function(){try{media_player.play()}catch(e){}},200)},500),$(this.video_control_doms[2]).removeClass("fa-play"),$(this.video_control_doms[2]).addClass("fa-pause")}}}else{var s,i;0===this.current_time&&(this.current_time=media_player.videoObj.currentTime),(s=media_player.videoObj.duration)<=(i=(i=this.current_time+e)<0?0:i)&&(i=s),this.current_time=i,media_player.videoObj.currentTime=i,0<s&&($(this.slider_element).val(i).change(),$("#"+media_player.parent_id).find(".video-current-time").html(media_player.formatTime(i)))}},showSelectedEpisode:function(){var e=series_summary_page.keys,t=this.keys,s=series_summary_page.episode_doms;if(e.episode_selection!=t.episode_selection){$(s).removeClass("active"),e.episode_selection=t.episode_selection,$(s[e.episode_selection]).addClass("active");s=this.episodes[t.episode_selection];this.saveVideoTime(),this.resume_time=0;try{media_player.close()}catch(e){}current_episode=s,vod_series_player_page.init(current_episode,"series","episode-page",""),this.hoverEpisode(t.episode_selection)}},showNextVideo:function(e){if(!this.showNextVideo_debounce){this.showNextVideo_debounce=!0;var t=this;switch(setTimeout(function(){t.showNextVideo_debounce=!1},1e3),this.saveVideoTime(),this.resume_time=0,this.back_url){case"vod-series-page":var s=vod_series_page.menu_doms;(i=vod_series_page.keys).menu_selection+=e,i.menu_selection<0?i.menu_selection=0:i.menu_selection>=vod_series_page.movies.length?i.menu_selection=vod_series_page.movies.length-1:($(s).removeClass("active"),$(s[i.menu_selection]).addClass("active"),current_movie=vod_series_page.movies[i.menu_selection],this.init(current_movie,"movie","vod-series-page",""));break;case"home-page":var i=home_page.keys;if("movies"===this.current_movie_type||"movie"===this.current_movie_type){if(a=home_page.keys.latest_movie_selection+e,s=home_page.latest_movies,a<0)return;if(a>=s.length)return this.hideControlBar(),void this.goBack();i.latest_movie_selection=a,current_movie=home_page.latest_movies[a],this.init(current_movie,"movie","home-page","")}break;case"episode-page":var a,i=series_summary_page.keys,s=series_summary_page.episode_doms;$(s).removeClass("active"),i.episode_selection+=e,i.episode_selection<0?i.episode_selection=0:i.episode_selection>=s.length?i.episode_selection=s.length-1:($(s[i.episode_selection]).addClass("active"),a=current_season.episodes,current_episode=a[i.episode_selection],vod_series_player_page.init(current_episode,"series","episode-page",""));break;case"channel-page":s=channel_page.keys.epg_selection;(s+=e)<0||s>=channel_page.programmes.length||(channel_page.keys.epg_selection=s,channel_page.showEpgVideo())}}},showControlBar:function(e){$("#vod-series-video-controls-container").slideDown(),this.show_control=!0;var t=this;e&&(this.hoverVideoControlIcon(2),$("#player-seasons-container").removeClass("expanded")),clearTimeout(this.timeOut),this.timeOut=setTimeout(function(){t.hideControlBar()},1e4)},hideControlBar:function(){$("#vod-series-video-controls-container").slideUp(),this.show_control=!1},makeMediaTrackElement:function(e,t){var i="",a=0,o=("TEXT"===t&&(a=1,i='<div class="modal-operation-menu-type-2 subtitle-item"                    onmouseenter="vod_series_player_page.hoverSubtitle(0)"                     onclick="vod_series_player_page.handleMenuClick()"                 >                   <input class="magic-radio" type="radio" name="radio" id="disable-subtitle" value="-1">                   <label for="disable-subtitle">Disabled</label>                </div>'),"track_lang");return"TEXT"!==t&&(o="language"),e.map(function(e,t){var s=e.extra_info;i+='<div class="modal-operation-menu-type-2 subtitle-item"                    onmouseenter="vod_series_player_page.hoverSubtitle('+(t+a)+')"                     onclick="vod_series_player_page.handleMenuClick()"                 >                    <input class="magic-radio" type="radio" name="radio" id="disable-subtitle"                        value="'+e.index+'"                    >                    <label for="disable-subtitle">'+s[o]+"</label>                </div>"}),i},showSubtitleAudioModal:function(e){var s=this;this.hideControlBar();try{var t,i,a,o,n=media_player.getSubtitleOrAudioTrack(e);console.log(e),$("#vod-series-player-operation-modal").modal("hide"),0<n.length?(console.log("open subtitle selection modal###"),this.keys.prev_focus=this.keys.focused_part,"TEXT"==e?$("#subtitle-modal-title").text("Subtitle"):$("#subtitle-modal-title").text("Audio Track"),this.keys.focused_part="subtitle_audio_selection_modal",$("#subtitle-selection-modal").find(".modal-operation-menu-type-2").removeClass("active"),t=this.makeMediaTrackElement(n,e),$("#subtitle-selection-container").html(t),$("#subtitle-selection-modal").modal("show"),i=$("#subtitle-selection-modal .subtitle-item"),this.subtitle_audio_menus=i,$(i[0]).find("input").prop("checked",!0),this.hoverSubtitle(0),a="TEXT"===e?this.current_subtitle_index:this.current_audio_track_index,n.map(function(e,t){e.index==a&&(s.keys.subtitle_audio_selection_modal=t,$(i).removeClass("active"),$(i).find("input").prop("checked",!0),$(i[t]).find("input").prop("checked",!0),s.hoverSubtitle(t))}),o=$("#subtitle-selection-modal").find(".modal-btn-2"),$(o).removeClass("active")):(this.keys.focused_part="control_bar",showToast("Sorry","TEXT"===e?"No Subtitles exists":"No Audio exists"))}catch(e){this.keys.focused_part="control_bar",$("#vod-series-player-operation-modal").modal("hide"),showToast("Sorry","Video not loaded yet")}},cancelSubtitle:function(){$("#subtitle-selection-modal").modal("hide"),this.keys.focused_part=this.keys.prev_focus},confirmSubtitle:function(){if($("#subtitle-selection-modal").modal("hide"),this.keys.focused_part=this.keys.prev_focus,$("#subtitle-modal-title").text().toLowerCase().includes("subtitle")){this.current_subtitle_index=$("#subtitle-selection-modal").find("input[type=radio]:checked").val();try{this.show_subtitle=!0,media_player.setSubtitleOrAudioTrack("TEXT",parseInt(this.current_subtitle_index)),$("#vod-series-player-page").find(".subtitle-container").css({visibility:"visible"})}catch(e){}console.log(this.current_subtitle_index)}else{this.current_audio_track_index=$("#subtitle-selection-modal").find("input[type=radio]:checked").val();try{media_player.setSubtitleOrAudioTrack("AUDIO",parseInt(this.current_audio_track_index))}catch(e){}console.log(this.current_audio_track_index)}},removeAllActiveClass:function(){$(this.video_control_doms).removeClass("active"),$(this.video_info_doms).removeClass("active"),$(this.video_control_doms).removeClass("active"),$(this.episode_doms).removeClass("active"),$("#vod-series-player-page .rangeslider").removeClass("active")},hoverSubtitle:function(e){var t=this.keys;t.focused_part="subtitle_audio_selection_modal",$(this.subtitle_audio_menus).removeClass("active"),0<=e?(t.subtitle_audio_selection_modal=e,t.subtitle_audio_selection_modal<this.subtitle_audio_menus.length-2&&moveScrollPosition($("#subtitle-selection-container"),this.subtitle_audio_menus[t.subtitle_audio_selection_modal],"vertical",!1)):t.subtitle_audio_selection_modal=this.subtitle_audio_menus.length+e,$(this.subtitle_audio_menus[t.subtitle_audio_selection_modal]).addClass("active")},hoverSlider:function(){this.removeAllActiveClass(),this.keys.focused_part="slider",$("#vod-series-player-page .rangeslider").addClass("active")},hoverVideoControlIcon:function(e){$("#player-seasons-container").removeClass("expanded"),this.showControlBar(!1),this.removeAllActiveClass();var t=this.keys;t.focused_part="control_bar",t.control_bar=e,$(this.video_control_doms[e]).addClass("active")},hoverVideoInfoIcon:function(e){$("#player-seasons-container").removeClass("expanded"),this.showControlBar(!1);var t=this.keys;this.removeAllActiveClass(),t.focused_part="info_bar",t.info_bar=e,$(this.video_info_doms[e]).addClass("active")},hoverEpisode:function(e){$("#player-seasons-container").addClass("expanded"),this.showControlBar(!1);var t=this.keys;this.removeAllActiveClass(),t.focused_part="episode_selection",t.episode_selection=e,$(this.episode_doms[e]).addClass("active"),moveScrollPosition($("#player-seasons-container"),this.episode_doms[t.episode_selection],"horizontal",!1)},hoverResumeBtn:function(e){var t=this.keys;t.resume_bar=e,t.focused_part="resume_bar",$(this.resume_bar_doms).removeClass("active"),$(this.resume_bar_doms[e]).addClass("active"),clearTimeout(this.resume_timer),this.resume_timer=setTimeout(function(){$("#video-resume-modal").hide(),t.focused_part=t.prev_focus},15e3)},handleMenuClick:function(){var e=this.keys;if("resume_bar"===e.focused_part&&"none"===$("#video-resume-modal").css("display")&&(e.focused_part="control_bar"),this.show_control||"control_bar"!==e.focused_part&&"info_bar"!==e.focused_part&&"episode_selection"!==e.focused_part&&"slider"!==e.focused_part)switch(e.focused_part){case"control_bar":this.showControlBar(!1),$(this.video_control_doms[e.control_bar]).trigger("click");break;case"info_bar":this.show_control&&(this.showControlBar(!1),$(this.video_info_doms[e.info_bar]).find(".video-info-icon").trigger("click"));break;case"episode_selection":this.showControlBar(!1),$(this.episode_doms[e.episode_selection]).trigger("click");break;case"resume_bar":if($("#video-resume-modal").hide(),e.focused_part=e.prev_focus,0==e.resume_bar)if("samsung"===platform)try{webapis.avplay.getCurrentTime()<this.resume_time&&(webapis.avplay.seekTo(this.resume_time),$(this.slider_element).val(this.resume_time/1e3).change())}catch(e){}else if("lg"===platform)try{media_player.videoObj.currentTime<this.resume_time&&(media_player.videoObj.currentTime=this.resume_time,$("#"+media_player.parent_id).find(".video-current-time").html(media_player.formatTime(this.resume_time)),0<media_player.videoObj.duration)&&$(this.slider_element).val(this.resume_time).change()}catch(e){}break;case"subtitle_audio_selection_modal":e.subtitle_audio_selection_modal>=this.subtitle_audio_menus.length-2?$(this.subtitle_audio_menus[e.subtitle_audio_selection_modal]).trigger("click"):($(this.subtitle_audio_menus).find("input").prop("checked",!1),$(this.subtitle_audio_menus[e.subtitle_audio_selection_modal]).find("input").prop("checked",!0))}else this.showControlBar(!0)},handleMenuLeftRight:function(e){var t,s=this.keys;if(this.show_control)switch(s.focused_part){case"control_bar":s.control_bar+=e,s.control_bar<0&&(s.control_bar=0),s.control_bar>=this.video_control_doms.length?(s.control_bar=this.video_control_doms.length-1,this.hoverVideoInfoIcon(0)):this.hoverVideoControlIcon(s.control_bar);break;case"info_bar":var i=1;this.is_catchup&&(i=2),s.info_bar+=e,2==s.info_bar&&"samsung"==platform&&(s.info_bar+=e),s.info_bar>i&&(s.info_bar=i),s.info_bar<0?(s.info_bar=0,this.hoverVideoControlIcon(s.control_bar)):this.hoverVideoInfoIcon(s.info_bar);break;case"slider":this.seekTo(30*e);break;case"episode_selection":s.episode_selection+=e,s.episode_selection<0&&(s.episode_selection=this.episode_doms.length-1),s.episode_selection>=this.episode_doms.length&&(s.episode_selection=0),this.hoverEpisode(s.episode_selection)}else"control_bar"!==s.focused_part&&"info_bar"!==s.focused_part&&"slider"!==s.focused_part||(this.showControlBar(!1),this.hoverSlider());"subtitle_audio_selection_modal"===s.focused_part&&(s.subtitle_audio_selection_modal<this.subtitle_audio_menus.length-2?0<e?this.hoverSubtitle(-1):this.hoverSubtitle(-2):(t=this.subtitle_audio_menus.length,s.subtitle_audio_selection_modal+=e,s.subtitle_audio_selection_modal<t-2&&(s.subtitle_audio_selection_modal=t-2),s.subtitle_audio_selection_modal>=t&&(s.subtitle_audio_selection_modal=t-1),this.hoverSubtitle(s.subtitle_audio_selection_modal))),"subtitle_adjust_selection"===s.focused_part&&(s.subtitle_adjust_selection=0<e?2:1,this.hoverSubtitleAdjustBtn(s.subtitle_adjust_selection)),"exit_confirm"===s.focused_part&&(0<e?this.hoverExitButton(1):this.hoverExitButton(0))},handleMenuUpDown:function(e){var t=this.keys;if("control_bar"!==t.focused_part&&"info_bar"!==t.focused_part&&"slider"!==t.focused_part&&"episode_selection"!==t.focused_part||this.show_control)switch(t.focused_part){case"slider":e<0&&this.hoverVideoControlIcon(2),this.has_episodes&&0<e&&this.hoverEpisode(t.episode_selection);break;case"control_bar":0<e&&this.hoverSlider();break;case"info_bar":0<e&&this.hoverSlider(2),this.has_episodes&&0<e&&this.hoverEpisode(t.episode_selection);break;case"episode_selection":e<0&&this.hoverSlider();break;case"subtitle_audio_selection_modal":t.subtitle_audio_selection_modal>=this.subtitle_audio_menus.length-2?e<0&&(t.subtitle_audio_selection_modal=this.subtitle_audio_menus.length-3):t.subtitle_audio_selection_modal+=e,t.subtitle_audio_selection_modal<0&&(t.subtitle_audio_selection_modal=0),this.hoverSubtitle(t.subtitle_audio_selection_modal);break;case"resume_bar":var s=this.resume_bar_doms;t.resume_bar+=e,t.resume_bar<0&&(t.resume_bar=s.length-1),t.resume_bar>=s.length&&(t.resume_bar=0),this.hoverResumeBtn(t.resume_bar);break;case"subtitle_adjust_selection":0<t.subtitle_adjust_selection?e<0&&this.hoverSubtitleAdjustBtn(0):0<e&&this.hoverSubtitleAdjustBtn(1);break;case"movies_menu_modal":t.movies_menu_selection+=e,t.movies_menu_selection<0&&(t.movies_menu_selection=0),t.movies_menu_selection>=this.movies_menu_doms.length&&(t.movies_menu_selection=this.movies_menu_doms.length-1),this.hoverMovieItem(t.movies_menu_selection),0<e&&t.movies_menu_selection>=this.current_render_count-5&&this.renderCategoryContent()}else this.showControlBar(!0)},HandleKey:function(e){switch(e.keyCode){case tvKey.MediaFastForward:this.seekTo(30);break;case tvKey.RIGHT:this.handleMenuLeftRight(1);break;case tvKey.MediaRewind:this.seekTo(-30);break;case tvKey.LEFT:this.handleMenuLeftRight(-1);break;case tvKey.DOWN:this.handleMenuUpDown(1);break;case tvKey.UP:this.handleMenuUpDown(-1);break;case tvKey.MediaPause:this.playPauseVideo("pause");break;case tvKey.MediaPlay:this.playPauseVideo("play");break;case tvKey.MediaPlayPause:this.playPauseVideo("");break;case tvKey.ENTER:this.handleMenuClick();break;case tvKey.RETURN:this.goBack();break;case tvKey.YELLOW:"movies"===this.current_movie_type||"movie"===this.current_movie_type?current_movie.is_favourite?(VodModel.removeRecentOrFavouriteMovie(current_movie.stream_id,"favourite"),current_movie.is_favourite=!1):(VodModel.addRecentOrFavouriteMovie(current_movie,"favourite"),current_movie.is_favourite=!0):current_series.is_favourite?(SeriesModel.removeRecentOrFavouriteMovie(current_series.series_id,"favourite"),current_series.is_favourite=!1):(SeriesModel.addRecentOrFavouriteMovie(current_series,"favourite"),current_series.is_favourite=!0)}}},trailer_page={player:null,done:!1,back_url:"home-page",is_paused:!1,is_loading:!1,init:function(e,t){showLoader(!0),this.is_loading=!0,this.back_url=t,this.is_paused=!1,$("#vod-summary-page").addClass("hide"),$("#series-summary-page").addClass("hide"),$("#trailer-player-page").show(),current_route="trailer-page",trailer_page.player=new YT.Player("trailer-player",{height:"100%",width:"100%",videoId:e,events:{onReady:trailer_page.onPlayerReady,onStateChange:trailer_page.onPlayerStateChange}}),$("#trailer-player").on("load",function(){$("#trailer-player").contents().find(".ytp-chrome-top-buttons").hide(),$("#trailer-player").contents().find(".ytp-right-controls").hide(),showLoader(!1),trailer_page.is_loading=!1,$(document.getElementById("trailer-player").contentWindow.document).keydown(function(e){switch(e.keyCode){case tvKey.RETURN:trailer_page.goBack();break;case tvKey.RIGHT:trailer_page.seekTo(5);break;case tvKey.LEFT:trailer_page.seekTo(-5);break;case tvKey.ENTER:trailer_page.playOrPause()}})})},goBack:function(){current_route=this.back_url,this.player.stopVideo(),$("#trailer-player-page").hide(),$("#trailer-player").remove(),$("#trailer-player-page").html('<div id="trailer-player"></div>'),"vod-summary-page"===this.back_url&&$("#vod-summary-page").removeClass("hide"),"series-summary-page"===this.back_url&&$("#series-summary-page").removeClass("hide")},onPlayerReady:function(e){e.target.playVideo()},onPlayerStateChange:function(e){},seekTo:function(e){var e=this.player.getCurrentTime()+e,t=this.player.getDuration();this.player.seekTo(e=t<(e=e<0?0:e)?t:e)},playOrPause:function(){this.is_paused?this.player.playVideo():this.player.pauseVideo(),this.is_paused=!this.is_paused},HandleKey:function(e){if(!this.is_loading)switch(e.keyCode){case tvKey.RETURN:this.goBack();break;case tvKey.RIGHT:this.seekTo(5);break;case tvKey.LEFT:this.seekTo(-5);break;case tvKey.ENTER:this.playOrPause()}}},series_summary_page={keys:{focused_part:"season_selection",season_selection:0,selected_season:0,episode_selection:0,action_btn:0},min_btn_index:0,season_doms:[],episode_doms:[],current_season_index:0,hover_season_timer:null,is_loading:!1,action_btns:$(".series-action-btn"),is_favourite:!1,prev_route:"",progress_data:null,init:function(e){$(".page-top-right-item").hide(),$(".summary-progress-container").hide(),this.prev_route=e,this.current_season_index=-1,showLoader(!0),this.is_loading=!0,this.is_favourite=!SeriesModel.favourite_ids.includes(current_series.series_id),this.toggleFavourite();var l=this,t=(this.progress_data=SeriesModel.saved_video_times[current_series.series_id],$("#current-season-name").text("Select Season"),current_route="series-summary-page",top_menu_page.sub_route="series-summary-page",$("#episode-items-container").html(""),$("#series-summary-genre").html(""),$("#series-summary-image-wrapper img").attr("src",""),$("#series-summary-image-wrapper img").attr("src",current_series.cover||HOST+"app_src_min/images/default_movie_poster.png"),$("#series-summary-name").text(current_series.name),$("#series-summary-release-genre").text(current_series.genre),$("#series-summary-release-length").text(current_series.duration||"unknown"),$("#series-summary-release-director").text(current_series.director||current_series.directors||"unknown"),$("#series-summary-release-cast").text(current_series.cast||current_series.actors||"unknown"),$("#series-summary-description").text(current_series.plot||current_series.description||"No description available"),current_series.genre);if(t&&""!=t&&null!=t)if(-1<t.indexOf(",")?t=t.split(","):-1<t.indexOf("/")&&(t=t.split("/")),Array.isArray(t))for(var s=0;s<t.length;s++)""!=t[s].trim()&&null!=t[s]&&$("#series-summary-genre").append('<span class="genre-item">'+t[s]+"</span>");else $("#series-summary-genre").append('<span class="genre-item">'+t+"</span>");$(this.action_btns).removeClass("active"),this.min_btn_index=1,this.keys.action_btn=1,$(this.action_btns[0]).hide();e=0,e=void 0===current_series.rating||""===current_series.rating?0:parseFloat(current_series.rating),isNaN(e)&&(e=0),$("#series-rating-mark").text(e.toFixed(1)),$("#vod-series-page").addClass("hide"),$("#series-summary-page").removeClass("hide"),this.keys.focused_part="episode_selection",e=SeriesModel.getCategories(!0,!1);checkForAdult(current_series,"movie",e)||SeriesModel.addRecentOrFavouriteMovie(current_series,"recent"),"xtreme"===settings.playlist_type?$.getJSON(api_host_url+"/player_api.php?username="+user_name+"&password="+password+"&action=get_series_info&series_id="+current_series.series_id).done(function(e){current_series.info=e.info,$("#series-summary-release-date").text(current_series.info.releaseDate);var t,s,i=e.seasons;if(e.episodes&&(i&&0<i.length||0<Object.keys(e.episodes).length)){var a=e.episodes,o=(i&&0!=i.length?i.map(function(e){e.episodes=a[e.season_number.toString()]}):(i=[],Object.keys(a).map(function(e,t){i.push({name:"Season "+(t+1),cover:HOST+"app_src_min/images/series-icon.png",episodes:a[e]})})),i.filter(function(e){return e.episodes&&0<e.episodes.length})),n=Object.keys(a);if(n.length>o.length){for(var r=0;r<o.length;r++)o[r].name="Season "+(r+1);for(r=o.length;r<n.length;r++)o.push({name:"Season "+(r+1),episodes:a[(r+1).toString()]})}current_series.seasons=o,l.showSeriesInfo()}else showLoader(!1),l.is_loading=!1,showToast("Sorry","No seasons available"),l.goBack();l.progress_data&&(e=l.progress_data.latest_episode,t=l.progress_data.series_progress[0],s=l.progress_data.series_progress[1],e=utilities.getPercentage(l.progress_data[e][0],l.progress_data[e][1]),(e=isNaN(e)?0:e)<1&&(e=1),$(".progress-percentage").text(e+"%"),$(".progress-bar-upper").css("width",e+"%"),$("#vod-watch-movie-button").text("Continue Watching"),$(".latest-episode").html("S"+s+"E"+t),$(".summary-progress-container").show())}).fail(function(){showLoader(!1),l.is_loading=!1,showToast("Sorry","No seasons available"),l.goBack()}):"type1"===settings.playlist_type&&(current_series.seasons.map(function(e){e.episodes=current_series.episodes[e.name]}),this.showSeriesInfo())},showSeriesInfo:function(){var s="";current_series.seasons.map(function(e,t){s+='<div class="season-item-container"                    onmouseenter="series_summary_page.hoverSeason('+t+')"                    onclick="series_summary_page.handleMenuClick()"                 >'+e.name+"</div>"}),$("#season-items-container").html(s),this.season_doms=$(".season-item-container"),this.keys.season_selection=0;try{$("#selected-season-name").text(current_series.seasons[0].name),this.showEpisodes(),this.hoverEpisode(0)}catch(e){console.log(e)}try{current_series.info.youtube_trailer&&(this.min_btn_index=0,$(this.action_btns[0]).show())}catch(e){}showLoader(!1),this.is_loading=!1,this.selectSeasonBtn(0)},showEpisodes:function(){var e,n,r,l=this.keys,c=this;this.current_season_index!==l.season_selection&&(current_season=current_series.seasons[l.season_selection],$("#current-season-name").text(current_season.name),e=current_season.episodes,n=current_series.cover||HOST+"app_src_min/images/default_movie_poster.png",void 0!==e&&0<e.length?(r="",e.map(function(e,t){var s,i,a=c.progress_data,o="";a&&a[e.id]&&(o="show",s=153-153*(a=a[e.id])[0]/a[1],(i=utilities.getPercentage(a[0],a[1]))<1)&&(i=1),r+='<div class="episode-item-wrapper"   onmouseenter="series_summary_page.hoverEpisode('+t+')"   onclick="series_summary_page.handleMenuClick()"   data-stream_id="'+e.id+'"><img src="'+n+'" /><div class="movie-progress-container episode-progress '+o+'"><div class="progress-value">'+i+'%</div><svg xmlns="http://www.w3.org/2000/svg" version="1.1" style="width: 4rem; height: 4rem;"> <circle class="movie-progress" cx="32" cy="32" r="25" stroke-linecap="round" stroke-dashoffset="'+s+'"></circle></svg></div><p>Episode '+(t+1)+" Season "+(l.season_selection+1)+"</p></div>"}),$("#episode-items-container").html(r),$("#episode-items-container").scrollTop(0)):(showToast("Sorry","No episodes available"),$("#episode-items-container").html("")),l.episode_selection=0,this.episode_doms=$(".episode-item-wrapper"),$("#selected-season-name").text(current_season.name),this.current_season_index=l.season_selection)},goBack:function(){current_route=this.prev_route;var e,t=vod_series_page.menu_doms,s=vod_series_page.keys;$("#series-summary-page").addClass("hide"),"search-page"==current_route?($("#search-page").show(),t=search_page.movie_doms[2],s=search_page.keys,top_menu_page.sub_route="search-page"):"vod-series-page"==current_route&&(top_menu_page.sub_route="vod-series-page",$("#vod-series-page").removeClass("hide"),$(".sort-icon").css("display","inline-flex"),$(".theme-icon").css("display","inline-flex"),$(".favorite-icon").css("display","inline-flex"),$(".page-top-right-item.search-icon").css("display","inline-flex"),vod_series_page.hoverMovieItem(vod_series_page.menu_doms[vod_series_page.keys.menu_selection])),this.is_favourite?(SeriesModel.favourite_ids.includes(current_series.series_id)||SeriesModel.addRecentOrFavouriteMovie(current_series,"favourite"),$($(t[s.menu_selection]).find(".favourite-badge")).html('<svg  width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.44 3.10001C14.63 3.10001 13.01 3.98001 12 5.33001C10.99 3.98001 9.37 3.10001 7.56 3.10001C4.49 3.10001 2 5.60001 2 8.69001C2 9.88001 2.19 10.98 2.52 12C4.1 17 8.97 19.99 11.38 20.81C11.72 20.93 12.28 20.93 12.62 20.81C15.03 19.99 19.9 17 21.48 12C21.81 10.98 22 9.88001 22 8.69001C22 5.60001 19.51 3.10001 16.44 3.10001Z" fill="#FFDC8E"></path><path d="M12.62 20.81C12.28 20.93 11.72 20.93 11.38 20.81C8.48 19.82 2 15.69 2 8.69001C2 5.60001 4.49 3.10001 7.56 3.10001C9.38 3.10001 10.99 3.98001 12 5.34001C13.01 3.98001 14.63 3.10001 16.44 3.10001C19.51 3.10001 22 5.60001 22 8.69001C22 15.69 15.52 19.82 12.62 20.81Z" stroke="#FFDC8E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>')):(SeriesModel.removeRecentOrFavouriteMovie(current_series.series_id,"favourite"),e=vod_series_page.categories[s.category_selection],t=vod_series_page.menu_doms,e&&"favourite"===e.category_id?($(t[s.menu_selection]).remove(),(0<t.length?(t.map(function(e,t){$(t).data("index",e)}),t=$("#vod-series-menus-container .vod-series-menu-item-container"),vod_series_page.menu_doms=t,s.menu_selection>=vod_series_page.menu_doms.length&&(s.menu_selection=vod_series_page.menu_doms.length-1),$(vod_series_page.menu_doms[s.menu_selection])):(s.focused_part="category_selection",$(vod_series_page.category_doms[s.category_selection]))).addClass("active")):$($(t[s.menu_selection]).find(".favourite-badge")).html(""))},toggleFavourite:function(){var e=this.action_btns[1];this.is_favourite=!this.is_favourite,this.is_favourite?$(e).html('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.44 3.10001C14.63 3.10001 13.01 3.98001 12 5.33001C10.99 3.98001 9.37 3.10001 7.56 3.10001C4.49 3.10001 2 5.60001 2 8.69001C2 9.88001 2.19 10.98 2.52 12C4.1 17 8.97 19.99 11.38 20.81C11.72 20.93 12.28 20.93 12.62 20.81C15.03 19.99 19.9 17 21.48 12C21.81 10.98 22 9.88001 22 8.69001C22 5.60001 19.51 3.10001 16.44 3.10001Z" fill="#FFDC8E"></path><path d="M12.62 20.81C12.28 20.93 11.72 20.93 11.38 20.81C8.48 19.82 2 15.69 2 8.69001C2 5.60001 4.49 3.10001 7.56 3.10001C9.38 3.10001 10.99 3.98001 12 5.34001C13.01 3.98001 14.63 3.10001 16.44 3.10001C19.51 3.10001 22 5.60001 22 8.69001C22 15.69 15.52 19.82 12.62 20.81Z" stroke="#FFDC8E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>'):$(e).html('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.62 20.81C12.28 20.93 11.72 20.93 11.38 20.81C8.48 19.82 2 15.69 2 8.69001C2 5.60001 4.49 3.10001 7.56 3.10001C9.38 3.10001 10.99 3.98001 12 5.34001C13.01 3.98001 14.63 3.10001 16.44 3.10001C19.51 3.10001 22 5.60001 22 8.69001C22 15.69 15.52 19.82 12.62 20.81Z" stroke="#FFF8F0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>')},showTrailerVideo:function(){current_series.info&&current_series.info.youtube_trailer?trailer_page.init(current_series.info.youtube_trailer,current_route):($("#toast-body").html("<h3>Sorry<br>No trailer video available</h3>"),$(".toast").toast({animation:!0,delay:2e3}),$("#toast").toast("show"))},hoverSeasonSelectBtn:function(){$(prev_focus_dom).removeClass("active"),this.keys.focused_part="select_season_btn",$("#select-season-btn").addClass("active"),prev_focus_dom=$("#select-season-btn"),current_route="series-summary-page"},hoverSeason:function(e){var t=this.keys;t.focused_part="season_selection",t.season_selection=e,$(prev_focus_dom).removeClass("active"),$(this.season_doms[e]).addClass("active"),prev_focus_dom=this.season_doms[e],current_route="series-summary-page",clearTimeout(this.hover_season_timer),moveScrollPosition($("#season-items-container"),this.season_doms[t.season_selection],"horizontal",!1)},selectSeasonBtn:function(){var e=this.keys;$(".season-item-container").removeClass("selected"),$(this.season_doms[e.season_selection]).addClass("selected"),e.selected_season=e.season_selection},hoverEpisode:function(e){var t=this.keys;t.episode_selection=e,t.focused_part="episode_selection",$(prev_focus_dom).removeClass("active"),$(this.episode_doms[t.episode_selection]).addClass("active"),prev_focus_dom=this.episode_doms[t.episode_selection],current_route="series-summary-page",moveScrollPosition($("#episode-items-container"),this.episode_doms[t.episode_selection],"horizontal",!1)},hoverButton:function(e){var t=this.keys;t.focused_part="action_btn",t.action_btn=e,$(prev_focus_dom).removeClass("active"),$(this.action_btns[e]).addClass("active"),prev_focus_dom=this.action_btns[e],current_route="series-summary-page"},handleMenuLeftRight:function(e){var t=this.keys;switch(t.focused_part){case"season_selection":t.season_selection+=e,t.season_selection<0?(t.season_selection=0,top_menu_page.hoverSideBar(top_menu_page.keys.side_bar_selection)):t.season_selection>=this.season_doms.length?t.season_selection=this.season_doms.length-1:this.hoverSeason(t.season_selection);break;case"episode_selection":t.episode_selection+=e,t.episode_selection<0?top_menu_page.hoverSideBar(top_menu_page.keys.side_bar_selection):t.episode_selection>=this.episode_doms.length?t.episode_selection=this.episode_doms.length-1:this.hoverEpisode(t.episode_selection);break;case"action_btn":t.action_btn+=e,1<t.action_btn&&(t.action_btn=1),t.action_btn<this.min_btn_index?(t.action_btn=this.min_btn_index,top_menu_page.hoverSideBar(top_menu_page.keys.side_bar_selection)):this.hoverButton(t.action_btn)}},handleMenuUpDown:function(e){var t=this.keys;switch(t.focused_part){case"season_selection":0<e?this.hoverEpisode(0):this.hoverButton(t.action_btn);break;case"episode_selection":0<e||this.hoverSeason(t.selected_season);break;case"action_btn":0<e?this.hoverSeason(t.selected_season):top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection)}},handleMenuClick:function(){var e=this.keys;switch(e.focused_part){case"episode_selection":var t=(current_season=current_series.seasons[e.season_selection]).episodes;current_episode=t[e.episode_selection],vod_series_player_page.makeEpisodeDoms("episode-page"),vod_series_player_page.init(current_episode,"series","episode-page","",current_series.series_id),vod_series_player_page.keys.episode_selection=e.episode_selection;break;case"season_selection":this.selectSeasonBtn(),this.showEpisodes();break;case"action_btn":$(this.action_btns[e.action_btn]).trigger("click")}},HandleKey:function(e){if(this.is_loading)e.keyCode===tvKey.RETURN&&(showLoader(!1),this.is_loading=!1,this.goBack());else switch(e.keyCode){case tvKey.RETURN:this.goBack();break;case tvKey.LEFT:this.handleMenuLeftRight(-1);break;case tvKey.RIGHT:this.handleMenuLeftRight(1);break;case tvKey.UP:this.handleMenuUpDown(-1);break;case tvKey.DOWN:this.handleMenuUpDown(1);break;case tvKey.ENTER:this.handleMenuClick()}}},vod_series_page={player:null,channel_number_timer:null,channel_num:0,movies:[],initiated:!1,categories:[],AllCategories:[],AllCategories1:[],category_hover_timer:null,category_hover_timeout:300,theme:"c",is_top_rated:!1,keys:{first_fetch:!0,focused_part:"category_selection",category_selection:0,menu_selection:0,search_selection:-1,video_control:0,top_menu_selection:0,sort_selection:0,theme_selection:0,current_selected_theme:0},category_doms:[],menu_doms:[],top_menu_doms:$("#vod-series-page .top-menu"),theme_doms:$(".change-theme-btn-vod-series"),current_movie_type:"movie",sort_key:"vod_sort",search_key_timer:"",search_key_timout:400,current_render_count:0,render_count_increment:40,is_drawing:!1,prev_keyword:"",prev_dom:null,sort_doms:$(".sort-modal-item"),init:function(e,t){if(this.AllCategories=LiveModel.getCategories(!1,!0),this.AllCategories1=this.AllCategories.map(function(e){var t=e.movies.filter(function(e){return 0!=e.tv_archive&&0!=e.tv_archive_duration}),e=JSON.parse(JSON.stringify(e));return e.movies=t,e}).filter(function(e){return 0<e.movies.length}),this.AllCategories1.length||"replays"!=e){$(page_objects[top_menu_page.sub_route]).addClass("hide"),$(".playlist-page-top-right-item").hide(),$(".channel-page-top-right-item").hide(),$(".page-top-right-item").hide(),$("#movie-image-container").show(),$("#epg-page").addClass("hide"),$(".sort-icon").css("display","inline-flex"),$(".search-icon").css("display","inline-flex"),$(".theme-icon").css("display","inline-flex"),$(".favorite-icon").css("display","inline-flex"),$(".page-top-right-item.search-icon").css("display","inline-flex"),top_menu_page.sub_route="vod-series-page",this.is_drawing=!1;var s=this.keys;if($(".vod-series-mark-wrapper").addClass("hide"),$("."+e+"-mark-wrapper").removeClass("hide"),home_page.exit(),$("#vod-series-page").removeClass("hide"),current_route="vod-series-page","vod"===(this.current_movie_type=e))this.sort_key="vod_sort",this.categories=VodModel.getCategories(!1,!0);else if("replays"===e){if($("#vod-series-page").removeClass("theme-c theme-m"),$("#vod-series-page").addClass("theme-c"),$("#vod-series-right-part").css({"-webkit-transform":"translateX(0)",transform:"translateX(0)"}),$(".page-top-right-item").hide(),!this.AllCategories1.length)return void showToast("Sorry","Replays are not available for current playlist");this.categories=this.AllCategories1}else"series"===e&&(this.sort_key="series_sort",this.categories=SeriesModel.getCategories(!1,!0));var i="";this.categories.map(function(e,t){i+='<div class="vod-series-category-item" data-index="'+t+'"   onmouseenter="vod_series_page.hoverCategory(this, true)"    onclick="vod_series_page.handleMenuClick()"> <p class="category-name">'+e.category_name+'</p><svg class="arrow-icon" width="13" height="20" viewBox="0 0 13 20" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_40_753)"><path d="M12.1328 9.11719C12.6211 9.60547 12.6211 10.3984 12.1328 10.8867L4.63281 18.3867C4.14453 18.875 3.35156 18.875 2.86328 18.3867C2.375 17.8984 2.375 17.1055 2.86328 16.6172L9.48047 10L2.86719 3.38281C2.37891 2.89453 2.37891 2.10156 2.86719 1.61328C3.35547 1.125 4.14844 1.125 4.63672 1.61328L12.1367 9.11328L12.1328 9.11719Z" fill="#FFF8F0"/></g><defs><clipPath id="clip0_40_753"><rect width="12.5" height="20" fill="white"/></clipPath></defs></svg></div>'}),$("#vod-series-categories-container").html(i),this.category_doms=$(".vod-series-category-item"),s.focused_part="category_selection",s.category_selection=0,this.current_render_count=0,$("#vod-series-menus-container").html(""),this.current_category_index=-1;for(var a=0;a<this.categories.length;a++)if(0<this.categories[a].movies.length){s.category_selection=a;break}this.showCategoryContent(),"replays"!=this.current_movie_type&&(this.theme=localStorage.getItem(storage_id+"vod-series-theme"),"replays"==this.current_movie_type&&(this.channel_theme="n"),this.theme&&(this.keys.theme_selection="c"===this.theme?0:1),this.selectTheme()),this.hoverCategory(this.category_doms[s.category_selection])}else showToast("Sorry","Replay not available for current playlist")},goBack:function(){var e=this.keys;switch(e.focused_part){case"movie_selection":e.focused_part="category_selection",this.hoverCategory(this.category_doms[e.category_selection]);break;case"category_selection":top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection);break;case"sort_selection":$("#sort-modal-container").removeClass("visible"),this.hoverMovieItem(this.menu_doms[0]);break;case"theme_selection":this.closeThemeModal()}},updateVodProgress:function(e){var t,s=VodModel.saved_video_times[e],e=$('.vod-series-menu-item-container[data-stream_id="'+e+'"]');s&&(s=Math.round(s[0]/s[1]*100),t=153-153*(s=(s=isNaN(s)?0:s)<1?1:s)/100,e.find(".progress-value").html(s+"%"),e.find(".movie-progress").attr("stroke-dashoffset",t),e.find(".movie-progress-container").addClass("show"),e.find(".top-rated-watch-btn").html("Continue Watching"),e.find(".top-rated-progress-container").addClass("show"),e.find(".top-rated-progress-bar-upper").css("width",s+"%"),e.find(".top-rated-progress-percentage").html(s+"%"),$(".progress-percentage").text(s+"%"),$(".progress-bar-upper").css("width",s+"%"),$("#vod-watch-movie-button").text("Continue Watching"),$(".summary-progress-container").show())},updateSeriesProgress:function(e,t){var s=SeriesModel.saved_video_times[e],i=s.latest_episode,e=$('.vod-series-menu-item-container[data-stream_id="'+e+'"]'),t=$('.episode-item-wrapper[data-stream_id="'+t+'"]'),a=s.series_progress[0],o=s.series_progress[1];s&&(s=utilities.getPercentage(s[i][0],s[i][1]),i=153-153*(s=(s=isNaN(s)?0:s)<1?1:s)/100,e.find(".progress-value").html(s+"%"),e.find(".season-episode-text").html("S"+o+"E"+a),e.find(".movie-progress").attr("stroke-dashoffset",i),e.find(".movie-progress-container").addClass("show"),e.find(".season-episode-text").addClass("show"),e.find(".top-rated-watch-btn").html("Continue Watching"),e.find(".top-rated-progress-container").addClass("show"),e.find(".top-rated-progress-bar-upper").css("width",s+"%"),e.find(".top-rated-progress-percentage").html(s+"%"),t.find(".progress-value").html(s+"%"),t.find(".movie-progress").attr("stroke-dashoffset",i),t.find(".movie-progress-container").addClass("show"),$(".progress-percentage").text(s+"%"),$(".progress-bar-upper").css("width",s+"%"),$("#vod-watch-movie-button").text("Continue Watching"),$(".latest-episode").html("S"+o+"E"+a),$(".summary-progress-container").show())},showThemeModal:function(){$(".change-theme-wrapper.vod-series").show(),this.hoverThemeItem(this.keys.current_selected_theme)},closeThemeModal:function(){$(".change-theme-wrapper.vod-series").hide(),this.hoverCategory(this.category_doms[this.keys.category_selection])},hoverThemeItem:function(e){var t=this.keys;$(prev_focus_dom).removeClass("active"),prev_focus_dom=1<e?($(".theme-close-btn").addClass("active"),$(".theme-close-btn")):($(this.theme_doms[e]).addClass("active"),this.theme_doms[e]),t.theme_selection=e,t.focused_part="theme_selection"},selectTheme:function(){$(this.theme_doms).removeClass("selected"),$(this.theme_doms[this.keys.theme_selection]).addClass("selected"),this.keys.current_selected_theme=this.keys.theme_selection,this.theme=0===this.keys.theme_selection?"c":"m",localStorage.setItem(storage_id+"vod-series-theme",this.theme),$("#vod-series-page").removeClass("theme-c theme-m"),$("#vod-series-page").addClass("theme-"+this.theme),"c"==this.theme&&$("#vod-series-right-part").css({"-webkit-transform":"translateX(0)",transform:"translateX(0)"})},showCategoryContent:function(){var e,t,s,i=this.keys;this.current_category_index!==i.category_selection&&(e=this.categories[i.category_selection],this.current_render_count=0,$("#vod-series-menus-container").html(""),this.prev_keyword="",$("#vod-series-search-input").val(""),$(".vod-series-category-item").removeClass("selected"),$(this.category_doms[i.category_selection]).addClass("selected"),t=e.movies.filter(function(e){return!0}),s=settings[this.current_movie_type+"_sort"],"added"===(s="replays"===this.current_movie_type?settings.live_sort:s)&&"series"===this.current_movie_type&&(s="last_modified"),this.movies=getSortedMovies(t,s),0==i.category_selection&&"replays"!=this.current_movie_type?($("#vod-series-right-part .page-contents-wrapper-1").addClass("top-rated-wrapper"),this.is_top_rated=!0):(this.is_top_rated=!1,$("#vod-series-right-part .page-contents-wrapper-1").removeClass("top-rated-wrapper")),this.renderCategoryContent(),$("#vod-series-menus-container").scrollTop(0),i.menu_selection=0,this.current_category_index=i.category_selection,$("#vod-series-current-category").text(e.category_name))},renderCategoryContent:function(){var m,u,p,g,v="",y=HOST+"app_src_min/images/default_movie_poster.png",f="stream_icon";if("series"==this.current_movie_type&&(f="cover"),"replays"===this.current_movie_type&&(y=default_movie_icon),this.current_render_count<this.movies.length&&(showLoader(this.is_drawing=!0),m=this,setTimeout(function(){showLoader(m.is_drawing=!1)},1e3),g=("vod"===this.current_movie_type||"movie"===this.current_movie_type?(p=VodModel.movie_key,u=VodModel.favourite_ids,VodModel):(p=SeriesModel.movie_key,u=SeriesModel.favourite_ids,SeriesModel)).saved_video_times,this.movies.slice(this.current_render_count,this.current_render_count+this.render_count_increment).map(function(e,t){var s,i,a,o,n,r="",l="",c=e.stream_id||e.series_id,d="Watch Now",_="vod"===m.current_movie_type||"movie"===m.current_movie_type?utilities.isNewlyAdded(e.added)?" show":"":utilities.isRecentlyModifiedSeries(e.last_modified)?" show":"",h=(g[c]&&g[c].series_progress&&(r=" show",a=g[c].series_progress[0],o=g[c].series_progress[1]),"vod"===m.current_movie_type||"movie"===m.current_movie_type?n=g[c]:g[c]&&g[c].latest_episode&&(h=g[c].latest_episode,n=g[c][h]),n&&(s=utilities.getPercentage(n[0],n[1]),i=153-153*(s=(s=isNaN(s)?0:s)<1?1:s)/100,l="show",d="Continue Watching"),u.includes(e[p]));v+='<div class="vod-series-menu-item-container" data-stream_id="'+c+'"    data-index="'+(m.current_render_count+t)+'"    onmouseenter="vod_series_page.hoverMovieItem(this)"   onclick="vod_series_page.handleMenuClick()">   <div class="vod-series-menu-item">',"replays"!==m.current_movie_type&&(v+='<div class="favourite-badge">'+(h?'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.44 3.10001C14.63 3.10001 13.01 3.98001 12 5.33001C10.99 3.98001 9.37 3.10001 7.56 3.10001C4.49 3.10001 2 5.60001 2 8.69001C2 9.88001 2.19 10.98 2.52 12C4.1 17 8.97 19.99 11.38 20.81C11.72 20.93 12.28 20.93 12.62 20.81C15.03 19.99 19.9 17 21.48 12C21.81 10.98 22 9.88001 22 8.69001C22 5.60001 19.51 3.10001 16.44 3.10001Z" fill="#FFDC8E"></path><path d="M12.62 20.81C12.28 20.93 11.72 20.93 11.38 20.81C8.48 19.82 2 15.69 2 8.69001C2 5.60001 4.49 3.10001 7.56 3.10001C9.38 3.10001 10.99 3.98001 12 5.34001C13.01 3.98001 14.63 3.10001 16.44 3.10001C19.51 3.10001 22 5.60001 22 8.69001C22 15.69 15.52 19.82 12.62 20.81Z" stroke="#FFDC8E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>':"")+"</div>"),m.is_top_rated?v+='    <div class="top-rated-info-container">           <div class="new-text'+_+'">New</div>           <div class="top-rated-number-img"><img src="'+HOST+"app_src_min/images/top-rated/"+(Number(t)+1)+'.png"/></div>           <div class="top-rated-movie-name">'+e.name+'</div>           <div class="top-rated-watch-btn">'+d+'</div>           <div class="top-rated-progress-container '+l+'">            <div class="top-rated-progress-text"><span class="top-rated-progress-percentage">'+s+'%</span> Watched</div>             <div class="top-rated-progress-bar-container">               <div class="top-rated-progress-bar-upper" style="width:'+s+'%;"></div>               <div class="top-rated-progress-bar-lower"></div>             </div></div>       </div>       <div class="top-rated-img-overlay"></div>       <img class="vod-series-icon" src="'+e[f]+'" onerror="this.src=\''+y+"'\">":v+='       <img class="vod-series-icon" src="'+e[f]+'" onerror="this.src=\''+y+'\'">       <div class="vod-series-menu-item-title-wrapper">           <div class="vod-series-menu-item-title max-line-2">'+e.name+'           </div>           <div class="new-text'+_+'">New</div>           <div class="season-episode-text'+r+'">S'+o+" E"+a+'</div>       </div><div class="movie-progress-container '+l+'"><div class="progress-value">'+s+'%</div><svg xmlns="http://www.w3.org/2000/svg" version="1.1" style="width: 4rem; height: 4rem;"> <circle class="movie-progress" cx="32" cy="32" r="25" stroke-linecap="round" stroke-dashoffset="'+i+'"></circle></svg></div>',v+="</div></div>"}),this.current_render_count+=this.render_count_increment,$("#vod-series-menus-container").append(v),this.menu_doms=$("#vod-series-menus-container .vod-series-menu-item-container")),0<this.movies.length&&"replays"!==this.current_movie_type){try{this.fetchHoverMovie()}catch(e){return void console.log(e)}this.prev_dom=this.menu_doms[0],this.keys.first_fetch=!0}else this.resetMovieUI(),$("#movie-image-container").hide(),$(".movie-info-wrapper").css("opacity","0")},addOrRemoveFav:function(){var e,t,s,i,a=this.keys;"movie_selection"===a.focused_part&&(s=this.menu_doms,e=this.movies,(i=("vod"===this.current_movie_type||"movie"===this.current_movie_type?(t=VodModel.movie_key,VodModel):(t=SeriesModel.movie_key,SeriesModel)).favourite_ids).includes(e[a.menu_selection][t])?$($(s[a.menu_selection]).find(".favourite-badge")).html(""):($($(s[a.menu_selection]).find(".favourite-badge")).html('<svg  width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.44 3.10001C14.63 3.10001 13.01 3.98001 12 5.33001C10.99 3.98001 9.37 3.10001 7.56 3.10001C4.49 3.10001 2 5.60001 2 8.69001C2 9.88001 2.19 10.98 2.52 12C4.1 17 8.97 19.99 11.38 20.81C11.72 20.93 12.28 20.93 12.62 20.81C15.03 19.99 19.9 17 21.48 12C21.81 10.98 22 9.88001 22 8.69001C22 5.60001 19.51 3.10001 16.44 3.10001Z" fill="#FFDC8E"></path><path d="M12.62 20.81C12.28 20.93 11.72 20.93 11.38 20.81C8.48 19.82 2 15.69 2 8.69001C2 5.60001 4.49 3.10001 7.56 3.10001C9.38 3.10001 10.99 3.98001 12 5.34001C13.01 3.98001 14.63 3.10001 16.44 3.10001C19.51 3.10001 22 5.60001 22 8.69001C22 15.69 15.52 19.82 12.62 20.81Z" stroke="#FFDC8E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),("vod"===this.current_movie_type||"movie"===this.current_movie_type?VodModel:SeriesModel).addRecentOrFavouriteMovie(e[a.menu_selection],"favourite")),i.includes(e[a.menu_selection][t]))&&($($(s[a.menu_selection]).find(".favourite-badge")).html(""),("vod"===this.current_movie_type||"movie"===this.current_movie_type?VodModel:SeriesModel).removeRecentOrFavouriteMovie(e[a.menu_selection][t],"favourite"),"favourite"===this.categories[this.current_category_index].category_id)&&($(s[a.menu_selection]).remove(),0<(s=$("#vod-series-menus-container .vod-series-menu-item-container")).length?(s.map(function(e,t){$(t).data("index",e)}),this.menu_doms=s,a.menu_selection>=this.menu_doms.length&&(a.menu_selection=this.menu_doms.length-1),this.hoverMovieItem(this.menu_doms[a.menu_selection])):this.hoverCategory(this.category_doms[a.category_selection]))},searchMovie:function(){$("#vod-series-search-input").focus(),setTimeout(function(){var e=$("#vod-series-search-input").val();$("#vod-series-search-input")[0].setSelectionRange(e.length,e.length)},200)},searchValueChange:function(){clearTimeout(this.search_key_timer);var i=this;this.search_key_timer=setTimeout(function(){var e,t,s=$("#vod-series-search-input").val();i.prev_keyword!==s&&(e=i.categories[i.current_category_index],(e=JSON.parse(JSON.stringify(e.movies))).sort(function(e,t){return e.name.localeCompare(t.name)}),t=[],t=""===s?e:(s=s.toLowerCase(),e.filter(function(e){return e.name.toLowerCase().includes(s)})),i.movies=t,$("#vod-series-menus-container").html(""),i.current_render_count=0,i.renderCategoryContent(),i.prev_keyword=s)},this.search_key_timout)},showSortModal:function(){var s=settings[this.current_movie_type+"_sort"],i=0;this.sort_doms.map(function(e,t){$(t).data("sort_key")==s&&(i=e)}),$("#sort-modal-container").addClass("visible"),this.hoverSortItem(i)},closeSortModal:function(){$("#sort-modal-container").removeClass("visible"),"sort_selection"===this.keys.focused_part&&this.hoverMovieItem(this.menu_doms[0])},hoverSortItem:function(e){var t=this.keys;t.focused_part="sort_selection",t.sort_selection=e,$(prev_focus_dom).removeClass("active"),$(this.sort_doms[e]).addClass("active"),prev_focus_dom=this.sort_doms[e]},showCategoryMenu:function(){$("#vod-series-left-part").css("left","8rem"),$("#vod-series-right-part").css({"-webkit-transform":"translateX(24rem)",transform:"translateX(24rem)"})},hideCategoryMenu:function(){$("#vod-series-left-part").css("left","-24rem"),$("#vod-series-right-part").css({"-webkit-transform":"translateX(0)",transform:"translateX(0)"})},hoverCategory:function(e,t){t=t||!1,$("#vod-series-categories-container").css("overflow-y","scroll"),$("#vod-series-menus-container").css("overflow-y","hidden"),top_menu_page.closeSideBar(),"m"==this.theme&&"replays"!=this.current_movie_type&&this.showCategoryMenu(),current_route="vod-series-page";var s=this.keys,e=$(e).data("index");s.focused_part="category_selection",s.category_selection=e,$(prev_focus_dom).removeClass("active"),$(this.category_doms[e]).addClass("active"),prev_focus_dom=this.category_doms[e],moveScrollPosition($("#vod-series-categories-container"),this.category_doms[e],"vertical",!0,t)},hoverMovieItem:function(e){var t,s,i,a,o,n;$("#vod-series-menus-container").css("overflow-y","scroll"),$("#vod-series-categories-container").css("overflow-y","hidden"),"m"==this.theme&&this.hideCategoryMenu(),prev_focus_dom===e||(current_route="vod-series-page",clearTimeout(this.channel_hover_timer),s=this.keys,i=this,e=$(e).data("index"),s.focused_part="movie_selection",t=$(this.prev_dom).data("index")==e&&s.first_fetch,s.first_fetch=!1,s.menu_selection=e,$(prev_focus_dom).removeClass("active"),$(this.menu_doms[e]).addClass("active"),this.prev_dom=this.menu_doms[e],a=$(this.menu_doms[e]),o=$(prev_focus_dom).find(".vod-series-menu-item-title"),n=$(this.menu_doms[e]).find(".vod-series-menu-item-title"),utilities.scrollText(a,n,o),prev_focus_dom=this.menu_doms[e],this.is_top_rated||moveScrollPosition($("#vod-series-menus-container"),this.menu_doms[s.menu_selection],"vertical",!1),clearTimeout(this.movie_hover_timer),t)||(this.movie_hover_timer=setTimeout(function(){i.fetchHoverMovie()},1e3))},fetchHoverMovie:function(){var t,s,e,i,a,o,n=this;this.resetMovieUI(),"replay"!==this.current_movie_type&&(i=this.movies[this.keys.menu_selection],e=this.getMovieUrlKey(i),this.setTitleScrolling(i.name),s=i.series_id?(t="series",i.series_id):(t="vod",i.stream_id),(i=this.getCachedMovieInfo(t,s))?((i=i.info)&&0!==i.length||(n.fetchHoverMovie(),$("#movie-image").attr("src",HOST+"app_src_min/images/default_bg.png")),this.updateMovieUI(i),a=i.tmdb_id||i.tmdb,i.backdrop_path&&0<i.backdrop_path.length&&(o=i.backdrop_path[0]),this.fetchMovieImages(a,o||HOST+"app_src_min/images/default_bg.png"),$("#movie-image").show()):$.getJSON(api_host_url+"/player_api.php?username="+user_name+"&password="+password+e,function(e){n.handleMovieResponse(e,t,s),$("#movie-image").show()},function(e){n.handleFetchError(e)}),$("#vod-series-cover").css("opacity",1))},resetMovieUI:function(){clearInterval(this.movie_hover_timer),$(".movie-header").hide(),$(".movie-date-wrapper").hide(),$(".movie-cast-wrapper").hide(),$(".movie-logo").hide(),$("#vod-img-bg").css("opacity",0),$("#vod-series-cover .movie-info").hide(),$("#vod-series-cover").css("opacity",0);[".movie-title",".movie-description",".movie-actors-names",".movie-release-date",".movie-director-name",".movie-duration",".movie-genre",".movie-rating-value"].forEach(function(e){$(e).text("")}),$("#movie-image").attr("src","").hide()},getMovieUrlKey:function(e){return"series"===this.current_movie_type?"&action=get_series_info&series_id="+e.series_id:"&action=get_vod_info&vod_id="+e.stream_id},setTitleScrolling:function(e){45<e.length?$(".movie-title").css({animation:"scroll-left 20s linear infinite"}):$(".movie-title").css({animation:""})},handleMovieResponse:function(e,t,s){var i,e=e.info;e&&0!==e.length&&(this.updateMovieUI(e),this.cacheMovieInfo(t,s,e),t=e.tmdb_id||e.tmdb,e.backdrop_path&&0<e.backdrop_path.length&&(i=e.backdrop_path[0]),this.fetchMovieImages(t,i||HOST+"app_src_min/images/default_bg.png"),$("#vod-series-cover .movie-info").show())},updateMovieUI:function(e){$("#movie-image-overlay").show(),$(".movie-info-wrapper").css("opacity","1");var t=e.genre;if((t=e.genre)&&""!=t&&null!=t)if(-1<t.indexOf(",")?t=t.split(","):-1<t.indexOf("/")&&(t=t.split("/")),Array.isArray(t))for(var s=0;s<t.length;s++)$(".movie-genre").append('<span class="movie-genre-item">'+t[s]+"</span>");else $(".movie-genre").append('<span class="movie-genre-item">'+t+"</span>");!e.backdrop_path&&e.movie_image&&(e.backdrop_path=e.movie_image),$(".movie-title").text(e.name||this.movies[this.keys.menu_selection].name),(e.backdrop_path&&0<e.backdrop_path.length?$("#movie-image").attr("src",e.backdrop_path||e.backdrop_path[0]):$("#movie-image").attr("src",HOST+"app_src_min/images/default_bg.png")).css("opacity",1),$(".movie-description").text(e.description||e.plot||"no description"),$(".movie-actors-names").text(e.cast||"unknown"),$(".movie-release-date").text(e.releasedate||e.releaseDate||"unknown"),$(".movie-director-name").text(e.director||"unknown"),$(".movie-duration").text(e.duration||"unknown"),$(".movie-rating-value").text(Math.round(10*e.rating/10)),$(".movie-header").show(),$(".movie-date-wrapper").show(),$(".movie-cast-wrapper").show()},fetchMovieImages:function(e,t){$(".movie-logo").attr("src","");var s="series"===this.current_movie_type?"/tv/"+e+"/images?api_key="+tmdb_api_key:"/movie/"+e+"/images?api_key="+tmdb_api_key;return e?$.getJSON(tmdb_prefix_url+s).then(this.handleImageResponse.bind(this,t)).then($("#vod-series-cover .movie-info").show()):($(".movie-title").show(),$.Deferred().resolve().promise())},handleImageResponse:function(e,t){0<t.backdrops.length&&(e=tmdb_img_url+"w1280"+t.backdrops[0].file_path);t=0<t.logos.length?tmdb_img_url+"w500"+t.logos[0].file_path:null;t?($(".title-container").css("margin-bottom","1rem"),$(".movie-logo").attr("src",t).show(),$(".movie-title").hide()):($(".title-container").css("margin-bottom","0"),$(".movie-logo").hide(),$(".movie-title").show()),$("#vod-series-cover .movie-info").show(),$("#movie-image-container").show(),$("#movie-image").attr("src",e||HOST+"app_src_min/images/default_bg.png").css("opacity",1),$(".vod-series-summary-section-img-darken").show(),$("#vod-img-bg").css("opacity",1)},cacheMovieInfo:function(e,t,s,i,a){var e=e+t,t=(s=utilities.pickProperties(s,["name","duration","cover","cover_big","movie_image","releasedate","director","actors","cast","description","plot","genre","rating","backdrop_path","tmdb","tmdb_id"]),Object.keys(storageMoviesInfo));t&&0!=t.length||(storageMoviesInfo.host_url=api_host_url),100<=t.length&&(t=t[1],delete storageMoviesInfo[t]),storageMoviesInfo[e]={info:s,logo:i,bg:a},localStorage.setItem(storage_id+"saved-movie-info",JSON.stringify(storageMoviesInfo))},getCachedMovieInfo:function(e,t){return storageMoviesInfo&&storageMoviesInfo!={}?storageMoviesInfo[e+t]:null},goToSearch:function(){var e=this.current_movie_type,t=top_menu_page.sub_route;$(page_objects[t]).addClass("hide"),search_page.init("vod-series-page",e)},handleMenuClick:function(){var t,s,i,a,e=this.keys;switch(e.focused_part){case"movie_selection":"vod"===this.current_movie_type?(current_movie=this.movies[e.menu_selection],vod_summary_page.init("vod-series-page")):"replays"===this.current_movie_type?(showLoader(this.is_drawing=!0),t=[],o=settings.time_format,i=12==o?"Y-MM-DD hh:mm A":"Y-MM-DD HH:mm",a=(s=this).movies[e.menu_selection],$.ajax({method:"get",url:api_host_url+"/player_api.php?username="+user_name+"&password="+password+"&action=get_simple_data_table&stream_id="+a.stream_id,success:function(e){e.epg_listings&&0<e.epg_listings.length?(e.epg_listings.map(function(e){0!=e.has_archive&&t.push({start:getLocalChannelTime(e.start).format(i),stop:getLocalChannelTime(e.end).format(i),title:e.title,description:e.description})}),showLoader(!1),s.is_drawing=!1,0<t.length?catchup_page.init(a,t,"vod-series-page"):(showLoader(s.is_drawing=!1),showToast("Sorry","No Epg Available for current channel"))):(showLoader(s.is_drawing=!1),showToast("Sorry","Replays are not available currently"))},error:function(){showLoader(s.is_drawing=!1),showToast("Sorry","No Epg Available for current channel")}})):(current_series=this.movies[e.menu_selection],series_summary_page.init("vod-series-page"));break;case"category_selection":var o=this.categories[e.category_selection];this.current_category_index!=e.category_selection&&(checkForAdult(o,"category",[])?parent_confirm_page.init(current_route):this.showCategoryContent());break;case"sort_selection":this.current_category_index=-1;o=$(this.sort_doms[e.sort_selection]).data("sort_key");settings.saveSettings(this.current_movie_type+"_sort",o,""),$(this.top_menu_doms[0]).data("word_code",o),$(this.top_menu_doms[0]).text(current_words[o]||settings.sort_keys[o]),this.showCategoryContent(),this.goBack();break;case"theme_selection":2==e.theme_selection?this.closeThemeModal():this.selectTheme()}},handleMenusUpDown:function(e){var t,s=this.keys,i=this.menu_doms,a="m"==this.theme?6:5;switch($("#vod-series-search-input").blur(),s.focused_part){case"category_selection":s.category_selection+=e,s.category_selection<0?(s.category_selection=0,top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection)):s.category_selection>=this.category_doms.length?s.category_selection=this.category_doms.length-1:this.hoverCategory(this.category_doms[s.category_selection]);break;case"movie_selection":this.is_top_rated&&e<0?top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection):this.is_top_rated&&0<e||(t=s.menu_selection,s.menu_selection+=a*e,s.menu_selection>=i.length&&(s.menu_selection=i.length-1),s.menu_selection<0?(s.menu_selection=t,top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection)):(s.menu_selection>=this.current_render_count-a&&this.renderCategoryContent(),this.hoverMovieItem(this.menu_doms[s.menu_selection])));break;case"top_menu_selection":if(0<e){if($("#vod-series-search-input").blur(),0==this.menu_doms.length)return;s.menu_selection>=this.menu_doms.length&&(s.menu_selection=this.menu_doms.length-1),s.menu_selection>a&&(s.menu_selection=0),this.hoverMovieItem(this.menu_doms[s.menu_selection])}else top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection);break;case"sort_selection":s.sort_selection+=e,s.sort_selection<0&&(s.sort_selection=0),s.sort_selection>=this.sort_doms.length&&(s.sort_selection=this.sort_doms.length-1),this.hoverSortItem(s.sort_selection);break;case"theme_selection":e<0?this.hoverThemeItem(0):this.hoverThemeItem(2)}},handleMenuLeftRight:function(e){var t=this.keys,s="m"==this.theme?6:5;switch(t.focused_part){case"category_selection":0<e&&0<this.movies.length&&this.hoverMovieItem(this.menu_doms[t.menu_selection]),e<0&&top_menu_page.hoverSideBar(0);break;case"movie_selection":t.menu_selection%s==0&&e<0&&!this.is_top_rated?this.hoverCategory(this.category_doms[t.category_selection]):(t.menu_selection+=e,t.menu_selection<0?(t.menu_selection=0,this.hoverCategory(this.category_doms[t.category_selection])):t.menu_selection>=this.menu_doms.length?t.menu_selection=this.menu_doms.length-1:(this.hoverMovieItem(this.menu_doms[t.menu_selection]),0<e&&t.menu_selection>=this.current_render_count-s&&this.renderCategoryContent()));break;case"theme_selection":t.theme_selection+=e,t.theme_selection<0&&(t.theme_selection=0),t.theme_selection>=this.theme_doms.length&&(t.theme_selection=this.theme_doms.length-1),this.hoverThemeItem(t.theme_selection)}},HandleKey:function(e){if(!this.is_drawing)switch(e.keyCode){case 65376:case 65385:$("input").blur();break;case tvKey.RIGHT:this.handleMenuLeftRight(1);break;case tvKey.LEFT:this.handleMenuLeftRight(-1);break;case tvKey.DOWN:this.handleMenusUpDown(1);break;case tvKey.UP:this.handleMenusUpDown(-1);break;case tvKey.ENTER:this.handleMenuClick();break;case tvKey.CH_UP:this.showNextChannel(1);break;case tvKey.CH_DOWN:this.showNextChannel(-1);break;case tvKey.RETURN:this.goBack();break;case tvKey.YELLOW:"replays"!=this.current_movie_type&&this.addOrRemoveFav();break;case tvKey.GREEN:"replays"!=this.current_movie_type&&"sort_selection"!=this.keys.focused_part&&this.showThemeModal();break;case tvKey.BLUE:"replays"!=this.current_movie_type&&"theme_selection"!=this.keys.focused_part&&"sort_selection"!=this.keys.focused_part&&this.goToSearch();break;case tvKey.RED:"replays"!=this.current_movie_type&&"theme_selection"!=this.keys.focused_part&&this.showSortModal();break;case tvKey.N1:this.goChannelNum(1);break;case tvKey.N2:this.goChannelNum(2);break;case tvKey.N3:this.goChannelNum(3);break;case tvKey.N4:this.goChannelNum(4);break;case tvKey.N5:this.goChannelNum(5);break;case tvKey.N6:this.goChannelNum(6);break;case tvKey.N7:this.goChannelNum(7);break;case tvKey.N8:this.goChannelNum(8);break;case tvKey.N9:this.goChannelNum(9);break;case tvKey.N0:this.goChannelNum(0);break;case tvKey.PAUSE:this.playOrPause();break;default:console.log("No matching")}}},setting_page={player:null,keys:{focused_part:"menu_selection",menu_selection:0,hide_category_type_selection:0,font_size_selection:0,clear_cache_selection:0,clear_watchlist_item_selection:0,clear_watchlist_option_selection:0,clear_watchlist_option_choice:"movies",subtitle_selection:0},menu_doms:$(".setting-menu-item-wrapper"),font_size_doms:$(".select-font-size-item"),category_type_doms:$(".select-category-type-item"),clear_cache_doms:$(".clear-cache-item"),clear_watchlist_items_doms:$(".clear-watchlist-item"),clear_watchlist_option_doms:$(".clear-watchlist-option"),subtitle_doms:$(".subtitle-btn"),initiated:!1,current_modal:"",parent_control_doms:[],hide_category_doms:[],theme_modal_options:[],hide_category_movie_type:"live",doms_translated:[],language_doms:[],init:function(){$("#movie-image").attr("src","").hide(),$("#movie-image-overlay").hide(),$("#movie-image-container").hide(),$(".page-top-right-item").hide(),top_menu_page.sub_route="setting-page",$("#settings-page").removeClass("hide"),current_route="setting-page";var s=$("#parent-control-modal .parent-modal-input-item-container");$("#parent-control-modal .parent-control-modal-button").map(function(e,t){s.push(t)}),this.parent_control_doms=s,this.hoverSettingMenu(0),this.keys.font_size_selection=localStorage.getItem("app_font_size")||0,this.selectFontSize()},goBack:function(){var e=this.keys;switch(e.focused_part){case"menu_selection":top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection);break;case"parent_control_modal":this.hoverSettingMenu(e.menu_selection);break;case"hide_category_modal":case"hide_category_type_selection":case"language_selection":case"font_size_modal":case"clear_cache_modal":this.hoverSettingMenu(e.menu_selection);break;case"clear_watchlist_modal":case"clear_watchlist_option_selection":case"subtitle_modal":this.hoverSettingMenu(e.menu_selection)}},showSubtitleModal:function(){var e=settings.subtitle_size;$("#settings-modal").modal("hide"),$("#subtitle-modal").modal("show"),$(".subtitle-size-value").text(e),$(".subtitle-preview").css({"font-size":e/16+"rem"}),this.keys.focused_part="subtitle_modal",this.hoverSubtitleSize(0)},hoverSubtitleSize:function(e){var t=this.keys;current_route="setting-page",this.current_modal="subtitle-modal",t.focused_part="subtitle_modal",$(prev_focus_dom).removeClass("active"),t.subtitle_selection=e,$(this.subtitle_doms[e]).addClass("active"),prev_focus_dom=this.subtitle_doms[e]},increaseSubtitleSize:function(e){var t=settings.subtitle_size;100<(t=(t+=5*e)<20?20:t)&&(t=100),$(".subtitle-size-value").text(t),$(".subtitle-container").css({"font-size":t/16+"rem"}),$(".subtitle-preview").css({"font-size":t/16+"rem"}),settings.saveSettings("subtitle_size",t,"")},showClearWatchlistModal:function(){$("#settings-modal").modal("hide"),$("#clear-watchlist-modal").modal("show"),this.keys.focused_part="clear_watchlist_option_selection",this.hoverClearWatchlistOption(0),$(this.clear_watchlist_option_doms[0]).addClass("selected")},hoverClearWatchlistItem:function(e){var t=this.keys;current_route="setting-page",this.current_modal="clear-watchlist-modal",t.focused_part="clear_watchlist_modal",$(prev_focus_dom).removeClass("active"),t.clear_watchlist_item_selection=e,$(this.clear_watchlist_items_doms[e]).addClass("active"),prev_focus_dom=this.clear_watchlist_items_doms[e]},hoverClearWatchlistOption:function(e){var t=this.keys;current_route="setting-page",this.current_modal="clear-watchlist-modal",t.focused_part="clear_watchlist_option_selection",$(prev_focus_dom).removeClass("active"),t.clear_watchlist_option_selection=e,$(this.clear_watchlist_option_doms[e]).addClass("active"),prev_focus_dom=this.clear_watchlist_option_doms[e]},selectWatchlistOption:function(){var e=this.keys,t=e.clear_watchlist_option_selection;this.clear_watchlist_option_doms.removeClass("selected"),$(this.clear_watchlist_option_doms[t]).addClass("selected"),0==t?e.clear_watchlist_option_choice="movies":1==t&&(e.clear_watchlist_option_choice="series"),this.hoverClearWatchlistItem(0)},clearWatchlist:function(){var e=this.keys;"movies"==e.clear_watchlist_option_choice?VodModel.clearVideoTime():"series"==e.clear_watchlist_option_choice&&SeriesModel.clearVideoTime()},showClearCacheModal:function(){$("#settings-modal").modal("hide"),$("#clear-cache-modal").modal("show"),this.keys.focused_part="clear_cache_modal",this.hoverClearCache(0)},hoverClearCache:function(e){var t=this.keys;current_route="setting-page",this.current_modal="clear-cache-modal",t.focused_part="clear_cache_modal",$(prev_focus_dom).removeClass("active"),t.clear_cache_selection=e,$(this.clear_cache_doms[e]).addClass("active"),prev_focus_dom=this.clear_cache_doms[e]},clearCache:function(){localStorage.clear(),location.reload()},showFontSizeModal:function(){$("#settings-modal").modal("hide"),$("#font-size-modal").modal("show"),this.keys.focused_part="font_size_modal",this.hoverFontSize(0)},hoverFontSize:function(e){var t=this.keys;current_route="setting-page",this.current_modal="font-size-modal",t.focused_part="font_size_modal",$(prev_focus_dom).removeClass("active"),t.font_size_selection=e,$(this.font_size_doms).removeClass("active"),$(this.font_size_doms[e]).addClass("active"),prev_focus_dom=this.font_size_doms[e]},selectFontSize:function(){$(this.font_size_doms).removeClass("selected"),$(this.font_size_doms[this.keys.font_size_selection]).addClass("selected")},saveFontSize:function(){var e=this.keys;localStorage.setItem("app_font_size",e.font_size_selection),login_page.setFontSize()},showParentControlModal:function(){$("#parent-account-valid-error").hide(),$("#settings-modal").modal("hide"),$(".parent-modal-input-wrapper input").val(""),$("#parent-control-modal").modal("show"),this.keys.focused_part="parent_control_modal",this.keys.parent_control_modal=0,this.hoverParentControl(0),$(this.parent_control_doms[0]).find("input").focus()},clickParentControl:function(t){var e=this.keys;switch(e.parent_control_modal=t,e.parent_control_modal){case 0:case 1:case 2:$(this.parent_control_doms[t]).find("input").focus();var s=this;setTimeout(function(){var e=$(s.parent_control_doms[t]).find("input").val();$(s.parent_control_doms[t]).find("input")[0].setSelectionRange(e.length,e.length)},200);break;case 3:this.resetParentAccount();break;case 4:this.cancelResetParentAccount()}},resetParentAccount:function(){$("#parent-account-valid-error").hide();var e=$("#current_parent_password").val(),t=$("#new_parent_password").val(),s=$("#new_parent_password_confirm").val();e!=parent_account_password?$("#parent-account-valid-error").text("Current password does not match").slideDown():t!=s?$("#parent-account-valid-error").text("Password does not match").slideDown():(parent_account_password=t,localStorage.setItem(storage_id+"parent_account_password",parent_account_password),$("#parent-control-modal").modal("hide"),this.keys.focused_part="menu_selection")},cancelResetParentAccount:function(){$("#parent-control-modal").modal("hide"),this.keys.focused_part="menu_selection"},getSelectedLanguageWords:function(e){for(var t={},s=0;s<languages.length;s++)if(languages[s].code===e){t=languages[s].words;break}current_words=t},hoverCategoryType:function(e){var t=this.keys;current_route="setting-page",this.current_modal="hide-category-modal",$(prev_focus_dom).removeClass("active"),t.focused_part="hide_category_type_selection",t.hide_category_type_selection=e,this.hide_category_movie_type=this.category_type_doms[e].dataset.type,$(this.category_type_doms).removeClass("active"),$(this.category_type_doms[e]).addClass("active"),prev_focus_dom=this.category_type_doms[e]},showHideCategoryModal:function(){var e=this.hide_category_movie_type,i=($("#settings-modal").modal("hide"),"live"===e&&(t=LiveModel.getCategories(!0,!1)),"movie"!==e&&"vod"!==e||(t=VodModel.getCategories(!0,!1)),"series"===e&&(t=SeriesModel.getCategories(!0,!1)),""),t=(t.map(function(e,t){var s="";e.is_hide&&(s="show"),i+='<div class="hide-category-modal-option"   onclick="setting_page.clickHideCategory('+t+')"   onmouseenter="setting_page.hoverHideCategory('+t+')">   <input class="hide-category-checkbox" type="checkbox" name="checkbox"       id="hide-category-item-'+e.category_id+'" '+(e.is_hide?"":"checked")+' value="'+e.category_id+'">   <label for="hide-category-item-dfafdd'+e.category_id+'">'+e.category_name+'</label><svg class="hide-category-icon '+s+'" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.53 9.47004L9.47004 14.53C8.82004 13.88 8.42004 12.99 8.42004 12C8.42004 10.02 10.02 8.42004 12 8.42004C12.99 8.42004 13.88 8.82004 14.53 9.47004Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M17.82 5.76998C16.07 4.44998 14.07 3.72998 12 3.72998C8.46997 3.72998 5.17997 5.80998 2.88997 9.40998C1.98997 10.82 1.98997 13.19 2.88997 14.6C3.67997 15.84 4.59997 16.91 5.59997 17.77" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M8.42004 19.5301C9.56004 20.0101 10.77 20.2701 12 20.2701C15.53 20.2701 18.82 18.1901 21.11 14.5901C22.01 13.1801 22.01 10.8101 21.11 9.40005C20.78 8.88005 20.42 8.39005 20.05 7.93005" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M15.5099 12.7C15.2499 14.11 14.0999 15.26 12.6899 15.52" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M9.47 14.53L2 22" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M22 2L14.53 9.47" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>'}),$("#hide-modal-categories-container").html(i),$("#hide-category-modal").modal("show"),$(".select-category-type-item").removeClass("selected"),$(".select-category-type-item").removeClass("active"),$('.select-category-type-item[data-type="'+e+'"]').addClass("selected"),$(".hide-category-modal-option"));this.hide_category_doms=t,this.keys.hide_category_modal=0,$(this.hide_category_doms).removeClass("active"),$("#hide-modal-categories-container").scrollTop(0),this.hoverHideCategory(0)},hoverHideCategory:function(e){var t=this.keys;current_route="setting-page",this.current_modal="hide-category-modal",$(prev_focus_dom).removeClass("active"),t.focused_part="hide_category_modal",$(this.hide_category_doms[e]).addClass("active"),prev_focus_dom=this.hide_category_doms[e],moveScrollPosition($("#hide-modal-categories-container"),this.hide_category_doms[e],"vertical",!1)},clickHideCategory:function(e){var t,s=this.hide_category_doms[e];(t=!$($(s).find("input")[0]).prop("checked"))?$($(s).find(".hide-category-icon")).removeClass("show"):$($(s).find(".hide-category-icon")).addClass("show"),$($(s).find("input")[0]).prop("checked",t),("live"===this.hide_category_movie_type?LiveModel:"movie"===this.hide_category_movie_type||"vod"===this.hide_category_movie_type?VodModel:SeriesModel).saveHiddenCategories(e,!t)},showUserAccounts:function(){user_account_page.init()},showLanguages:function(){$("#settings-modal").modal("hide");var s=this.keys,e=(s.focused_part="language_selection",s.language_selection=0,this.language_doms);e.map(function(e,t){$(t).data("language")==settings.language&&(s.language_selection=e)}),this.hoverLanguage(s.language_selection),$("#language-select-modal").modal("show"),moveScrollPosition($("#select-language-body"),e[s.language_selection],"vertical",!1)},selectLanguage:function(e,t){settings.saveSettings("language",e,""),this.keys.language_selection=t,$(this.language_doms).removeClass("active"),$(this.language_doms[t]).addClass("active"),this.changeDomsLanguage()},changeDomsLanguage:function(){this.getSelectedLanguageWords(settings.language),this.doms_translated.map(function(e,t){var s=$(t).data("word_code");void 0!==current_words[s]&&$(t).text(current_words[s])})},confirmParentPassword:function(){$("#parent-confirm-password-error").hide();var e=$("#parent-confirm-password").val();parent_account_password===e?(this.keys.focused_part=this.keys.prev_focus,this.showCategoryContent()):$("#parent-confirm-password-error").text("Password does not match").show()},cancelParentPassword:function(){$("#parent-confirm-modal").modal("hide"),this.keys.focused_part=this.keys.prev_focus},hoverParentControl:function(e){var t=this.keys;current_route="setting-page",this.current_modal="parent-control-modal",$(prev_focus_dom).removeClass("active"),t.focused_part="parent_control_modal",t.parent_control_modal=e,$(this.parent_control_doms[e]).addClass("active"),prev_focus_dom=this.parent_control_doms[e]},hoverSettingMenu:function(e){top_menu_page.closeSideBar();var t=this.keys;t.focused_part="menu_selection",t.menu_selection=e,$(prev_focus_dom).removeClass("active"),$(this.menu_doms[e]).addClass("active"),prev_focus_dom=this.menu_doms[e],current_route="setting-page"},hoverLanguage:function(e){var t=this.keys,s=(current_route="setting-page",this.current_modal="language-selection-modal",t.focused_part="language_selection",this.language_doms);t.language_selection=e,$(prev_focus_dom).removeClass("active"),$(s[t.language_selection]).addClass("active"),prev_focus_dom=s[t.language_selection],moveScrollPosition($("#select-language-body"),s[t.language_selection],"vertical",!1)},handleMenuClick:function(){var t,s=this.keys;switch(s.focused_part){case"menu_selection":switch($(".modal").modal("hide"),s.menu_selection){case 0:this.showParentControlModal();break;case 1:this.showHideCategoryModal("live");break;case 2:this.showLanguages();break;case 3:this.showFontSizeModal();break;case 4:this.showClearCacheModal();break;case 5:this.showClearWatchlistModal();break;case 6:this.showSubtitleModal()}$(this.menu_doms).removeClass("selected"),$(this.menu_doms[s.menu_selection]).addClass("selected");break;case"parent_control_modal":s.parent_control_modal<3?($(this.parent_control_doms[s.parent_control_modal]).find("input").focus(),t=this,setTimeout(function(){var e=$(t.parent_control_doms[s.parent_control_modal]).find("input").val();console.log(e,s.parent_control_modal),$(t.parent_control_doms[s.parent_control_modal]).find("input")[0].setSelectionRange(e.length,e.length)},200)):$(this.parent_control_doms[s.parent_control_modal]).trigger("click");break;case"hide_category_modal":$(this.hide_category_doms[s.hide_category_modal]).trigger("click");break;case"theme_modal":$(this.theme_modal_options[s.theme_modal]).trigger("click");break;case"language_selection":$(this.language_doms[s.language_selection]).trigger("click");break;case"hide_category_type_selection":this.showHideCategoryModal();break;case"font_size_modal":this.selectFontSize(),this.saveFontSize();break;case"clear_cache_modal":0==s.clear_cache_selection?this.clearCache():this.goBack();break;case"clear_watchlist_modal":0==s.clear_watchlist_item_selection?this.clearWatchlist():this.goBack();break;case"clear_watchlist_option_selection":this.selectWatchlistOption();break;case"subtitle_modal":0==s.subtitle_selection?this.increaseSubtitleSize(-1):1==s.subtitle_selection&&this.increaseSubtitleSize(1)}},handleMenusUpDown:function(e){var t=this.keys;switch(t.focused_part){case"menu_selection":var s=t.menu_selection;if(t.menu_selection+=e,t.menu_selection>=this.menu_doms.length){if(s>this.menu_doms.length-1)return void(t.menu_selection=s);t.menu_selection=this.menu_doms.length-1}t.menu_selection<0?(t.menu_selection=s,top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection)):this.hoverSettingMenu(t.menu_selection);break;case"hide_category_modal":t.hide_category_modal+=e,t.hide_category_modal<0?(t.hide_category_modal=0,this.hoverCategoryType(t.hide_category_type_selection)):(t.hide_category_modal>=this.hide_category_doms.length&&(t.hide_category_modal=this.hide_category_doms.length-1),this.hoverHideCategory(t.hide_category_modal),console.log(t.hide_category_modal));break;case"hide_category_type_selection":e<0?top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection):this.hoverHideCategory(0);break;case"parent_control_modal":if(0<e)t.parent_control_modal<3&&(t.parent_control_modal+=e);else if(3<=t.parent_control_modal)t.parent_control_modal=2;else if(t.parent_control_modal+=e,t.parent_control_modal<0)return t.parent_control_modal=0,void top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection);this.hoverParentControl(t.parent_control_modal);break;case"language_selection":s=this.language_doms;t.language_selection+=e,t.language_selection<0?(t.language_selection=0,top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection)):(t.language_selection>=s.length&&(t.language_selection=s.length-1),this.hoverLanguage(t.language_selection));break;case"font_size_modal":t.font_size_selection+=e,t.font_size_selection<0?(t.font_size_selection=0,top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection)):(t.font_size_selection>=this.font_size_doms.length&&(t.font_size_selection=this.font_size_doms.length-1),this.hoverFontSize(t.font_size_selection));break;case"clear_watchlist_modal":e<0&&this.hoverClearWatchlistOption(t.clear_watchlist_option_selection);break;case"clear_watchlist_option_selection":0<e?this.hoverClearWatchlistItem(t.clear_watchlist_item_selection):top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection);break;case"clear_cache_modal":case"subtitle_modal":e<0&&top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection)}},handleMenuLeftRight:function(e){var t=this.keys;switch(t.focused_part){case"menu_selection":if(e<0&&top_menu_page.hoverSideBar(0),0<e)switch(this.current_modal){case"hide-category-modal":this.hoverCategoryType(0);break;case"parent-control-modal":this.hoverParentControl(t.parent_control_modal);break;case"hide-category-type-selection":this.hoverCategoryType(t.hide_category_type_selection);break;case"theme-modal":this.hoverTheme(t.theme_modal);break;case"language-selection-modal":this.hoverLanguage(t.language_selection);break;case"font-size-modal":this.hoverFontSize(t.font_size_selection);break;case"clear-cache-modal":this.hoverClearCache(t.clear_cache_selection);break;case"clear-watchlist-modal":this.hoverClearWatchlistOption(t.clear_watchlist_option_selection);break;case"subtitle-modal":this.hoverSubtitleSize(t.subtitle_selection)}break;case"parent_control_modal":t.parent_control_modal<=3&&e<0?this.goBack():(3<=t.parent_control_modal&&0<e||3<t.parent_control_modal&&e<0)&&(t.parent_control_modal+=e,4<=t.parent_control_modal&&(t.parent_control_modal=4),this.hoverParentControl(t.parent_control_modal));break;case"hide_category_type_selection":(t=this.keys).hide_category_type_selection+=e,t.hide_category_type_selection<0?(t.hide_category_type_selection=0,this.goBack()):(t.hide_category_type_selection>=this.category_type_doms.length&&(t.hide_category_type_selection=this.category_type_doms.length-1),this.hoverCategoryType(t.hide_category_type_selection));break;case"hide_category_modal":case"language_selection":case"font_size_modal":e<0&&this.goBack();break;case"clear_cache_modal":e<0&&0==t.clear_cache_selection?this.goBack():(t.clear_cache_selection+=e,t.clear_cache_selection<0&&(t.clear_cache_selection=0),t.clear_cache_selection>=this.clear_cache_doms.length&&(t.clear_cache_selection=this.clear_cache_doms.length-1),this.hoverClearCache(t.clear_cache_selection));break;case"clear_watchlist_option_selection":e<0&&0==t.clear_watchlist_option_selection?this.goBack():(t.clear_watchlist_option_selection+=e,t.clear_watchlist_option_selection<0&&(t.clear_watchlist_option_selection=0),t.clear_watchlist_option_selection>=this.clear_watchlist_option_doms.length&&(t.clear_watchlist_option_selection=this.clear_watchlist_option_doms.length-1),this.hoverClearWatchlistOption(t.clear_watchlist_option_selection));break;case"clear_watchlist_modal":e<0&&0==t.clear_watchlist_item_selection?this.goBack():(t.clear_watchlist_item_selection+=e,t.clear_watchlist_item_selection<0&&(t.clear_watchlist_item_selection=0),t.clear_watchlist_item_selection>=this.clear_watchlist_items_doms.length&&(t.clear_watchlist_item_selection=this.clear_watchlist_items_doms.length-1),this.hoverClearWatchlistItem(t.clear_watchlist_item_selection));break;case"subtitle_modal":e<0&&0==t.subtitle_selection?this.goBack():(t.subtitle_selection+=e,t.subtitle_selection<0&&(t.subtitle_selection=0),t.subtitle_selection>=this.subtitle_doms.length&&(t.subtitle_selection=this.subtitle_doms.length-1),this.hoverSubtitleSize(t.subtitle_selection))}},HandleKey:function(e){switch(e.keyCode){case tvKey.RIGHT:this.handleMenuLeftRight(1);break;case tvKey.LEFT:this.handleMenuLeftRight(-1);break;case tvKey.DOWN:this.handleMenusUpDown(1);break;case tvKey.UP:this.handleMenusUpDown(-1);break;case tvKey.ENTER:this.handleMenuClick();break;case tvKey.RETURN:this.goBack()}}},search_page={keys:{top_menu_selection:0,hor_keys:[0,0,0],v_selection:0,movie_selection:[],focused_part:""},prev_dom:null,is_loading:!1,filtered_movies:[],render_counts:[0,0,0],prev_keyword:"",search_timeout:null,prev_route:"",top_menu_doms:$(".search-page-top-menu"),movie_doms:[],render_count_increment:50,searching_for:[],parent_elements:[$("#filtered_channels_container")[0],$("#filtered_movies_container")[0],$("#filtered_series_container")[0]],init:function(e,t){switch($("#movie-image-container").hide(),$("#movie-image-overlay").hide(),this.prev_route=e,top_menu_page.sub_route="search-page",current_route="search-page",$("#search-page").removeClass("hide"),$(".page-top-right-item").hide(),$("#filtered_channels_container").html(""),$("#filtered_movies_container").html(""),$("#filtered_series_container").html(""),$(".search-page-stream-type-container.live").hide(),$(".search-page-stream-type-container.vod").hide(),$(".search-page-stream-type-container.series").hide(),this.searching_for=t||"all",this.searching_for){case"vod":$(".search-page-stream-type-container.vod").show();break;case"series":$(".search-page-stream-type-container.series").show();break;case"live":$(".search-page-stream-type-container.live").show();break;default:$(".search-page-stream-type-container.live").show(),$(".search-page-stream-type-container.vod").show(),$(".search-page-stream-type-container.series").show()}this.filtered_movies=[],this.keys.hor_keys=[0,0,0],this.prev_keyword="",$("#search-page-input").val(""),$("#home-page").addClass("hide"),$("#search-page").show(),current_route="search-page",this.hoverTopMenu(0),this.handleMenuClick()},goBack:function(){switch(this.keys.focused_part){case"search_input":top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection);break;case"movie_selection":this.hoverTopMenu(0),this.handleMenuClick()}clearTimeout(this.search_timeout)},keywordChange:function(){clearTimeout(this.search_timeout);var o=this;this.search_timeout=setTimeout(function(){var e=o.prev_keyword,t=$("#search-page-input").val().toLowerCase();if(e!=t&&t){showLoader(!0),o.is_loading=!0;var s=VodModel.getCategories(!1,!1),i=SeriesModel.getCategories(!1,!1),a=LiveModel.getCategories(!1,!1);switch(o.filtered_movies=[],o.searching_for){case"vod":o.filtered_movies.push([]),o.filtered_movies.push(o.getFilteredMovies(s,t)),o.filtered_movies.push([]);break;case"series":o.filtered_movies.push([]),o.filtered_movies.push([]),o.filtered_movies.push(o.getFilteredMovies(i,t));break;case"live":o.filtered_movies.push(o.getFilteredMovies(a,t)),o.filtered_movies.push([]),o.filtered_movies.push([]);break;default:o.filtered_movies.push(o.getFilteredMovies(a,t)),o.filtered_movies.push(o.getFilteredMovies(s,t)),o.filtered_movies.push(o.getFilteredMovies(i,t))}switch(o.render_counts=[0,0,0],o.keys.hor_keys=[0,0,0],o.movie_doms=[[],[],[]],$(o.parent_elements[0]).html(""),$(o.parent_elements[1]).html(""),$(o.parent_elements[2]).html(""),o.searching_for){case"vod":o.renderFilteredMovies(1,!1,!1);break;case"series":o.renderFilteredMovies(2,!1,!1);break;case"live":o.renderFilteredMovies(0,!1,!1);break;default:o.renderFilteredMovies(0,!1,!0),o.renderFilteredMovies(1,!1,!0),o.renderFilteredMovies(2,!1,!0)}o.prev_keyword=t;e=2e3;o.filtered_movies[0].length+o.filtered_movies[1].length+o.filtered_movies[2].length<50&&(e=500),setTimeout(function(){showLoader(!1),o.is_loading=!1},e)}},400)},getFilteredMovies:function(e,t){var s=[];return e.map(function(e){checkForAdult(e,"category",[])||"resume"===e.category_id||(e=e.movies.filter(function(e){return e.name.toLowerCase().includes(t)}),s=s.concat(e))}),s},renderFilteredMovies:function(i,e,t){var s,a,o,n,r,l,c,d,_,h=this.parent_elements[i],m=this.render_counts[i];m>=this.filtered_movies[i].length||(s=this.render_count_increment,e&&(showLoader(!0),this.is_loading=!0),a=this,o="",n=0==i?"channel":"vod",r="stream_icon",c="stream_id",d=HOST+"app_src_min/images/default_movie_poster.png",0==i&&(d=HOST+"app_src_min/images/default_movie_poster.png",l=LiveModel.favourite_ids),1==i&&(VodModel.saved_video_times,l=VodModel.favourite_ids),2==i&&(r="cover",l=SeriesModel.favourite_ids,c="series_id"),_=this.filtered_movies[i].slice(m,m+s),t?$(".search-page-stream-items-container").addClass("one-line"):$(".search-page-stream-items-container").removeClass("one-line"),t=1500,_.length<10&&(t=0),_.map(function(e,t){var s=l.includes(e[c]);o+='<div class="filtered-movie-container '+n+'">                    <div class="filtered-movie-wrapper"                        onmouseenter="search_page.hoverMovie('+(m+t)+","+i+')"                        onclick="search_page.handleMenuClick()"                     >'+(s?'<div class="favourite-badge"><i class="fa fa-star"></i></div>':"")+'<div class="filtered-movie-img-wrapper">                            <img src="'+e[r]+'" onerror="this.src=\''+d+'\'">                        </div>                        <div class="filtered-movie-title-wrapper">                            <div class="filtered-movie-title">'+e.name+"</div>                         </div>                     </div>                </div>"}),this.render_counts[i]+=s,$(h).append(o),this.movie_doms[i]=$(h).find(".filtered-movie-wrapper"),e&&setTimeout(function(){showLoader(!1),a.is_loading=!1},t))},hoverTopMenu:function(e){var t;show_keyboard||(top_menu_page.closeSideBar(),t=this.keys,$(prev_focus_dom).removeClass("active"),t.focused_part="search_input",current_route="search-page",t.top_menu_selection=e,$(this.prev_dom).removeClass("active"),$(this.top_menu_doms[e]).addClass("active"),this.prev_dom=this.top_menu_doms[e],prev_focus_dom=this.top_menu_doms[e])},hoverMovie:function(e,t){if(!show_keyboard){var s=this.keys,s=(s.hor_keys[t]=e,s.v_selection=t,s.focused_part="movie_selection",this.parent_elements[t]);if($(this.prev_dom).removeClass("active"),$(this.movie_doms[t][e]).addClass("active"),this.prev_dom=this.movie_doms[t][e],moveScrollPosition(s,$(this.prev_dom).closest(".filtered-movie-container"),"horizontal",!1),"all"==this.searching_for)moveScrollPosition($("#search-page-contents-wrapper"),$(s).closest(".search-page-stream-type-container"),"vertical",!1);else{var i="";switch(this.searching_for){case"live":i="channel";break;case"vod":i="movies";break;case"series":i="series"}moveScrollPosition($("#filtered_"+i+"_container"),this.movie_doms[t][e],"vertical",!1)}}},handleMenuLeftRight:function(e){var t=this.keys;if(!show_keyboard)switch(t.focused_part){case"search_input":e<0&&top_menu_page.hoverMenuItem(3);break;case"movie_selection":var s=t.hor_keys[t.v_selection]+e;s<0?top_menu_page.hoverSideBar(s=0):(s>=this.movie_doms[t.v_selection].length&&(s=this.movie_doms[t.v_selection].length-1),this.hoverMovie(s,t.v_selection),0<e&&s>=this.movie_doms[t.v_selection].length-9&&this.renderFilteredMovies(t.v_selection,!0))}},handleMenuUpDown:function(e){var t,s=this.keys;switch(s.focused_part){case"search_input":if(!show_keyboard&&0<e){if("vod"==this.searching_for)t=1;else if("series"==this.searching_for)t=2;else if("live"==this.searching_for)t=0;else for(var i=0;i<this.filtered_movies.length;i++)if(0<this.filtered_movies[i].length){t=i;break}null!=t&&0<this.filtered_movies[t].length&&(s.v_selection=t,this.hoverMovie(s.hor_keys[t],t));for(i=0;i<this.filtered_movies.length;i++)if(0<this.filtered_movies[i].length){s.v_selection=i,this.hoverMovie(s.hor_keys[i],i);break}}break;case"movie_selection":if("all"==this.searching_for){var a=-1;if(0<e){if(2<=s.v_selection)return;for(i=s.v_selection+1;i<3;i++)if(0<this.filtered_movies[i].length){a=i;break}}else for(i=s.v_selection-1;0<=i;i--)if(0<this.filtered_movies[i].length){a=i;break}if(e<0&&(s.v_selection<=0||-1===a)||-1===a)return void this.hoverTopMenu(0);-1!==a&&this.hoverMovie(s.hor_keys[a],a)}else{a=-1;switch(this.searching_for){case"live":a=0;case"vod":a=1;break;case"series":a=2}s.hor_keys[a]+=6*e;var o=this.filtered_movies[a];if(s.hor_keys[a]>=o.length&&(s.hor_keys[a]=o.length-1),s.hor_keys[a]<0)return s.hor_keys[a]=0,void this.hoverTopMenu(0);-1!==a&&this.hoverMovie(s.hor_keys[a],a),0<e&&s.hor_keys[a]>=this.movie_doms[s.v_selection].length-9&&this.renderFilteredMovies(s.v_selection,!0)}}},handleMenuClick:function(){var e=this.keys;switch(e.focused_part){case"search_input":0==e.top_menu_selection&&(show_keyboard&&$("#search-page-input").blur(),$("#search-page-input").focus(),setSelectionRange($("#search-page-input")));break;case"movie_selection":var t=this.filtered_movies[e.v_selection][e.hor_keys[e.v_selection]];switch($("#search-page").hide(),e.v_selection){case 0:channel_page.init(t);break;case 1:current_movie=this.filtered_movies[1][e.hor_keys[1]],vod_summary_page.init("search-page");break;case 2:current_series=this.filtered_movies[2][e.hor_keys[2]],series_summary_page.init("search-page")}}},HandleKey:function(e){if(!this.is_loading)switch(e.keyCode){case tvKey.RETURN:this.goBack();break;case tvKey.LEFT:this.handleMenuLeftRight(-1);break;case tvKey.RIGHT:this.handleMenuLeftRight(1);break;case tvKey.UP:this.handleMenuUpDown(-1);break;case tvKey.DOWN:this.handleMenuUpDown(1);break;case tvKey.ENTER:this.handleMenuClick()}}},turn_off_page={keys:{focused_part:"menu_selection",menu_selection:0},menu_doms:$("#turn-off-modal button"),prev_route:"",movie:null,init:function(e){console.log("init turn off page"),this.prev_route=e,current_route="turn-off-page",this.hoverMenuItem(0),$("#turn-off-modal").modal("show")},goBack:function(){$("#turn-off-modal").modal("hide"),current_route=this.prev_route},hoverMenuItem:function(e){var t=this.keys;t.focused_part="menu_selection",t.menu_selection=e,$(this.menu_doms).removeClass("active"),$(this.menu_doms[e]).addClass("active")},handleMenuClick:function(){var e=this.keys;if("menu_selection"===e.focused_part)switch(this.keys.menu_selection){case 0:"samsung"===platform?tizen.application.getCurrentApplication().exit():window.close();break;case 1:this.goBack()}},handleMenusUpDown:function(e){},handleMenuLeftRight:function(e){var t=this.keys;"menu_selection"===t.focused_part&&(t.menu_selection+=e,t.menu_selection<0&&(t.menu_selection=0),1<t.menu_selection&&(t.menu_selection=1),this.hoverMenuItem(t.menu_selection))},HandleKey:function(e){switch(e.keyCode){case tvKey.RIGHT:this.handleMenuLeftRight(1);break;case tvKey.LEFT:this.handleMenuLeftRight(-1);break;case tvKey.DOWN:this.handleMenusUpDown(1);break;case tvKey.UP:this.handleMenusUpDown(-1);break;case tvKey.ENTER:this.handleMenuClick();break;case tvKey.RETURN:this.goBack()}}},parent_confirm_page={keys:{focused_part:"menu_selection",menu_selection:0},menu_doms:$(".parent-confirm-item"),prev_route:"",movie:null,init:function(e){this.prev_route=e,current_route="parent-confirm-page",$(this.menu_doms[0]).find("input").val(""),this.hoverMenuItem(0),$("#parent-confirm-password-error").hide(),$("#parent-confirm-modal").modal("show")},goBack:function(){$("#parent-confirm-modal").modal("hide"),current_route=this.prev_route,"vod-summary-page"!==this.prev_route&&"series-summary-page"!==this.prev_route||(current_route="vod-series-page"),"channel-category-page"===this.prev_route&&(current_route="channel-category-page")},hoverMenuItem:function(e){var t=this.keys;t.focused_part="menu_selection",t.menu_selection=e,$(this.menu_doms).removeClass("active"),$(this.menu_doms[e]).addClass("active")},handleMenuClick:function(){var e=this.keys;if("menu_selection"===e.focused_part)switch(this.keys.menu_selection){case 0:$(this.menu_doms[0]).find("input").val(""),$(this.menu_doms[0]).find("input").focus();break;case 1:var t=$(this.menu_doms[0]).find("input").val();$("#parent-confirm-password-error").hide(),t!=parent_account_password?$("#parent-confirm-password-error").slideDown():($("#parent-confirm-modal").modal("hide"),current_route=this.prev_route,"channel-page"===this.prev_route?channel_page.showCategoryChannels():"vod-series-page"===this.prev_route?vod_series_page.showCategoryContent():"stream-category-page"===this.prev_route&&stream_category_page.showStreamPage());break;case 2:this.goBack()}},handleMenusUpDown:function(e){var t=this.keys;1<=t.menu_selection&&0<e||(1<=t.menu_selection&&e<0?t.menu_selection=0:0==t.menu_selection&&0<e&&(t.menu_selection=1),this.hoverMenuItem(t.menu_selection))},handleMenuLeftRight:function(e){var t=this.keys;"menu_selection"===t.focused_part&&1<=t.menu_selection&&(t.menu_selection+=e,t.menu_selection<1&&(t.menu_selection=0),2<t.menu_selection&&(t.menu_selection=2),this.hoverMenuItem(t.menu_selection))},HandleKey:function(e){switch(e.keyCode){case tvKey.RIGHT:this.handleMenuLeftRight(1);break;case tvKey.LEFT:this.handleMenuLeftRight(-1);break;case tvKey.DOWN:this.handleMenusUpDown(1);break;case tvKey.UP:this.handleMenusUpDown(-1);break;case tvKey.ENTER:this.handleMenuClick();break;case tvKey.RETURN:this.goBack()}}},user_account_page={player:null,keys:{focused_part:"menu_selection",menu_selection:0,activation_btn:0},activation_btn:$("#code-activation-btn")[0],init:function(){$("#movie-image-overlay").hide(),$(".page-top-right-item").hide(),$("#notification-title").html(notification.title),$("#notification-content").html(notification.content),$("#playlist-device-id").text(mac_address),$("#playlist-device-key").text(device_key),$("#user-account-expire-date").text(expire_date),2==is_trial?$("#code-activation-btn").addClass("hide"):$("#code-activation-btn").removeClass("hide"),0<is_trial?$("#user-account-is_trial").text("Active"):$("#user-account-is_trial").text("Trial"),$("#user-account-page").removeClass("hide"),this.keys.focused_part="menu_selection",$("#settings-page").addClass("hide"),top_menu_page.sub_route="user-account-page",this.hoverMenuItem()},goBack:function(){},hoverMenuItem:function(){top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection)},handleMenuClick:function(){"menu_selection"!==this.keys.focused_part||$("#code-activation-btn").hasClass("hide")||activation_page.init("user-account-page")},handleMenusUpDown:function(e){e<0&&top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection)},handleMenuLeftRight:function(e){e<0&&top_menu_page.hoverSideBar(0)},HandleKey:function(e){switch(e.keyCode){case tvKey.RIGHT:this.handleMenuLeftRight(1);break;case tvKey.LEFT:this.handleMenuLeftRight(-1);break;case tvKey.DOWN:this.handleMenusUpDown(1);break;case tvKey.UP:this.handleMenusUpDown(-1);break;case tvKey.ENTER:this.handleMenuClick();break;case tvKey.RETURN:this.goBack()}}},activation_page={keys:{focused_part:"input_selection",input_selection:0,btn_selection:0},prev_route:"",buttons:$(".activation-btn"),activation_input:$("#activation-input")[0],is_loading:!1,tried_panel_indexes:[],init:function(e){this.prev_route=e,$("#activation-modal").modal("show"),$(this.activation_input).val(""),current_route="activation-page",this.hoverInput(),this.tried_panel_indexes=[],$("#activation-code-message").hide()},goBack:function(){$("#activation-modal").modal("hide"),current_route=this.prev_route,"user-account-page"===this.prev_route?2==is_trial&&$(user_account_page.activation_btn).hide():"login"!==this.prev_route||2!=is_trial&&1!=is_trial||login_page.login()},showErrorMessage:function(e){$("#activation-code-message").text(e).slideDown(),setTimeout(function(){$("#activation-code-message").slideUp()},4e3)},confirmActivationCode:function(){$("#activation-code-message").hide();var s,e,t,i,a=$(this.activation_input).val();a?(showLoader(this.is_loading=!0),e=(i=pickPanelUrl((s=this).tried_panel_indexes))[1],t=i[0],i=encryptRequest({mac_address:mac_address,code:a}),$.ajax({method:"post",url:e+"/check-activation-code",data:{data:i},success:function(e){var t;s.is_loading&&(showLoader(s.is_loading=!1),"success"===(e=decryptResponse(e)).status?(expire_date=e.expire_date,$(".expire-date").text(expire_date),saveData("is_trial",e.is_trial),t=localStorage.getItem(storage_id+"api_data"),(t=JSON.parse(t)).is_trial=2,t.expire_date=e.expire_date,localStorage.setItem(storage_id+"api_data",JSON.stringify(t)),s.goBack()):s.showErrorMessage(e.msg))},error:function(){s.tried_panel_indexes.length<panel_urls.length?(s.tried_panel_indexes.push(t),s.fetchPlaylistInformation()):(showLoader(s.is_loading=!1),s.showErrorMessage("Sorry, Code is not valid"))}})):this.showErrorMessage("Sorry, activation code is required")},hoverInput:function(){$(this.buttons).removeClass("active"),$(this.activation_input).addClass("active"),this.keys.focused_part="input_selection"},hoverBtn:function(e){var t=this.keys;t.btn_selection=e,t.focused_part="btn_selection",$(this.activation_input).removeClass("active"),$(this.buttons).removeClass("active"),$(this.buttons[e]).addClass("active")},handleMenuLeftRight:function(e){var t=this.keys;"btn_selection"===t.focused_part&&(t.btn_selection=0<e?1:0,this.hoverBtn(t.btn_selection))},handleMenuUpDown:function(e){var t=this.keys;switch(t.focused_part){case"input_selection":0<e&&($(this.activation_input).blur(),this.hoverBtn(t.btn_selection));break;case"btn_selection":e<0&&this.hoverInput()}},handleMenuClick:function(){var e=this.keys;switch(e.focused_part){case"input_selection":$(this.activation_input).focus(),setSelectionRange(this.activation_input);break;case"btn_selection":0==e.btn_selection?this.confirmActivationCode():this.goBack()}},HandleKey:function(e){if(this.is_loading)e.keyCode===tvKey.RETURN&&(showLoader(!1),this.is_loading=!1,this.goBack());else switch(e.keyCode){case tvKey.LEFT:this.handleMenuLeftRight(-1);break;case tvKey.RIGHT:this.handleMenuLeftRight(1);break;case tvKey.UP:this.handleMenuUpDown(-1);break;case tvKey.DOWN:this.handleMenuUpDown(1);break;case tvKey.ENTER:this.handleMenuClick();break;case tvKey.RETURN:this.goBack()}}},playlist_edit_page={initiated:!1,keys:{focused_part:"kind_selection",kind_selection:0,playlist_edit_selection:0},playlist_edit_doms:$(".playlist-edit-item"),kind_doms:$(".playlist-kind-item"),playlist_type:"general",back_btn_dom:null,playlist:null,is_loading:!1,tried_panel_indexes:[],prev_route:"",init:function(e){this.prev_route=e,this.tried_panel_indexes=[],this.playlist=null,top_menu_page.sub_route="playlist-edit-page",$("#playlists-page").addClass("hide"),$("#playlist-edit-page").removeClass("hide"),$("#playlist-edit-error-message").hide();this.playlist_type="general",$(this.playlist_edit_doms[0]).val(""),$(this.playlist_edit_doms[1]).val(""),$(this.playlist_edit_doms[2]).val(""),$(this.playlist_edit_doms[3]).val(""),this.playListTypeChanged(),this.hoverKindItem(this.keys.playlist_edit_selection),current_route="playlist-edit-page"},playListTypeChanged:function(){var e=this.playlist_type;$(this.kind_doms).removeClass("current"),("general"===e?($(".xc-case").removeClass("visible"),$(this.kind_doms[0])):($(".xc-case").addClass("visible"),$(this.kind_doms[1]))).addClass("current")},savePlaylist:function(){var t=this.playlist_type,s=$(this.playlist_edit_doms[0]).val(),i=$(this.playlist_edit_doms[1]).val(),a=$(this.playlist_edit_doms[2]).val(),o=$(this.playlist_edit_doms[3]).val();if(s)if(i){if("xc"===t){if(!a)return void $("#playlist-edit-error-message").text("Sorry, username is required").slideDown();if(!o)return void $("#playlist-edit-error-message").text("Sorry, password is required").slideDown()}$("#playlist-edit-error-message").slideUp(),showLoader(!0),this.is_loading=!0;var n="non_saved_"+moment().unix(),e=i,r=("xc"===t&&(e+="/player_api.php?username="+a+"&password="+o),this);$.ajax({method:"get",url:e,success:function(e){if("xc"===t){if(!e||!e.user_info)return void r.showPlaylistErrorMessage();e=e.user_info;if(0==e.auth||e.status&&("Expired"===e.status||"Banned"===e.status))return void r.showPlaylistErrorMessage();i+="/get.php?username="+a+"&password="+o+"&type=m3u&output=hls"}e={id:n,url:i,playlist_name:s};r.updatePlaylistWithServer(e)},error:function(){r.showPlaylistErrorMessage()}})}else $("#playlist-edit-error-message").text("Sorry, playlist url is required").slideDown();else $("#playlist-edit-error-message").text("Sorry, playlist name is required").slideDown()},showPlaylistErrorMessage:function(){showLoader(!1),this.is_loading=!1,$("#playlist-edit-error-message").html("Sorry, Your playlist is not working<br>Please check your playlist and try again").slideDown()},updatePlaylistWithServer:function(e){var t=encryptRequest({mac_address:mac_address,app_type:platform,playlists:[e]}),s=pickPanelUrl(this.tried_panel_indexes),i=s[1],a=s[0],o=this;$.ajax({method:"post",url:i+"/update_playlist",data:{data:t},success:function(e){o.tried_panel_indexes=[];e=decryptResponse(e);o.playListSaved(e[0],!0)},error:function(){o.tried_panel_indexes.push(a),o.tried_panel_indexes.length<panel_urls.length?o.updatePlaylistWithServer(e):o.playListSaved(e,!1)}})},playListSaved:function(e,t){var s=localStorage.getItem(storage_id+"local_data"),i=((s=s?JSON.parse(s):{}).playlist_urls||(s.playlist_urls=[]),s.playlist_urls),t=(t||i.push(e),s.playlist_urls=i,localStorage.setItem(storage_id+"local_data",JSON.stringify(s)),playlist_urls.push(e),saveData("playlist_urls",playlist_urls),localStorage.getItem(storage_id+"api_data")),i=(t&&((t=JSON.parse(t)).playlist_urls=playlist_urls,localStorage.setItem(storage_id+"api_data",JSON.stringify(t))),showLoader(!1),this.is_loading=!1,playlist_urls.length-1),s='<div class="playlist-item-container"                onmouseenter="playlist_page.hoverPlayListItem('+i+')"                onclick="playlist_page.changePlaylist('+i+')"            >                <div class="playlist-item-wrapper">                    <img class="playlist-item-logo" src="'+HOST+'app_src_min/images/logo.png">                     <span class="playlist-name">'+e.playlist_name+"</span></div>         </div>";$("#playlist-items-container").append(s),playlist_page.playlist_doms=$(".playlist-item-wrapper"),this.goBack()},hoverKindItem:function(e){var t=this.keys;t.focused_part="kind_selection",t.kind_selection=e,current_route="playlist-edit-page",$(prev_focus_dom).removeClass("active"),$(this.kind_doms[e]).addClass("active"),prev_focus_dom=this.kind_doms[e]},hoverPlaylistEditItem:function(e){var t=this.keys;t.focused_part="playlist_edit_selection",t.playlist_edit_selection=e,current_route="playlist-edit-page",$(prev_focus_dom).removeClass("active"),$(this.playlist_edit_doms[e]).addClass("active"),prev_focus_dom=this.playlist_edit_doms[e]},handleMenuClick:function(){var e=this.keys;switch(e.focused_part){case"kind_selection":0==e.kind_selection?this.playlist_type="general":this.playlist_type="xc",this.playListTypeChanged();break;case"playlist_edit_selection":e.playlist_edit_selection<4?($(this.playlist_edit_doms[e.playlist_edit_selection]).focus(),setSelectionRange(this.playlist_edit_doms[e.playlist_edit_selection])):4==e.playlist_edit_selection?this.savePlaylist():this.goBack()}},handleMenuLeftRight:function(e){var t=this.keys;switch(t.focused_part){case"kind_selection":t.kind_selection=0<e?1:0,this.hoverKindItem(t.kind_selection);break;case"playlist_edit_selection":4<=t.playlist_edit_selection&&(t.playlist_edit_selection=0<e?5:4,this.hoverPlaylistEditItem(t.playlist_edit_selection))}},handleMenusUpDown:function(e){var t=this.keys;switch(t.focused_part){case"kind_selection":0<e?this.hoverPlaylistEditItem(0):top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection);break;case"playlist_edit_selection":if(4<=t.playlist_edit_selection){if(!(e<0))return;"xc"===this.playlist_type?t.playlist_edit_selection=3:t.playlist_edit_selection=1}else t.playlist_edit_selection+=e,"general"===this.playlist_type&&2==t.playlist_edit_selection&&0<e&&(t.playlist_edit_selection=4);t.playlist_edit_selection<0?this.hoverKindItem(t.kind_selection):this.hoverPlaylistEditItem(t.playlist_edit_selection)}},goBack:function(){$("#playlist-edit-page").addClass("hide"),$("#playlists-page").removeClass("hide"),top_menu_page.sub_route="playlist-page",current_route=this.prev_route,playlist_page.hoverPlayListItem(playlist_page.keys.current_playlist_index)},HandleKey:function(e){if(this.is_loading)e.keyCode===tvKey.RETURN&&(showLoader(!1),this.is_loading=!1,this.goBack());else switch(e.keyCode){case tvKey.RETURN:this.goBack();break;case tvKey.LEFT:this.handleMenuLeftRight(-1);break;case tvKey.RIGHT:this.handleMenuLeftRight(1);break;case tvKey.UP:this.handleMenusUpDown(-1);break;case tvKey.DOWN:this.handleMenusUpDown(1);break;case tvKey.ENTER:this.handleMenuClick()}}},top_menu_page={keys:{focused_part:"menu_selection",menu_selection:0,side_bar_selection:0},menu_items:$(".menu-item-container"),side_bar_items:$(".side-icon"),sub_route:"",init:function(){current_route="top-menu"},Exit:function(){$("#episode-page").hide()},showMovie:function(e){this.Exit();var t=$(".episode-grid-item-wrapper"),t=(this.keys.focused_part="grid_part",this.keys.index=e,$(".episode-grid-item-wrapper").removeClass("active"),$("#episode-page-back-button").removeClass("active"),$(t[e]).addClass("active"),current_season.episodes);current_episode=t[e],vod_series_player_page.init(current_episode,"series","episode-page","")},hoverSideBar:function(e){show_keyboard||(this.keys.focused_part="side_bar",this.hoverSideBarItem(e),$("#left-side-bar").addClass("expanded"),$("#side-nav-back-drop").show())},closeSideBar:function(){$("#left-side-bar").removeClass("expanded"),$("#side-nav-back-drop").hide()},hoverSideBarItem:function(e){var t;show_keyboard||((t=this.keys).side_bar_selection=e,t.focused_part="side_bar",current_route="top-menu-page",$(prev_focus_dom).removeClass("active"),$(this.side_bar_items[e]).addClass("active"),prev_focus_dom=this.side_bar_items[e])},hoverMenuItem:function(e){var t;show_keyboard||((t=this.keys).menu_selection=e,t.focused_part="menu_selection",top_menu_page.closeSideBar(),current_route="top-menu-page",$(prev_focus_dom).removeClass("active"),$(this.menu_items[e]).addClass("active"),prev_focus_dom=this.menu_items[e])},showSettings:function(){this.clearBottomColorButtons();var e=this.sub_route;$(page_objects[e]).addClass("hide"),setting_page.init(),this.closeSideBar(),$(".menu-item-container").removeClass("selected")},showSearch:function(){this.clearBottomColorButtons();var e=this.sub_route;$(page_objects[e]).addClass("hide"),search_page.init(),this.closeSideBar(),$(".menu-item-container").removeClass("selected")},showPlaylist:function(){var e=this.sub_route;try{media_player.close()}catch(e){}"playlist-edit-page"===e?playlist_edit_page.goBack():"playlist-page"!==e&&($(page_objects[e]).addClass("hide"),playlist_page.init(),this.closeSideBar(),$(".menu-item-container").removeClass("selected"))},showUserAccount:function(){this.clearBottomColorButtons();var e=this.sub_route;$(page_objects[e]).addClass("hide"),setting_page.showUserAccounts(),this.closeSideBar(),$(".menu-item-container").removeClass("selected")},clearBottomColorButtons:function(){$(".playlist-page-top-right-item").hide(),$(".channel-page-top-right-item").hide(),$(".page-top-right-item").hide()},handleMenuLeftRight:function(e){var t=this.keys;if("menu_selection"===t.focused_part){if(t.menu_selection+=e,t.menu_selection<0)return t.menu_selection=0,void this.hoverSideBar(0);if(t.menu_selection>=this.menu_items.length){if("search-page"==this.sub_route)return void search_page.hoverTopMenu(0);t.menu_selection=this.menu_items.length-1}this.hoverMenuItem(t.menu_selection)}if("side_bar"===t.focused_part&&0<e)switch(this.closeSideBar(),this.sub_route){case"channel-page":switch((t=channel_page.keys).focused_part){case"channel_selection":channel_page.hoverChannel(0);break;case"catch_up_btn":channel_page.hoverCatchUpBtn();break;default:channel_page.hoverCategory(0)}break;case"vod-series-page":switch((t=vod_series_page.keys).focused_part){case"category_selection":vod_series_page.hoverCategory(vod_series_page.category_doms[t.category_selection]);break;case"movie_selection":vod_series_page.hoverMovieItem(vod_series_page.menu_doms[t.menu_selection])}break;case"vod-summary-page":vod_summary_page.hoverButton(vod_summary_page.min_btn_index);break;case"series-summary-page":this.goBack();break;case"playlist-page":playlist_page.hoverAddBtn();break;case"playlist-edit-page":playlist_edit_page.hoverKindItem(playlist_edit_page.keys.kind_selection);break;case"setting-page":setting_page.hoverSettingMenu(setting_page.keys.menu_selection);break;case"search-page":search_page.hoverTopMenu(0);break;case"user-account-page":user_account_page.hoverMenuItem();break;case"catch-up":catchup_page.selectDate(catchup_page.keys.date_selection)}},handleMenuUpDown:function(e){var t;if(!(e<0&&"side_bar"!==this.keys.focused_part))if("side_bar"===this.keys.focused_part)this.keys.side_bar_selection+=e,this.keys.side_bar_selection<0&&(this.keys.side_bar_selection=0),this.keys.side_bar_selection>=this.side_bar_items.length&&(this.keys.side_bar_selection=this.side_bar_items.length-1),this.hoverSideBarItem(this.keys.side_bar_selection);else switch(this.sub_route){case"channel-page":switch((t=channel_page.keys).focused_part){case"channel_selection":channel_page.hoverChannel(channel_page.keys.channel_selection);break;case"catch_up_btn":channel_page.hoverCatchUpBtn();break;default:channel_page.hoverCategory(channel_page.keys.category_selection)}break;case"vod-series-page":switch((t=vod_series_page.keys).focused_part){case"category_selection":vod_series_page.hoverCategory(vod_series_page.category_doms[t.category_selection]);break;case"movie_selection":vod_series_page.hoverMovieItem(vod_series_page.menu_doms[t.menu_selection]);break;case"top_menu_selection":vod_series_page.hoverTopMenu(t.top_menu_selection)}break;case"vod-summary-page":vod_summary_page.hoverButton(vod_summary_page.min_btn_index);break;case"series-summary-page":series_summary_page.hoverButton(series_summary_page.min_btn_index);break;case"playlist-page":playlist_page.hoverPlayListItem(0);break;case"playlist-edit-page":playlist_edit_page.hoverKindItem(playlist_edit_page.keys.kind_selection);break;case"setting-page":setting_page.hoverSettingMenu(setting_page.keys.menu_selection);break;case"search-page":search_page.hoverTopMenu(0);break;case"user-account-page":user_account_page.hoverMenuItem();break;case"catch-up":catchup_page.selectDate(catchup_page.keys.date_selection)}},handleMenuClick:function(){"setting-page"==this.sub_route&&($(".setting-menu-item-wrapper").removeClass("selected"),$(".modal").modal("hide")),$("movie-image-container").hide(),$(".movie-info-wrapper").css("opacity","0");var e=this.keys,t=this.sub_route;switch(e.focused_part){case"menu_selection":if("channel-page"===t&&0!=e.menu_selection){try{media_player.close()}catch(e){}clearInterval(channel_page.progressbar_timer),clearTimeout(channel_page.full_screen_timer),clearTimeout(channel_page.next_channel_timer)}switch("vod-series-page"==t&&clearTimeout(vod_series_page.movie_hover_timer),e.menu_selection){case 0:"channel-page"!==t&&($(page_objects[t]).addClass("hide"),$("#vod-series-page").addClass("hide"),channel_page.init());break;case 1:case 2:var s=1==e.menu_selection?"vod":"series";if("vod-series-page"!==t||"vod-series-page"===t&&vod_series_page.current_movie_type!==s){if($(page_objects[t]).addClass("hide"),"vod-summary-page"===t&&1==e.menu_selection)return void vod_summary_page.goBack();if("series-summary-page"===t&&2==e.menu_selection)return void series_summary_page.goBack();vod_series_page.init(s,null)}break;case 3:3==e.menu_selection&&vod_series_page.init(s="replays",null)}$(".menu-item-container").removeClass("selected"),$(this.menu_items[this.keys.menu_selection]).addClass("selected");break;case"side_bar":if("channel-page"===t){try{media_player.close()}catch(e){}clearInterval(channel_page.progressbar_timer),clearTimeout(channel_page.full_screen_timer),clearTimeout(channel_page.next_channel_timer)}switch(this.clearBottomColorButtons(),e.side_bar_selection){case 0:this.showSearch();break;case 1:this.showSettings();break;case 2:this.showPlaylist();break;case 3:this.showUserAccount()}}},goBack:function(){var e;if("side_bar"==this.keys.focused_part)switch(this.closeSideBar(),this.sub_route){case"channel-page":switch((e=channel_page.keys).focused_part){case"channel_selection":channel_page.hoverChannel(0);break;case"catch_up_btn":channel_page.hoverCatchUpBtn();break;default:channel_page.hoverCategory(0)}break;case"vod-series-page":switch((e=vod_series_page.keys).focused_part){case"category_selection":vod_series_page.hoverCategory(vod_series_page.category_doms[0]);break;case"movie_selection":vod_series_page.hoverMovieItem(vod_series_page.menu_doms[e.menu_selection]);break;case"top_menu_selection":vod_series_page.hoverTopMenu(e.top_menu_selection)}break;case"vod-summary-page":vod_summary_page.hoverButton(vod_summary_page.min_btn_index);break;case"series-summary-page":switch((e=series_summary_page.keys).focused_part){case"season_selection":series_summary_page.hoverSeason(0);break;case"episode_selection":series_summary_page.hoverEpisode(0);break;case"action_btn":series_summary_page.hoverButton(0)}break;case"playlist-page":playlist_page.hoverPlayListItem(0);break;case"playlist-edit-page":playlist_edit_page.hoverKindItem(playlist_edit_page.keys.kind_selection);break;case"setting-page":setting_page.hoverSettingMenu(setting_page.keys.menu_selection);break;case"search-page":search_page.hoverTopMenu(0);break;case"user-account-page":user_account_page.hoverMenuItem()}else turn_off_page.init("top-menu-page")},HandleKey:function(e){switch(e.keyCode){case tvKey.LEFT:this.handleMenuLeftRight(-1);break;case tvKey.RIGHT:this.handleMenuLeftRight(1);break;case tvKey.UP:this.handleMenuUpDown(-1);break;case tvKey.DOWN:this.handleMenuUpDown(1);break;case tvKey.ENTER:this.handleMenuClick();break;case tvKey.RETURN:this.goBack()}}},catchup_page={player:null,sorted_programmes:[],date_doms:[],programme_doms:[],current_programmes:[],stream_id:"",keys:{focused_part:"date_selection",date_selection:0,programme_selection:0},channel:null,is_loading:!1,prev_focus_dom:null,init:function(e,t){this.channel=e,this.stream_id=e.stream_id,showLoader(!0),this.is_loading=!0,$("#vod-series-page").addClass("hide"),$("#movie-image-container").addClass("hide"),$("#epg-page").removeClass("hide"),$("#movie-image-overlay").hide(),$("#epg-title-logo").attr("src",e.stream_icon),$("#epg-channel-title").text(e.name),this.sorted_programmes=this.sortProgrammesByDate(t);var s="";this.sorted_programmes.map(function(e,t){s+='<div class="epg-date-item-container bg-focus1"   onmouseenter="catchup_page.selectDate('+t+')"   onclick="catchup_page.handleMenuClick()">\n   <div class="epg-date-item-day">'+e.day_string+'</div>\n   <div class="epg-date-item-date">'+e.date_string+"</div>\n</div>"}),$("#epg-date-parts").html(s),this.date_doms=$(".epg-date-item-container"),this.keys.focused_part="date_selection",(this.keys.date_selection=0)<this.date_doms.length&&$(this.date_doms[0]).addClass("active"),this.selectDate(0),showLoader(this.is_loading=!1),current_route="catch-up",top_menu_page.sub_route="catch-up"},goBack:function(){var e=this.keys;switch(e.focused_part){case"programme_selection":this.selectDate(e.date_selection);break;case"date_selection":$("#epg-page").addClass("hide"),current_route="vod-series-page",$("#vod-series-page").removeClass("hide"),vod_series_page.hoverMovieItem(vod_series_page.menu_doms[vod_series_page.keys.menu_selection])}},sortProgrammesByDate:function(e){for(var t={},s=moment().format("Y-MM-DD HH:mm:ss"),i=0;i<e.length;i++){if(e[i].start>=s||e[i].stop>=s){console.log("here break",e[i].start,e[i].stop,s);break}var a,o,n=e[i].start.substr(0,10);t[n]?t[n].programmes.push(e[i]):(a=(o=moment(e[i].start)).format("dddd"),o=o.format("MMM D"),t[n]={day_string:a,date_string:o,programmes:[e[i]]})}var r=[];return Object.keys(t).map(function(e){r.push(t[e])}),r},selectDate:function(e){var a,t;this.keys;0<this.sorted_programmes.length&&(this.keys.focused_part="date_selection",this.keys.date_selection=e,a="",this.current_programmes=this.sorted_programmes[e].programmes,this.sorted_programmes[e].programmes.map(function(e,t){var s=e.start,s=s.substr(11),i='<img class="epg-clock-icon" src="'+HOST+'app_src_min/images/clock.png">';a+='<div class="epg-programme-item-container bg-focus1" data-can_play="1"                        onmouseenter="catchup_page.selectProgramme('+t+',false)"                        onclick="catchup_page.selectProgramme('+t+',true)"                    >                       <span class="epg-programme-time">'+s+"</span>"+i+'                       <span class="epg-programme-title">'+getAtob(e.title)+"</span>                    </div>"}),$("#epg-programmes-container").html(a),this.keys.programme_selection=0,this.programme_doms=$(".epg-programme-item-container"),$("#epg-channel-date").text(this.sorted_programmes[e].date_string),t="No Description","string"==typeof this.current_programmes[0].desc&&(t=getAtob(this.current_programmes[0].desc)),$("#epg-programme-desc").text(t),current_route="catch-up",$(prev_focus_dom).removeClass("active"),$(this.date_doms[e]).addClass("active"),prev_focus_dom=this.date_doms[e],moveScrollPosition($("#epg-date-parts"),this.date_doms[e],"vertical",!1))},selectProgramme:function(e,t){this.keys.focused_part="programme_selection",this.keys.programme_selection=e,$(prev_focus_dom).removeClass("active"),$(this.programme_doms[e]).addClass("active"),prev_focus_dom=this.programme_doms[e],current_route="catch-up";var s="";"string"==typeof this.current_programmes[e].desc&&(s=getAtob(this.current_programmes[e].desc)),$("#epg-programme-desc").text(s),moveScrollPosition($("#epg-programmes-container"),this.programme_doms[e],"vertical",!1),t&&this.playVideo()},playVideo:function(){var e=this.keys,e=this.programme_doms[e.programme_selection];0==$(e).data("can_play")?showToast("Sorry","No archive video available for this programme"):($("#epg-page").addClass("hide"),vod_series_player_page.init(this.channel,"epg","catch-up","",!0))},handleMenuClick:function(){"programme_selection"===this.keys.focused_part&&this.playVideo()},handleMenusUpDown:function(e){var t=this.keys;switch(t.focused_part){case"date_selection":t.date_selection+=e,t.date_selection<0?(top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection),t.date_selection=0):(t.date_selection>=this.date_doms.length&&(t.date_selection=this.date_doms.length-1),this.selectDate(t.date_selection),t.programme_selection=0);break;case"programme_selection":t.programme_selection+=e,t.programme_selection<0?(top_menu_page.hoverMenuItem(top_menu_page.keys.menu_selection),t.programme_selection=0):(t.programme_selection>=this.programme_doms.length&&(t.programme_selection=this.programme_doms.length-1),this.selectProgramme(t.programme_selection,!1))}},handleMenuLeftRight:function(e){var t=this.keys;switch(t.focused_part){case"date_selection":0<e?this.selectProgramme(t.programme_selection,!1):e<0&&top_menu_page.hoverSideBar(0);break;case"programme_selection":e<0&&this.selectDate(t.date_selection)}},HandleKey:function(e){if(this.is_loading){if(e.keyCode!=tvKey.RETURN)return;this.goBack(),showLoader(!1),console.log("return from catch up")}switch(e.keyCode){case tvKey.RIGHT:catchup_page.handleMenuLeftRight(1);break;case tvKey.LEFT:catchup_page.handleMenuLeftRight(-1);break;case tvKey.DOWN:catchup_page.handleMenusUpDown(1);break;case tvKey.UP:catchup_page.handleMenusUpDown(-1);break;case tvKey.ENTER:catchup_page.handleMenuClick();break;case tvKey.RETURN:this.goBack()}}},init=function(){try{window.navigator.userAgent.toLowerCase().includes("web0s")&&(platform="lg")}catch(e){}initKeys(),initPlayer(),settings.initFromLocal();var e=localStorage.getItem(storage_id+"parent_account_password");parent_account_password=null!=e?e:parent_account_password,$(document).ready(function(){"samsung"===platform?($("#vod-series-player-video-lg").hide(),$("#channel-page-video-lg").hide()):"lg"===platform&&($("#vod-series-player-video").hide(),$("#channel-page-video").hide()),login_page.getPlayListDetail()}),"samsung"===platform?document.addEventListener("visibilitychange",function(){document.hidden?webapis.avplay.suspend():webapis.avplay.restore()}):"lg"===platform&&document.addEventListener("keyboardStateChange",keyboardVisibilityChange,!1),document.addEventListener("keydown",function(e){if("samsung"===platform)switch(e.keyCode==tvKey.EXIT&&tizen.application.getCurrentApplication().exit(),e.keyCode){case 65376:case 65385:return void $("input").blur()}if(!app_loading)switch(current_route){case"login-page":login_page.HandleKey(e);break;case"home-page":home_page.HandleKey(e);break;case"channel-page":channel_page.HandleKey(e);break;case"vod-series-page":vod_series_page.HandleKey(e);break;case"vod-summary-page":vod_summary_page.HandleKey(e);break;case"vod-series-player-video":vod_series_player_page.HandleKey(e);break;case"trailer-page":trailer_page.HandleKey(e);break;case"seasons-page":seasons_variable.HandleKey(e);break;case"episode-page":episode_variable.HandleKey(e);break;case"series-summary-page":series_summary_page.HandleKey(e);break;case"playlist-page":playlist_page.HandleKey(e);break;case"setting-page":setting_page.HandleKey(e);break;case"parent-confirm-page":parent_confirm_page.HandleKey(e);break;case"turn-off-page":turn_off_page.HandleKey(e);break;case"activation-page":activation_page.HandleKey(e);break;case"user-account-page":user_account_page.HandleKey(e);break;case"playlist-edit-page":playlist_edit_page.HandleKey(e);break;case"top-menu-page":top_menu_page.HandleKey(e);break;case"search-page":search_page.HandleKey(e);break;case"catch-up":catchup_page.HandleKey(e)}}),$(".subtitle-container").css({"font-size":settings.subtitle_size/16+"rem"})};function keyboardVisibilityChange(e){e.detail.visibility?show_keyboard=!0:(show_keyboard=!1,$("input").blur())}window.onload=init();